{"errors":[],"warnings":[],"version":"1.12.9","hash":"422ae81c2af02a69d11a","time":3299,"publicPath":"","assetsByChunkName":{"charge":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\charge.218ffa544941c294e5bc.bundle.js","doctor_info":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\doctor_info.220a9bc99d59c676916e.bundle.js","floor_detail":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\floor_detail.d4086be97646081ef9c7.bundle.js","forget":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\forget.df6fd46b530d4a0394e7.bundle.js","guidance":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\guidance.734dcb06f5fac7a19127.bundle.js","guidance_disease":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\guidance_disease.5e080610d905c3c2cb7f.bundle.js","guidance_result":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\guidance_result.eac8b37fc1cf69aae19b.bundle.js","home":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\home.40872a806e863f9efd70.bundle.js","home_info":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\home_info.0964f5472c12d861f8e2.bundle.js","hospitalization":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hospitalization.acdf8686de3a0e780171.bundle.js","hsp_account":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hsp_account.aa816ec7d56116a3363c.bundle.js","hsp_all_bill":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hsp_all_bill.538fa69799a1126237a5.bundle.js","hsp_daily_bill":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hsp_daily_bill.81d986a9ac4e15afc484.bundle.js","hsp_foregift":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hsp_foregift.8de0ca771c35a0534895.bundle.js","hsp_home":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hsp_home.0222b16312243d6c4977.bundle.js","hsp_sign_in":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hsp_sign_in.4e3a02f5d7798080982b.bundle.js","info_list":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\info_list.953bb6a96d57d009875b.bundle.js","intro_dep":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\intro_dep.c2f56fd9ae4919507f06.bundle.js","intro_doc":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\intro_doc.51f1726611be0dbfdc7f.bundle.js","my_register":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\my_register.752a32300a4232c8c2a5.bundle.js","my_visitors":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\my_visitors.429d8a5fbe22c4027aac.bundle.js","place_order":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\place_order.17a9865ac9ba3dd76e5c.bundle.js","press_conference":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\press_conference.dcc298379bb1e4f12f5e.bundle.js","register_info":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\register_info.71b9740bebf96a46c462.bundle.js","register_result":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\register_result.4ef4220cb74eed91488c.bundle.js","report_detail":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\report_detail.774aaecaf372b04f8c87.bundle.js","reserve_result":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\reserve_result.c93c8ae61ea9da0812dd.bundle.js","search_report":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\search_report.6b17e84eb8ea95767cb4.bundle.js","select_department":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\select_department.c7139d8c514c5856d988.bundle.js","select_doctor":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\select_doctor.b10a27a297617fdeb2fe.bundle.js","sign_in":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\sign_in.238cf4733dd72f0e5fce.bundle.js","sign_up":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\sign_up.9729c1d27886e0fa6ebe.bundle.js","stop_inform":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\stop_inform.7863a0eade6c8a15eab3.bundle.js","validate":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\validate.ebb3eabedb89ceabeef6.bundle.js"},"assets":[{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\intro_dep.c2f56fd9ae4919507f06.bundle.js","size":6190,"chunks":[17],"chunkNames":["intro_dep"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\charge.218ffa544941c294e5bc.bundle.js","size":13099,"chunks":[0],"chunkNames":["charge"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\floor_detail.d4086be97646081ef9c7.bundle.js","size":5679,"chunks":[2],"chunkNames":["floor_detail"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\forget.df6fd46b530d4a0394e7.bundle.js","size":13748,"chunks":[3],"chunkNames":["forget"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\guidance.734dcb06f5fac7a19127.bundle.js","size":7283,"chunks":[4],"chunkNames":["guidance"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\guidance_disease.5e080610d905c3c2cb7f.bundle.js","size":7509,"chunks":[5],"chunkNames":["guidance_disease"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\guidance_result.eac8b37fc1cf69aae19b.bundle.js","size":8757,"chunks":[6],"chunkNames":["guidance_result"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\home.40872a806e863f9efd70.bundle.js","size":6980,"chunks":[7],"chunkNames":["home"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\home_info.0964f5472c12d861f8e2.bundle.js","size":7777,"chunks":[8],"chunkNames":["home_info"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hospitalization.acdf8686de3a0e780171.bundle.js","size":12049,"chunks":[9],"chunkNames":["hospitalization"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hsp_account.aa816ec7d56116a3363c.bundle.js","size":9098,"chunks":[10],"chunkNames":["hsp_account"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hsp_all_bill.538fa69799a1126237a5.bundle.js","size":9613,"chunks":[11],"chunkNames":["hsp_all_bill"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hsp_daily_bill.81d986a9ac4e15afc484.bundle.js","size":11755,"chunks":[12],"chunkNames":["hsp_daily_bill"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hsp_foregift.8de0ca771c35a0534895.bundle.js","size":9079,"chunks":[13],"chunkNames":["hsp_foregift"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hsp_home.0222b16312243d6c4977.bundle.js","size":8478,"chunks":[14],"chunkNames":["hsp_home"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hsp_sign_in.4e3a02f5d7798080982b.bundle.js","size":11320,"chunks":[15],"chunkNames":["hsp_sign_in"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\info_list.953bb6a96d57d009875b.bundle.js","size":11901,"chunks":[16],"chunkNames":["info_list"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\doctor_info.220a9bc99d59c676916e.bundle.js","size":11540,"chunks":[1],"chunkNames":["doctor_info"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\intro_doc.51f1726611be0dbfdc7f.bundle.js","size":9184,"chunks":[18],"chunkNames":["intro_doc"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\my_register.752a32300a4232c8c2a5.bundle.js","size":12464,"chunks":[19],"chunkNames":["my_register"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\my_visitors.429d8a5fbe22c4027aac.bundle.js","size":18050,"chunks":[20],"chunkNames":["my_visitors"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\place_order.17a9865ac9ba3dd76e5c.bundle.js","size":13348,"chunks":[21],"chunkNames":["place_order"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\press_conference.dcc298379bb1e4f12f5e.bundle.js","size":6160,"chunks":[22],"chunkNames":["press_conference"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\register_info.71b9740bebf96a46c462.bundle.js","size":12486,"chunks":[23],"chunkNames":["register_info"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\register_result.4ef4220cb74eed91488c.bundle.js","size":11459,"chunks":[24],"chunkNames":["register_result"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\report_detail.774aaecaf372b04f8c87.bundle.js","size":7688,"chunks":[25],"chunkNames":["report_detail"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\reserve_result.c93c8ae61ea9da0812dd.bundle.js","size":7025,"chunks":[26],"chunkNames":["reserve_result"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\search_report.6b17e84eb8ea95767cb4.bundle.js","size":10294,"chunks":[27],"chunkNames":["search_report"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\select_department.c7139d8c514c5856d988.bundle.js","size":30751,"chunks":[28],"chunkNames":["select_department"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\select_doctor.b10a27a297617fdeb2fe.bundle.js","size":11250,"chunks":[29],"chunkNames":["select_doctor"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\sign_in.238cf4733dd72f0e5fce.bundle.js","size":14934,"chunks":[30],"chunkNames":["sign_in"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\sign_up.9729c1d27886e0fa6ebe.bundle.js","size":8531,"chunks":[31],"chunkNames":["sign_up"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\stop_inform.7863a0eade6c8a15eab3.bundle.js","size":6762,"chunks":[32],"chunkNames":["stop_inform"],"emitted":true},{"name":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\validate.ebb3eabedb89ceabeef6.bundle.js","size":16352,"chunks":[33],"chunkNames":["validate"],"emitted":true}],"chunks":[{"id":0,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":24781,"names":["charge"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\charge.218ffa544941c294e5bc.bundle.js"],"hash":"218ffa544941c294e5bc","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\charge.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\charge.js","moduleName":"./src/main/webapp/assets/glwx/js/charge.js","loc":"","name":"charge","reasons":[]}]},{"id":1,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":21952,"names":["doctor_info"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\doctor_info.220a9bc99d59c676916e.bundle.js"],"hash":"220a9bc99d59c676916e","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\doctor_info.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\doctor_info.js","moduleName":"./src/main/webapp/assets/glwx/js/doctor_info.js","loc":"","name":"doctor_info","reasons":[]}]},{"id":2,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":9571,"names":["floor_detail"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\floor_detail.d4086be97646081ef9c7.bundle.js"],"hash":"d4086be97646081ef9c7","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\floor_detail.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\floor_detail.js","moduleName":"./src/main/webapp/assets/glwx/js/floor_detail.js","loc":"","name":"floor_detail","reasons":[]}]},{"id":3,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":25035,"names":["forget"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\forget.df6fd46b530d4a0394e7.bundle.js"],"hash":"df6fd46b530d4a0394e7","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\forget.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\forget.js","moduleName":"./src/main/webapp/assets/glwx/js/forget.js","loc":"","name":"forget","reasons":[]}]},{"id":4,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":12271,"names":["guidance"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\guidance.734dcb06f5fac7a19127.bundle.js"],"hash":"734dcb06f5fac7a19127","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\guidance.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\guidance.js","moduleName":"./src/main/webapp/assets/glwx/js/guidance.js","loc":"","name":"guidance","reasons":[]}]},{"id":5,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":13061,"names":["guidance_disease"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\guidance_disease.5e080610d905c3c2cb7f.bundle.js"],"hash":"5e080610d905c3c2cb7f","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\guidance_disease.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\guidance_disease.js","moduleName":"./src/main/webapp/assets/glwx/js/guidance_disease.js","loc":"","name":"guidance_disease","reasons":[]}]},{"id":6,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":16011,"names":["guidance_result"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\guidance_result.eac8b37fc1cf69aae19b.bundle.js"],"hash":"eac8b37fc1cf69aae19b","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\guidance_result.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\guidance_result.js","moduleName":"./src/main/webapp/assets/glwx/js/guidance_result.js","loc":"","name":"guidance_result","reasons":[]}]},{"id":7,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":12540,"names":["home"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\home.40872a806e863f9efd70.bundle.js"],"hash":"40872a806e863f9efd70","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\home.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\home.js","moduleName":"./src/main/webapp/assets/glwx/js/home.js","loc":"","name":"home","reasons":[]}]},{"id":8,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":13860,"names":["home_info"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\home_info.0964f5472c12d861f8e2.bundle.js"],"hash":"0964f5472c12d861f8e2","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\home_info.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\home_info.js","moduleName":"./src/main/webapp/assets/glwx/js/home_info.js","loc":"","name":"home_info","reasons":[]}]},{"id":9,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":24522,"names":["hospitalization"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hospitalization.acdf8686de3a0e780171.bundle.js"],"hash":"acdf8686de3a0e780171","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hospitalization.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hospitalization.js","moduleName":"./src/main/webapp/assets/glwx/js/hospitalization.js","loc":"","name":"hospitalization","reasons":[]}]},{"id":10,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":15785,"names":["hsp_account"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hsp_account.aa816ec7d56116a3363c.bundle.js"],"hash":"aa816ec7d56116a3363c","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_account.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_account.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_account.js","loc":"","name":"hsp_account","reasons":[]}]},{"id":11,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":16913,"names":["hsp_all_bill"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hsp_all_bill.538fa69799a1126237a5.bundle.js"],"hash":"538fa69799a1126237a5","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_all_bill.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_all_bill.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_all_bill.js","loc":"","name":"hsp_all_bill","reasons":[]}]},{"id":12,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":20593,"names":["hsp_daily_bill"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hsp_daily_bill.81d986a9ac4e15afc484.bundle.js"],"hash":"81d986a9ac4e15afc484","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_daily_bill.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_daily_bill.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_daily_bill.js","loc":"","name":"hsp_daily_bill","reasons":[]}]},{"id":13,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":15655,"names":["hsp_foregift"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hsp_foregift.8de0ca771c35a0534895.bundle.js"],"hash":"8de0ca771c35a0534895","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_foregift.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_foregift.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_foregift.js","loc":"","name":"hsp_foregift","reasons":[]}]},{"id":14,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":14591,"names":["hsp_home"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hsp_home.0222b16312243d6c4977.bundle.js"],"hash":"0222b16312243d6c4977","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_home.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_home.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_home.js","loc":"","name":"hsp_home","reasons":[]}]},{"id":15,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":21683,"names":["hsp_sign_in"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\hsp_sign_in.4e3a02f5d7798080982b.bundle.js"],"hash":"4e3a02f5d7798080982b","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_sign_in.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_sign_in.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_sign_in.js","loc":"","name":"hsp_sign_in","reasons":[]}]},{"id":16,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":21699,"names":["info_list"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\info_list.953bb6a96d57d009875b.bundle.js"],"hash":"953bb6a96d57d009875b","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\info_list.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\info_list.js","moduleName":"./src/main/webapp/assets/glwx/js/info_list.js","loc":"","name":"info_list","reasons":[]}]},{"id":17,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":10550,"names":["intro_dep"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\intro_dep.c2f56fd9ae4919507f06.bundle.js"],"hash":"c2f56fd9ae4919507f06","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\intro_dep.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\intro_dep.js","moduleName":"./src/main/webapp/assets/glwx/js/intro_dep.js","loc":"","name":"intro_dep","reasons":[]}]},{"id":18,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":16518,"names":["intro_doc"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\intro_doc.51f1726611be0dbfdc7f.bundle.js"],"hash":"51f1726611be0dbfdc7f","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\intro_doc.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\intro_doc.js","moduleName":"./src/main/webapp/assets/glwx/js/intro_doc.js","loc":"","name":"intro_doc","reasons":[]}]},{"id":19,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":23455,"names":["my_register"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\my_register.752a32300a4232c8c2a5.bundle.js"],"hash":"752a32300a4232c8c2a5","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_register.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_register.js","moduleName":"./src/main/webapp/assets/glwx/js/my_register.js","loc":"","name":"my_register","reasons":[]}]},{"id":20,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":36502,"names":["my_visitors"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\my_visitors.429d8a5fbe22c4027aac.bundle.js"],"hash":"429d8a5fbe22c4027aac","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_visitors.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_visitors.js","moduleName":"./src/main/webapp/assets/glwx/js/my_visitors.js","loc":"","name":"my_visitors","reasons":[]}]},{"id":21,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":25359,"names":["place_order"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\place_order.17a9865ac9ba3dd76e5c.bundle.js"],"hash":"17a9865ac9ba3dd76e5c","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\place_order.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\place_order.js","moduleName":"./src/main/webapp/assets/glwx/js/place_order.js","loc":"","name":"place_order","reasons":[]}]},{"id":22,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":10080,"names":["press_conference"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\press_conference.dcc298379bb1e4f12f5e.bundle.js"],"hash":"dcc298379bb1e4f12f5e","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\press_conference.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\press_conference.js","moduleName":"./src/main/webapp/assets/glwx/js/press_conference.js","loc":"","name":"press_conference","reasons":[]}]},{"id":23,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":24108,"names":["register_info"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\register_info.71b9740bebf96a46c462.bundle.js"],"hash":"71b9740bebf96a46c462","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\register_info.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\register_info.js","moduleName":"./src/main/webapp/assets/glwx/js/register_info.js","loc":"","name":"register_info","reasons":[]}]},{"id":24,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":22212,"names":["register_result"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\register_result.4ef4220cb74eed91488c.bundle.js"],"hash":"4ef4220cb74eed91488c","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\register_result.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\register_result.js","moduleName":"./src/main/webapp/assets/glwx/js/register_result.js","loc":"","name":"register_result","reasons":[]}]},{"id":25,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":13143,"names":["report_detail"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\report_detail.774aaecaf372b04f8c87.bundle.js"],"hash":"774aaecaf372b04f8c87","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\report_detail.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\report_detail.js","moduleName":"./src/main/webapp/assets/glwx/js/report_detail.js","loc":"","name":"report_detail","reasons":[]}]},{"id":26,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":12225,"names":["reserve_result"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\reserve_result.c93c8ae61ea9da0812dd.bundle.js"],"hash":"c93c8ae61ea9da0812dd","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\reserve_result.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\reserve_result.js","moduleName":"./src/main/webapp/assets/glwx/js/reserve_result.js","loc":"","name":"reserve_result","reasons":[]}]},{"id":27,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":19655,"names":["search_report"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\search_report.6b17e84eb8ea95767cb4.bundle.js"],"hash":"6b17e84eb8ea95767cb4","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\search_report.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\search_report.js","moduleName":"./src/main/webapp/assets/glwx/js/search_report.js","loc":"","name":"search_report","reasons":[]}]},{"id":28,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":39019,"names":["select_department"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\select_department.c7139d8c514c5856d988.bundle.js"],"hash":"c7139d8c514c5856d988","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_department.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_department.js","moduleName":"./src/main/webapp/assets/glwx/js/select_department.js","loc":"","name":"select_department","reasons":[]}]},{"id":29,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":21917,"names":["select_doctor"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\select_doctor.b10a27a297617fdeb2fe.bundle.js"],"hash":"b10a27a297617fdeb2fe","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_doctor.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_doctor.js","moduleName":"./src/main/webapp/assets/glwx/js/select_doctor.js","loc":"","name":"select_doctor","reasons":[]}]},{"id":30,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":28574,"names":["sign_in"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\sign_in.238cf4733dd72f0e5fce.bundle.js"],"hash":"238cf4733dd72f0e5fce","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\sign_in.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\sign_in.js","moduleName":"./src/main/webapp/assets/glwx/js/sign_in.js","loc":"","name":"sign_in","reasons":[]}]},{"id":31,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":14997,"names":["sign_up"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\sign_up.9729c1d27886e0fa6ebe.bundle.js"],"hash":"9729c1d27886e0fa6ebe","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\sign_up.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\sign_up.js","moduleName":"./src/main/webapp/assets/glwx/js/sign_up.js","loc":"","name":"sign_up","reasons":[]}]},{"id":32,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":11683,"names":["stop_inform"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\stop_inform.7863a0eade6c8a15eab3.bundle.js"],"hash":"7863a0eade6c8a15eab3","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\stop_inform.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\stop_inform.js","moduleName":"./src/main/webapp/assets/glwx/js/stop_inform.js","loc":"","name":"stop_inform","reasons":[]}]},{"id":33,"rendered":true,"initial":true,"entry":true,"extraAsync":false,"size":31683,"names":["validate"],"files":["F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\dest\\js\\validate.ebb3eabedb89ceabeef6.bundle.js"],"hash":"ebb3eabedb89ceabeef6","parents":[],"origins":[{"moduleId":0,"module":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\validate.js","moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\validate.js","moduleName":"./src/main/webapp/assets/glwx/js/validate.js","loc":"","name":"validate","reasons":[]}]}],"modules":[{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\place_order.js","name":"./src/main/webapp/assets/glwx/js/place_order.js","index":34,"index2":34,"size":8703,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[21],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var cookie = require(\"common-libs/cookie\"),\r\n\tbase64 = require(\"common-libs/base64\"),\r\n\tparam = require(\"common-libs/param\"),\r\n\tConfig = require(\"./config\");\r\nrequire(\"common-libs/dateUtils\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.tap\");\r\nrequire(\"common-libs/jquery.alert\");\r\n$(function() {\r\n\tvar transData = param.val(\"transData\"),\r\n\t\toTransData = transData ? JSON.parse(transData) : {},\r\n\t\t$cardWrap = $(\".card-wrap\"),\r\n\t\t$alert = $(\".alert-window\");\r\n\toTransData.imgURL && $(\".doc-img\").on(\"error\", function(event) {\r\n\t\t$(this).attr(\"src\", Config.DEFAULT_DOC_IMG_SRC);\r\n\t}).attr(\"src\", oTransData.imgURL);\r\n\tvar seeTime = oTransData.seeTime,\r\n\t\tvisitTime =  seeTime.length == 1 ? Config.SeeTimeStrings[parseInt(seeTime) - 1] : seeTime;\r\n\t$(\".time\").text(oTransData.clinicDate + \" \" + Config.Weekdays[oTransData.clinicDate.toDate().getDay()] + \" \" + visitTime);\r\n\t$(\".doc-name\").text(oTransData.expertName);\r\n\t$(\".dep-name\").text(oTransData.depName);\r\n\t$(\".hos-name\").text(oTransData.hspName);\r\n\t$(\".charge\").text(oTransData.totalFee);\r\n\t$(\".need-to-know\").on(\"touchend\", function(event){\r\n\t\tlocation.href = \"need_to_know\";\r\n\t});\r\n\tvar cookieIdnum = base64.decode(cookie.get(\"idnum\"));\r\n\t// 切换常用就诊人\r\n\tvar $reserveLayer = $(\".overlayer\"),\r\n\t\t$commonLoading = $(\".loading.visitor-loading\"),\r\n\t\tusersParams = {userID : cookieIdnum},\r\n\t\tbVisitorLoaded = false,\r\n\t\tvisitorLen = 0;\r\n\t$(\".edit-patient\").on(\"touchend\", function(event) {\r\n\t\tlocation.href = \"my_visitors\";\r\n\t});\r\n\t$(\".patient\").tap(function(event, target) {\r\n\t\tvar $patient = $(target);\r\n\t\t$(\".patient.selected\").removeClass(\"selected\");\r\n\t\t$patient.addClass(\"selected\");\r\n\t\tcookie.add(\"select_p_index\", $patient.index(), {expires: 1 / 24 / 60 * 5});\r\n\t\t// 查询新就诊卡\r\n\t\toTransData.bRegister && cardInitial();\r\n\t});\r\n\tif (cookieIdnum) {\r\n\t\t$.ajax({\r\n\t\t\turl : Config.GetDataURL,\r\n\t\t\ttype: \"get\",\r\n\t\t\tdata : {mName:\"searchCommonlyUsers\", pContent: JSON.stringify(usersParams)},\r\n\t\t\tbeforeSend: function() {\r\n\t\t\t\t$commonLoading.show();\r\n\t\t\t},\r\n\t\t\tcomplete : function(data) {\r\n\t\t\t\t// 如果是预约，则提前结束查询\r\n\t\t\t\t!oTransData.bRegister && $commonLoading.hide();\r\n\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar visitors = jsonData.rspData.body,\r\n\t\t\t\t\t\t\tuserSelf = $.grep(visitors, function(i, val) {\r\n\t\t\t\t\t\t\t\treturn val.patientID === cookieIdnum;\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t$visitorTmpl = $(\".patient.template\"),\r\n\t\t\t\t\t\t\t$pureVisitorTmpl = $visitorTmpl.clone(true).removeClass(\"template\");\r\n\t\t\t\t\t\t!userSelf.length && visitors.unshift({\r\n\t\t\t\t\t\t\tuserId : cookieIdnum,\r\n\t\t\t\t\t\t\tpatientName : decodeURIComponent(base64.decode(cookie.get(\"name\"))),\r\n\t\t\t\t\t\t\tpatientID : cookieIdnum,\r\n\t\t\t\t\t\t\tpatientPhoneNum : decodeURIComponent(base64.decode(cookie.get(\"phone\")))\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tvar i = 0,\r\n\t\t\t\t\t\t\tlen = visitors.length;\r\n\t\t\t\t\t\tfor ( ; i < len ; i++ ) {\r\n\t\t\t\t\t\t\tvar visitor = visitors[i],\r\n\t\t\t\t\t\t\t\t$visitor = $pureVisitorTmpl.clone(true);\r\n\t\t\t\t\t\t\t// 今日取号的情况\r\n\t\t\t\t\t\t\tif (oTransData.typeId === Config.RegisterType.FETCH && oTransData.idNo !== visitor.patientID) {\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t$visitor.find(\".patient-name\").text(visitor.patientName)\r\n\t\t\t\t\t\t\t\t.end().data(\"visitorInfo\", visitor).insertBefore($visitorTmpl);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(\".patient\").eq(cookie.get(\"select_p_index\") || 0).addClass(\"selected\");\r\n\t\t\t\t\t\tbVisitorLoaded = true;\r\n\t\t\t\t\t\tvisitorLen = len;\r\n\t\t\t\t\t\toTransData.bRegister && cardInitial(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t// 选择卡号\r\n\tif (oTransData.bRegister) {\r\n\t\t$(\".register-unique\").show();\r\n\t\tvar $cardsWindow = $(\".cards-window\"),\r\n\t\t\t$noCard = $(\".no-card\"),\r\n\t\t\t$cardInfo = $(\".card-info\"),\r\n\t\t\t$cardContent = $(\".card-content\"),\r\n\t\t\t$prompt = $(\".alert-wrap.prompt\"),\r\n\t\t\t$unsupported = $(\".alert-wrap.unsupported\"),\r\n\t\t\tcardAjax = null,\r\n\t\t\tbCardsSearched = false,\r\n\t\t\tcardsParams = {searchPath : \"3\", hospitalCode: Config.HSPCODE};\r\n\t\t$prompt.bindTouchHandler({\r\n\t\t\t\".confirm\": function(event) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\t$prompt.close();\r\n\t\t\t}\r\n\t\t});\r\n\t\t$unsupported.bindTouchHandler({\r\n\t\t\t\".confirm\": function(event) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\t$unsupported.close();\r\n\t\t\t}\r\n\t\t});\r\n\t\t$(\".card-content\").tap(function(event, target) {\r\n\t\t\t!$(target).is(\".disabled\") && bCardsSearched && $cardsWindow.show();\r\n\t\t});\r\n\t\t$cardsWindow.bindTouchHandler({\r\n\t\t\t\".layer, .cancel\": function(event) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\t$cardsWindow.hide();\r\n\t\t\t},\r\n\t\t\t\".confirm\": function(event) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tvar $card = $(\".card.selected\");\r\n\t\t\t\tif ($card.length) {\r\n\t\t\t\t\tvar cardInfo = $card.data(\"cardInfo\");\r\n\t\t\t\t\t$cardInfo.data(\"cardInfo\", cardInfo)\r\n\t\t\t\t\t\t.children(\".card-type\").text(cardInfo.cardName)\r\n\t\t\t\t\t\t.end().children(\".card-no\").text(cardInfo.cardNo);\r\n\t\t\t\t}\r\n\t\t\t\t$cardsWindow.hide();\r\n\t\t\t}\r\n\t\t});\r\n\t\t$(\".card\").tap(function(event, target) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\t$(\".card.selected\").removeClass(\"selected\");\r\n\t\t\t$(target).addClass(\"selected\");\r\n\t\t});\r\n\t\tfunction cardInitial(init) {\r\n\t\t\tbCardsSearched = false;\r\n\t\t\tcardAjax && cardAjax.abort();\r\n\t\t\tcardsParams.userId = $(\".patient.selected\").data(\"visitorInfo\").patientID;\r\n\t\t\tcardAjax = $.ajax({\r\n\t\t\t\turl : Config.GetDataURL,\r\n\t\t\t\ttype: \"get\",\r\n\t\t\t\tdata : {mName:\"searchCardNo\", pContent: JSON.stringify(cardsParams)},\r\n\t\t\t\tbeforeSend: function() {\r\n\t\t\t\t\t!init && $commonLoading.show();\r\n\t\t\t\t\tif (!init) {\r\n\t\t\t\t\t\t$cardContent.addClass(\"disabled\");\r\n\t\t\t\t\t\t// 重置卡信息\r\n\t\t\t\t\t\t// 清空卡\r\n\t\t\t\t\t\t$(\".card\").not(\".template\").remove();\r\n\t\t\t\t\t\t$cardInfo.children(\".card-type\").text(\"\")\r\n\t\t\t\t\t\t\t.end().children(\".card-no\").text(\"\")\r\n\t\t\t\t\t\t\t.end().data(\"cardInfo\", null);\r\n\t\t\t\t\t\t// 重置选择状态\r\n\t\t\t\t\t\t$noCard.hide();\r\n\t\t\t\t\t\t$(\".select-card\").show();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcomplete : function(data, textStatus) {\r\n\t\t\t\t\tcardAjax = null;\r\n\t\t\t\t\tbCardsSearched = true;\r\n\t\t\t\t\t$commonLoading.hide();\r\n\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\tif (textStatus !== \"abort\") {\r\n\t\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t$noCard.add($(\".warning\")).show();\r\n\t\t\t\t\t\t\t$prompt.open();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar cards = jsonData.rspData.body,\r\n\t\t\t\t\t\t\t\ti = 0,\r\n\t\t\t\t\t\t\t\tvalidCards = [],\r\n\t\t\t\t\t\t\t\tlen = cards.length;\r\n\t\t\t\t\t\t\t$cardContent.toggleClass(\"disabled\", !len);\r\n\t\t\t\t\t\t\t$(\".warning\").toggle(!len);\r\n\t\t\t\t\t\t\tif (len) {\r\n\t\t\t\t\t\t\t\tvar $cardTmpl = $(\".card.template\"),\r\n\t\t\t\t\t\t\t\t\t$pureCardTmpl = $cardTmpl.clone(true).removeClass(\"template\");\r\n\t\t\t\t\t\t\t\tfor ( ; i < len ; i++ ) {\r\n\t\t\t\t\t\t\t\t\tvar card = cards[i],\r\n\t\t\t\t\t\t\t\t\t\t$card = $pureCardTmpl.clone(true);\r\n\t\t\t\t\t\t\t\t\tif (+card.siFlag) {\r\n\t\t\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t!validCards.length && $card.addClass(\"selected\");\r\n\t\t\t\t\t\t\t\t\t// guarderIdNo\r\n\t\t\t\t\t\t\t\t\t$card.find(\".card-no\").text(card.cardNo)\r\n\t\t\t\t\t\t\t\t\t\t.end().data(\"cardInfo\", card).insertBefore($cardTmpl);\r\n\t\t\t\t\t\t\t\t\tvalidCards.push(card);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (validCards.length) {\r\n\t\t\t\t\t\t\t\t\t$(\".select-card\").hide();\r\n\t\t\t\t\t\t\t\t\t$(\".card-type\").text(validCards[0].cardName);\r\n\t\t\t\t\t\t\t\t\t$cardInfo.find(\".card-no\").text(validCards[0].cardNo)\r\n\t\t\t\t\t\t\t\t\t\t.end().data(\"cardInfo\", validCards[0]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$prompt.open();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\t}\r\n\t$(\".reserve-btn\").tap(function(event, target) {\r\n\t\tif (!bVisitorLoaded || (oTransData.bRegister && cardAjax)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar $this = $(target),\r\n\t\t\tvisitorInfo = $(\".patient.selected\").data(\"visitorInfo\"),\r\n\t\t\tidnum = visitorInfo.patientID,\r\n\t\t\tname = visitorInfo.patientName,\r\n\t\t\torderParams = {\r\n\t\t\t\thospitalCode: oTransData.hspCode,\r\n\t\t\t\tuserId: idnum,\r\n\t\t\t\tscheduFlow: oTransData.scheduFlow,\r\n\t\t\t\toprUserId: cookieIdnum,\r\n\t\t\t\tsectionId: oTransData.sectionId,\r\n\t\t\t\ttypeId: oTransData.typeId,\r\n\t\t\t\treservationFrom: oTransData.reservationFrom\r\n\t\t\t};\r\n\t\tif (oTransData.bRegister) {\r\n\t\t\t// 挂号处理\r\n\t\t\tcardInfo = $cardInfo.data(\"cardInfo\");\r\n\t\t\tif (cardInfo) {\r\n\t\t\t\tif (+cardInfo.siFlag) {\r\n\t\t\t\t\t$unsupported.open();\r\n\t\t\t\t} else {\r\n\t\t\t\t\torderParams.cardNo = cardInfo.cardNo;\r\n\t\t\t\t\torderParams.cardNoType = cardInfo.cardNoType;\r\n\t\t\t\t\tlocation.href = \"register_result?transData=\" + encodeURIComponent(JSON.stringify(orderParams));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t$prompt.open();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\torderParams.seeTime = oTransData.seeTime;\r\n\t\t\tlocation.href = \"reserve_result?transData=\" + encodeURIComponent(JSON.stringify(orderParams));\r\n\t\t}\r\n\t});\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_daily_bill.js","name":"./src/main/webapp/assets/glwx/js/hsp_daily_bill.js","index":24,"index2":24,"size":6300,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[12],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var param = require(\"common-libs/param\"),\r\n\tstore = require(\"common-libs/storage\"),\r\n\tConfig = require(\"./config\");\r\n// load built-in js Object extensions\r\nrequire(\"common-libs/dateUtils\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.tap\");\r\nrequire(\"common-libs/jquery.alert\");\r\n$(function() {\r\n\tvar pltId = param.val(\"pltId\");\r\n\tif (pltId) {\r\n\t\t$(\".navbar\").children(\"#back\").tap(function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\thistory.go(-1);\r\n\t\t}).end().show();\r\n\t}\r\n\t// 数据读取\r\n\tvar\tdataStr = store.get(Config.app),\r\n\t\tappData = dataStr ? JSON.parse(decodeURIComponent(dataStr)) : {},\r\n\t\tzyData = appData.zyData || {},\r\n\t\tzyUsers = zyData.zyUsers || {},\r\n\t\tcurrUser = zyData.currUser;\r\n\tif ((zyInfo = zyUsers[currUser])) {\r\n\t\t// 填充住院用户信息\r\n\t\t$(\".name\").text(zyInfo.name);\r\n\t\t$(\".area\").text(zyInfo.areaName + \"/\" + zyInfo.sickBed + \"床\");\r\n\t\t$(\".time\").text(zyInfo.zyDate);\r\n\t\t$(\".user-info\").children(\".switch-user\").tap(function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tlocation.href = \"hsp_account?pltId=\" + pltId;\r\n\t\t}).end().show();\r\n\t\tvar searchParams = {\r\n\t\t\thospitalCode: Config.HSPCODE,\r\n\t\t\tzyFlow: zyInfo.zyFlow\r\n\t\t};\r\n\t\t// 时间控件加载\r\n\t\tvar today = new Date(),\r\n\t\t\ttodayMills = +today,\r\n\t\t\toneDayMills = 864e+5,\r\n\t\t\tthisYear = today.getFullYear(),\r\n\t\t\tthisMonth = today.getMonth() + 1,\r\n\t\t\tthisDate = today.getDate(),\r\n\t\t\ti = 0;\r\n\t\tvar $year = $(\".select-year\"),\r\n\t\t\t$month = $(\".select-month\"),\r\n\t\t\t$date = $(\".select-date\");\r\n\t\twhile(i++ < 7) {\r\n\t\t\t$(\"<option></option>\").text(thisYear - i + 1).appendTo($year);\r\n\t\t}\r\n\t\tvar m_days = [31, 28 + (isLeapYear(thisYear) ? 1 : 0), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\r\n\t\t\tj = 0,\r\n\t\t\tdays = m_days[thisMonth - 1];\r\n\t\twhile (j++ < days) {\r\n\t\t\t$(\"<option></option>\").addClass(\"date-opt\").text(j).appendTo($date);\r\n\t\t}\r\n\t\tfunction isLeapYear(year) {\r\n\t\t\treturn year % 400 === 0 || (year % 100 !== 0 && year % 4 === 0);\r\n\t\t}\r\n\t\t$year.add($month).on(\"change\", function(event) {\r\n\t\t\tvar year = +$year.val(),\r\n\t\t\t\tmonth = +$month.val(),\r\n\t\t\t\tcurr_m_days = [31, 28 + (isLeapYear(year) ? 1 : 0), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\r\n\t\t\t\tcurr_days = m_days[month - 1];\r\n\t\t\tif (curr_days !== days) {\r\n\t\t\t\tdays = curr_days;\r\n\t\t\t\t$(\".date-opt\").not(\".default\").remove();\r\n\t\t\t\tvar i = 0;\r\n\t\t\t\twhile(i++ < days) {\r\n\t\t\t\t\t$(\"<option></option>\").addClass(\"date-opt\").text(i).appendTo($date);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar $loading = $(\".loading\"),\r\n\t\t\t$alert = $(\".alert-window\"),\r\n\t\t\t$invalid = $(\".alert-wrap.input-invalid\");\r\n\t\t$invalid.bindTouchHandler(\".confirm\", function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\t$invalid.close();\r\n\t\t});\r\n\t\t$(\".search-btn\").on(\"touchend\", function(event) {\r\n\t\t\tvar $selectedDefault = $(\".default\").filter(function() {\r\n\t\t\t\treturn $(this).prop(\"selected\");\r\n\t\t\t})\r\n\t\t\tvar canSubmit = !$selectedDefault.length;\r\n\t\t\tif (canSubmit) {\r\n\t\t\t\tvar beginDate = new Date();\r\n\t\t\t\tbeginDate.setDate($date.val());\r\n\t\t\t\tbeginDate.setMonth($month.val() - 1);\r\n\t\t\t\tbeginDate.setFullYear($year.val());\r\n\t\t\t\tsearchParams.beginDate = beginDate.format(\"yyyy-mm-dd\");\r\n\t\t\t\tvar endDate = new Date(beginDate.getTime() + 864e+5);\r\n\t\t\t\tsearchParams.endDate = endDate.format(\"yyyy-mm-dd\");\r\n\t\t\t\t$(\".detail-wrap\").hide();\r\n\t\t\t\t$(\".item.template\").siblings().remove();\r\n\t\t\t\t$(\".count-item\").children(\"span\").text(\"\");\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl : Config.GetDataURL,\r\n\t\t\t\t\ttype: \"get\",\r\n\t\t\t\t\tdata : {mName:\"getZYBillDetailList\", pContent: JSON.stringify(searchParams)},\r\n\t\t\t\t\tbeforeSend: function() {\r\n\t\t\t\t\t\t$loading.show();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete : function(data) {\r\n\t\t\t\t\t\t$loading.hide();\r\n\t\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$(\".search-wrap\").hide();\r\n\t\t\t\t\t\t\t\tvar billInfo = jsonData.rspData,\r\n\t\t\t\t\t\t\t\t\titems = billInfo.body,\r\n\t\t\t\t\t\t\t\t\ti = 0,\r\n\t\t\t\t\t\t\t\t\tlen = items.length,\r\n\t\t\t\t\t\t\t\t\t$itemTmpl = $(\".item.template\"),\r\n\t\t\t\t\t\t\t\t\t$pureItemTmpl = $itemTmpl.clone().removeClass(\"template\");\r\n\t\t\t\t\t\t\t\t$(\".area\").text(billInfo.areaName);\r\n\t\t\t\t\t\t\t\t$(\".name\").text(billInfo.name || oTransData.name);\r\n\t\t\t\t\t\t\t\t$(\".code\").text(zyInfo.zyFlow);\r\n\t\t\t\t\t\t\t\t$(\".position\").text(billInfo.sickBed);\r\n\t\t\t\t\t\t\t\t$(\".count\").text(billInfo.curDateFee + \"元\");\r\n\t\t\t\t\t\t\t\t$(\".sum\").text(billInfo.totalFee + \"元\");\r\n\t\t\t\t\t\t\t\t$(\".foregift\").text(billInfo.hpmsFee + \"元\");\r\n\t\t\t\t\t\t\t\t$(\".balance\").text(billInfo.remainFee + \"元\");\r\n\t\t\t\t\t\t\t\tvar $btnTmpl = $('<span class=\"fold-btn\"><span class=\"fold-arrow\"></span></span>'),\r\n\t\t\t\t\t\t\t\t\t$detailTmpl = $('<table class=\"item-detail\"><thead><tr><th>项目名称</th><th>单价</th><th>数量</th><th>金额</th></tr></thead><tbody></tbody></table>'),\r\n\t\t\t\t\t\t\t\t\t$subItemTmpl = $('<tr><td class=\"item-name\"></td><td class=\"item-unit\"></td><td class=\"item-count\"></td><td class=\"item-sum\"></td></tr>');\r\n\t\t\t\t\t\t\t\tfor ( ; i < len ; i++ ) {\r\n\t\t\t\t\t\t\t\t\tvar item = items[i],\r\n\t\t\t\t\t\t\t\t\t\titemList = item.itemList,\r\n\t\t\t\t\t\t\t\t\t\tsubLen = itemList.length,\r\n\t\t\t\t\t\t\t\t\t\tj = 0,\r\n\t\t\t\t\t\t\t\t\t\t$item = $pureItemTmpl.clone().toggleClass(\"folding\", !!subLen);\r\n\t\t\t\t\t\t\t\t\tif (subLen) {\r\n\t\t\t\t\t\t\t\t\t\tvar $detail = $detailTmpl.clone();\r\n\t\t\t\t\t\t\t\t\t\tfor ( ; j < subLen ; j++ ) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar subItem = itemList[j];\r\n\t\t\t\t\t\t\t\t\t\t\t$subItemTmpl.clone().find(\".item-name\").text(subItem.itemName)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.end().find(\".item-unit\").text(subItem.units)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.end().find(\".item-count\").text(subItem.amount)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.end().find(\".item-sum\").text(subItem.charges)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.end().appendTo($detail);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t$btnTmpl.clone().appendTo($item.children(\".item-brief\"));\r\n\t\t\t\t\t\t\t\t\t\t$detail.appendTo($item);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t$item.find(\".brief-name\").text(item.mFeeName)\r\n\t\t\t\t\t\t\t\t\t\t.end().find(\".brief-value\").text(item.charges + \"元\")\r\n\t\t\t\t\t\t\t\t\t\t.end().insertBefore($itemTmpl);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t$(\".item.folding\").tap(function(event, target) {\r\n\t\t\t\t\t\t\t\t\t$(target).toggleClass(\"unfold\");\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t$(\".detail-wrap\").show();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t$invalid.open(\"\", \"请\" + $selectedDefault.first().text());\r\n\t\t\t}\r\n\t\t});\r\n\t} else {\r\n\t\tlocation.href = \"hsp_sign_in?referrer=hsp_daily_bill&pltId=\" + pltId;\r\n\t}\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\stop_inform.js","name":"./src/main/webapp/assets/glwx/js/stop_inform.js","index":46,"index2":46,"size":2365,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[32],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var param = require(\"common-libs/param\"),\r\n\tcookie = require(\"common-libs/cookie\"),\r\n\tConfig = require(\"./config\");\r\n$(function() {\r\n\tvar version = param.val(\"version\"),\r\n\t\tproductId = param.val(\"productId\");\r\n\tversion && cookie.add(\"version\", version, {expires: 365});\r\n\tproductId && cookie.add(\"productId\", productId, {expires: 365});\r\n\tvar infoId = param.val(\"infoId\");\r\n\tif (!infoId) {\r\n\t\t$(\".info-wrap\").show();\r\n\t\tvar cachedInfos = [],\r\n\t\t\tpageNum = 0,\r\n\t\t\tpageNow = 1,\r\n\t\t\tpageSize = 10,\r\n\t\t\t$prev = $(\".navi-op.last\"),\r\n\t\t\t$next = $(\".navi-op.next\"),\r\n\t\t\t$pageNum = $(\".page-num\"),\r\n\t\t\t$alert = $(\".alert-window\");\r\n\t\tvar $infoTmpl = $(\".info.template\"),\r\n\t\t\t$pureInfoTmpl = $infoTmpl.clone(true).removeClass(\"template\");\r\n\t\t$.ajax({\r\n\t\t\turl : Config.GetDataURL,\r\n\t\t\ttype: \"get\",\r\n\t\t\tdata : {mName:\"getPausedSchedule\", pContent: JSON.stringify({\r\n\t\t\t\thosCode: \"426080415\"\r\n\t\t\t})},\r\n\t\t\tbeforeSend: function() {\r\n\t\t\t\t$(\".loading\").show();\r\n\t\t\t},\r\n\t\t\tcomplete : function(data) {\r\n\t\t\t\t$(\".loading\").hide();\r\n\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar data = jsonData.rspData,\r\n\t\t\t\t\t\t\tinfos = data;\r\n\t\t\t\t\t\tpageNum = infos.length;\r\n\t\t\t\t\t\tcachedInfos = infos;\r\n\t\t\t\t\t\tvar i = 0,\r\n\t\t\t\t\t\t\tlen = pageNum;\r\n\t\t\t\t\t\tif (len) {\r\n\t\t\t\t\t\t\tfor ( ; i < len ; i++ ) {\r\n\t\t\t\t\t\t\t\tvar info = infos[i],\r\n\t\t\t\t\t\t\t\t\t$info = $pureInfoTmpl.clone(true),\r\n\t\t\t\t\t\t\t\t\t$brief = $info.children(\".info-brief\"),\r\n\t\t\t\t\t\t\t\t\tdeps = info.departments,\r\n\t\t\t\t\t\t\t\t\tj = 0,\r\n\t\t\t\t\t\t\t\t\tjLen = deps.length;\r\n\t\t\t\t\t\t\t\t$info.find(\".info-title\").text(info.date);\r\n\t\t\t\t\t\t\t\tfor ( ; j < jLen ; j++ ) {\r\n\t\t\t\t\t\t\t\t\tvar dep = deps[j],\r\n\t\t\t\t\t\t\t\t\t\tdocList = $.map(dep.doctors, function(val, i) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn val.name;\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t$('<span class=\"inform\"><span class=\"dep-name\">' + dep.name + '</span> <span class=\"expert-names\">' + docList.join(\"，\") + '</span></span>').appendTo($brief);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t$info.data(\"info\", info).insertBefore($infoTmpl);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t$next.toggleClass(\"invisible\", pageNum <= pageSize);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(\".no-result\").show();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\sign_up.js","name":"./src/main/webapp/assets/glwx/js/sign_up.js","index":45,"index2":45,"size":1546,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[31],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var check = require(\"common-libs/formCheck\"),\r\n\tConfig = require(\"./config\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.alert\");\r\n$(function() {\r\n\tvar $promptNow = null,\r\n\t\t$inputs = $(\".input\").not(\".input-submit\");\r\n\t$inputs.on(\"focusout\", function(event) {\r\n\t\tvar $this = $(this),\r\n\t\t\tcheckFunc = check[$this.attr(\"check\")];\r\n\t\t$this.toggleClass(\"ok\", checkFunc ? checkFunc.call(check, $this.val()) : false);\r\n\t});\r\n\tvar $valid = $(\".alert-wrap.validate\");\r\n\t$valid.bindTouchHandler(\".confirm\", function(event) {\r\n\t\tevent.preventDefault();\r\n\t\t$valid.close();\r\n\t});\r\n\t$(\".register-form\").on(\"submit\", function(event) {\r\n\t\tevent.preventDefault();\r\n\t\t$inputs.blur();\r\n\t\tvar canSubmit = $(\".ok\").length === $inputs.length;\r\n\t\tif (canSubmit) {\r\n\t\t\tvar oTransData = {\r\n\t\t\t\tname : $(\".input-name\").val(),\r\n\t\t\t\tidnum : $(\".input-idnum\").val(),\r\n\t\t\t\tphone : $(\".input-phone\").val()\r\n\t\t\t};\r\n\t\t\t!check.isAdult(oTransData.idnum) && (oTransData.bNotAdult = 1);\r\n\t\t\tlocation.href = Config.IS_WX ? Config.getWxAuthPath(\"validate?transData=\" + JSON.stringify(oTransData)) : (\"validate?transData=\" + encodeURIComponent(JSON.stringify(oTransData)));\r\n\t\t} else {\r\n\t\t\tvar $warn = $inputs.filter(function() {\r\n\t\t\t\t\treturn !$(this).is(\".ok\");\r\n\t\t\t\t}).first(),\r\n\t\t\t\tcheckFunc = check[$warn.attr(\"check\")],\r\n\t\t\t\tretInfo = checkFunc ? checkFunc.call(check, $warn.val(), true) : \"\";\r\n\t\t\t$valid.open(\"\", retInfo.msg);   \r\n\t\t}\r\n\t});\r\n\t$(\".input-submit\").on(\"touchend\", function(event) {\r\n\t\tevent.preventDefault();\r\n\t\t$(\".register-form\").submit();\r\n\t});\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\sign_in.js","name":"./src/main/webapp/assets/glwx/js/sign_in.js","index":44,"index2":44,"size":4097,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[30],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var param = require(\"common-libs/param\"),\r\n\tcookie = require(\"common-libs/cookie\"),\r\n\tmd5 = require(\"common-libs/md5\"),\r\n\tbase64 = require(\"common-libs/base64\"),\r\n\tcheck = require(\"common-libs/formCheck\"),\r\n\tConfig = require(\"./config\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.tap\");\r\nrequire(\"common-libs/jquery.alert\");\r\n$(function() {\r\n\t// 页面跳转入口\r\n\t$(\".forget-password\").on(\"touchend\", function(event) {\r\n\t\tevent.preventDefault();\r\n\t\tlocation.href = \"forget\";\r\n\t});\r\n\t$(\".register\").on(\"touchend\", function(event) {\r\n\t\tevent.preventDefault();\r\n\t\tlocation.href = \"sign_up\";\r\n\t});\r\n\t// 表单检查\r\n\tvar $inputs = $(\".input\").not(\".input-submit\");\r\n\t$inputs.on(\"focusout\", function(event) {\r\n\t\tvar $this = $(this),\r\n\t\t\tcheckFunc = check[$this.attr(\"check\")];\r\n\t\t$this.toggleClass(\"ok\", checkFunc ? checkFunc.call(check, $this.val()) : false);\r\n\t});\r\n\t// 表单验证提示框\r\n\tvar $valid = $(\".alert-wrap.validate\"),\r\n\t\t$error = $(\".alert-wrap.error\");\r\n\t$valid.bindTouchHandler(\".confirm\", function(event) {\r\n\t\tevent.preventDefault();\r\n\t\t$valid.close();\r\n\t});\r\n\t$error.bindTouchHandler(\".confirm\", function(event) {\r\n\t\tevent.preventDefault();\r\n\t\t$error.close();\r\n\t});\r\n\t// 全局缓存的jQuery对象\r\n\tvar $alert = $(\".alert-window\"),\r\n\t\t$submit = $(\".input-submit\"),\r\n\t\tcode = param.val(\"code\");/*授权凭证码*/\r\n\t$(\".login-form\").on(\"submit\", function(event) {\r\n\t\tevent.preventDefault();\r\n\t\tvar $this = $(this);\r\n\t\t$inputs.blur();\r\n\t\tvar canSubmit = $(\".ok\").length === $inputs.length;\r\n\t\tif (canSubmit) {\r\n\t\t\tvar idnum = $(\".input-idnum\").val(),\r\n\t\t\t\tidnum = check.idnumAlike(idnum) ? idnum.toUpperCase() : idnum,\r\n\t\t\t\tpassword = $(\".input-password\").val(),\r\n\t\t\t\tloginParams = {\r\n\t\t\t\t\tuserId : idnum,\r\n\t\t\t\t\tuserPassword : md5.digest_s(password)\r\n\t\t\t\t};\r\n\t\t\tif (code) {\r\n\t\t\t\tloginParams.code = code;\r\n\t\t\t\tloginParams.appId = Config.wxAppId;\r\n\t\t\t\tloginParams.pltId = Config.pltId;\r\n\t\t\t\tloginParams.productId = Config.productId;\r\n\t\t\t}\r\n\t\t\t$.ajax({\r\n\t\t\t\turl : Config.GetDataURL,\r\n\t\t\t\ttype: \"get\",\r\n\t\t\t\tdata : {mName : \"userLogin\", pContent : JSON.stringify(loginParams)},\r\n\t\t\t\tdataType: \"json\",\r\n\t\t\t\tbeforeSend : function() {\r\n\t\t\t\t\t$submit.addClass(\"submiting\").val(\"登录中...\");\r\n\t\t\t\t},\r\n\t\t\t\tcomplete : function(data) {\r\n\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\t$submit.removeClass(\"submiting\").val(\"登录\");\r\n\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\tif (jsonData.errorCode === \"1\") {\r\n\t\t\t\t\t\t\t\t// 重载页面，获取新code\r\n\t\t\t\t\t\t\t\tlocation.href = Config.getWxAuthPath(\"sign_in\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$error.open(\"\", jsonData.rspMsg);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar rspData = jsonData.rspData;\r\n\t\t\t\t\t\t\tif (navigator.cookieEnabled) {\r\n\t\t\t\t\t\t\t\tcookie.add(\"idnum\", base64.encode(rspData.idNo), {expires: 90});\r\n\t\t\t\t\t\t\t\tcookie.add(\"password\", base64.encode(loginParams.userPassword), {expires: 90});\r\n\t\t\t\t\t\t\t\tcookie.add(\"phone\", base64.encode(rspData.phoneNumber), {expires: 90});\r\n\t\t\t\t\t\t\t\tcookie.add(\"name\", base64.encode(rspData.name), {expires: 90});\r\n\t\t\t\t\t\t\t\tcookie.add(\"sid\", rspData.sessionId, {expires: 90});\r\n\t\t\t\t\t\t\t\tcookie.add(\"openId\", base64.encode(rspData.openId), {expires: 90});\r\n\t\t\t\t\t\t\t\tvar referrer;\r\n\t\t\t\t\t\t\t\tif ((referrer = param.val(\"referrer\"))) {\r\n\t\t\t\t\t\t\t\t\tvar transData = encodeURIComponent(param.val(\"transData\")),\r\n\t\t\t\t\t\t\t\t\t\ttargetHref = referrer;\r\n\t\t\t\t\t\t\t\t\ttargetHref += (transData ? (\"?transData=\" + transData) : \"\");\r\n\t\t\t\t\t\t\t\t\tlocation.href = targetHref;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tlocation.href = \"home\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$submit.removeClass(\"submiting\").val(\"登录\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tvar $warn = $inputs.filter(function() {\r\n\t\t\t\t\treturn !$(this).is(\".ok\");\r\n\t\t\t\t}).first(),\r\n\t\t\t\tcheckFunc = check[$warn.attr(\"check\")],\r\n\t\t\t\tretInfo = checkFunc ? checkFunc.call(check, $warn.val(), true) : \"\";\r\n\t\t\t$valid.open(\"\", retInfo.msg);\r\n\t\t}\r\n\t});\r\n\t$(\".input-submit\").tap(function(event) {\r\n\t\tevent.preventDefault();\r\n\t\t$(\".login-form\").submit();\r\n\t});\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_doctor.js","name":"./src/main/webapp/assets/glwx/js/select_doctor.js","index":43,"index2":43,"size":8256,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[29],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var cookie = require(\"common-libs/cookie\"),\r\n\tparam = require(\"common-libs/param\"),\r\n\tConfig = require(\"./config\");\r\nrequire(\"common-libs/dateUtils\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.tap\");\r\nrequire(\"common-libs/jquery.alert\");\r\n$(function() {\r\n\tvar transData = param.val(\"transData\"),\r\n\t\toTransData = transData ? JSON.parse(transData) : {},\r\n\t\tdepInfoParams = {hospitalCode: oTransData.hspCode, departmentId: oTransData.depId},\r\n\t\t$alert = $(\".alert-window\"),\r\n\t\t$loading = $(\".loading\");\r\n\tdepInfoParams.queryType = oTransData.bRegister ? \"1\" : \"2\";\r\n\t// 修改页面title\r\n\tdocument.title = oTransData.depName;\r\n\t$(\".doc-img\").on(\"error\", function(event) {\r\n\t\t$(this).attr(\"src\", Config.DEFAULT_DOC_IMG_SRC);\r\n\t});\r\n\t$.ajax({\r\n\t\turl : Config.GetDataURL,\r\n\t\ttype: \"get\",\r\n\t\tdata : {mName:\"searchSchedue\", pContent: JSON.stringify(depInfoParams)},\r\n\t\tbeforeSend: function() {\r\n\t\t\t$loading.show();\r\n\t\t},\r\n\t\tcomplete : function(data) {\r\n\t\t\t$loading.hide();\r\n\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t} else {\r\n\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 绑定科室信息\r\n\t\t\t\t\tvar rspData = jsonData.rspData,\r\n\t\t\t\t\t\tnormals = rspData.schedules,\r\n\t\t\t\t\t\texperts = rspData.expertBody,\r\n\t\t\t\t\t\tnormalTimes = $.map(normals, function(val, i) {\r\n\t\t\t\t\t\t\treturn val.clinicDate;\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t$allExperts,\r\n\t\t\t\t\t\t$experts = $(\".experts\"),\r\n\t\t\t\t\t\t$expertTmpl = $(\".expert.template\"),\r\n\t\t\t\t\t\t$pureExpertTmpl = $expertTmpl.clone(true).removeClass(\"template\"),\r\n\t\t\t\t\t\tnLen = normals.length,\r\n\t\t\t\t\t\teLen = experts.length,\r\n\t\t\t\t\t\ttoday = (new Date()).format(\"yyyy-mm-dd\"),\r\n\t\t\t\t\t\tvalidNormals = 0,\r\n\t\t\t\t\t\tvalidExperts = 0,\r\n\t\t\t\t\t\ttimes = {}/*$.map(rspData.timeBody, function(val) {\r\n\t\t\t\t\t\t\treturn val.clinicDate;\r\n\t\t\t\t\t\t})*/;\r\n\t\t\t\t\t// 普通号处理\r\n\t\t\t\t\tif(nLen) {\r\n\t\t\t\t\t\tfor (var j = 0 ; j < nLen ; j++) {\r\n\t\t\t\t\t\t\tvar normal = normals[j];\r\n\t\t\t\t\t\t\tif (normal.remainCount !== undefined) {\r\n\t\t\t\t\t\t\t\t!times[normal.clinicDate] && (times[normal.clinicDate] = 1);\r\n\t\t\t\t\t\t\t\tvalidNormals++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif  (validNormals) {\r\n\t\t\t\t\t\t\t$(\".normal-wrap\").show();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(\".select-normal\").tap(function() {\r\n\t\t\t\t\t\t\toTransData.isNormal = 1;\r\n\t\t\t\t\t\t\tlocation.href = \"doctor_info?transData=\" + encodeURIComponent(JSON.stringify(oTransData));\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 专家号处理\r\n\t\t\t\t\tif (eLen) {\r\n\t\t\t\t\t\t$(\".expert-wrap\").show();\r\n\t\t\t\t\t\tfor (var l = 0 ; l < eLen ; l++) {\r\n\t\t\t\t\t\t\tvar expert = experts[l],\r\n\t\t\t\t\t\t\t\t$expert = $pureExpertTmpl.clone(true),\r\n\t\t\t\t\t\t\t\tschedules = expert.schedules,\r\n\t\t\t\t\t\t\t\tlen = schedules.length,\r\n\t\t\t\t\t\t\t\tseeTimeStrings = Config.SeeTimeStrings,\r\n\t\t\t\t\t\t\t\tvalidSchedules = 0;\r\n\t\t\t\t\t\t\tif (expert.imgUrl) {\r\n\t\t\t\t\t\t\t\tvar tmpImg = new Image();\r\n\t\t\t\t\t\t\t\t$(tmpImg).on(\"load\", {$ex: $expert}, function(event) {\r\n\t\t\t\t\t\t\t\t\tevent.data.$ex.find(\".doc-img\").attr(\"src\", $(this).prop(\"src\"));\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\ttmpImg.src = expert.imgUrl;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar expertIn = expert.expertSpeciality;\r\n\t\t\t\t\t\t\t$expert.find(\".doc-name\").text(expert.expertName)\r\n\t\t\t\t\t\t\t\t.end().find(\".doc-princ\").text(expert.expertTitle)\r\n\t\t\t\t\t\t\t\t.end().find(\".expert-in\").text(expertIn ? (expertIn.length > 30 ? expertIn.slice(0, 30) + \"...\" : expertIn) : \"暂无介绍\")\r\n\t\t\t\t\t\t\t\t.end().data({\r\n\t\t\t\t\t\t\t\t\t\"expertInfo\" : expert,\r\n\t\t\t\t\t\t\t\t\t\"schedules\": schedules\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t// 处理各个医生排班，内部循环\r\n\t\t\t\t\t\t\tfor (var m = 0 ; m < len ; m++) {\r\n\t\t\t\t\t\t\t\tvar schedule = schedules[m];\r\n\t\t\t\t\t\t\t\tif ((schedule.stopFlag === \"0\" || !schedule.stopFlag) && schedule.remainCount !== undefined) {\r\n\t\t\t\t\t\t\t\t\t!times[schedule.clinicDate] && (times[schedule.clinicDate] = 1);\r\n\t\t\t\t\t\t\t\t\tvalidSchedules++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (validSchedules) {\r\n\t\t\t\t\t\t\t\t$expert.find(\".has-schedule\").show()\r\n\t\t\t\t\t\t\t\t\t.end().insertBefore($expertTmpl);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$expert.appendTo($experts);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// $expert.appendTo($experts);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$allExperts = $(\".expert\").not(\".template\").tap(function(event, target) {\r\n\t\t\t\t\t\t\tvar $expert = $(target).closest(\".expert\"),\r\n\t\t\t\t\t\t\t\texpertInfo = $expert.data(\"expertInfo\");\r\n\t\t\t\t\t\t\t$.extend(oTransData, {\r\n\t\t\t\t\t\t\t\texpertId : expertInfo.expertId,\r\n\t\t\t\t\t\t\t\texpertName : expertInfo.expertName,\r\n\t\t\t\t\t\t\t\texpertTitle : expertInfo.expertTitle,\r\n\t\t\t\t\t\t\t\texpertImg : expertInfo.imgUrl\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tlocation.href = \"doctor_info?transData=\" + encodeURIComponent(JSON.stringify(oTransData));\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!eLen) {\r\n\t\t\t\t\t\tif (validNormals) {\r\n\t\t\t\t\t\t\t/*oTransData.isNormal = 1;\r\n\t\t\t\t\t\t\tlocation.href = \"doctor_info?transData=\" + encodeURIComponent(JSON.stringify(oTransData));*/\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(\".no-schedules\").show();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!oTransData.bRegister) {\r\n\t\t\t\t\t\t// 加载时间栏\r\n\t\t\t\t\t\tvar $oprBar = $(\".opr-bar\"),\r\n\t\t\t\t\t\t\t$daysWrap = $(\".days\"),\r\n\t\t\t\t\t\t\ttoday = new Date(),\r\n\t\t\t\t\t\t\tdate = today.getDate(),\r\n\t\t\t\t\t\t\tweekDay = today.getDay(),\r\n\t\t\t\t\t\t\tt = +today,\r\n\t\t\t\t\t\t\toneDayMills = 846e+5,\r\n\t\t\t\t\t\t\tdayCount = 13,\r\n\t\t\t\t\t\t\ti = 0,\r\n\t\t\t\t\t\t\t$dayTmpl = $('<span class=\"day\"><span class=\"weekday\"></span><span class=\"date\"></span></span>'),\r\n\t\t\t\t\t\t\tweekdays = [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"];\r\n\t\t\t\t\t\t$(\".today\").text(today.format(\"yyyy年mm月dd日\") + \"星期\" + weekdays[today.getDay()]);\r\n\t\t\t\t\t\twhile(i < dayCount) {\r\n\t\t\t\t\t\t\tvar day = new Date(),\r\n\t\t\t\t\t\t\t\t$day = $dayTmpl.clone();\r\n\t\t\t\t\t\t\tday.setTime(t + oneDayMills * i++);\r\n\t\t\t\t\t\t\tvar date = day.format(\"yyyy-mm-dd\");\r\n\t\t\t\t\t\t\t$day.find(\".weekday\").text(weekdays[day.getDay()])\r\n\t\t\t\t\t\t\t\t.end().find(\".date\").text(day.getDate())\r\n\t\t\t\t\t\t\t\t.end().data(\"date\", date).toggleClass(\"disabled\", !times[date]).appendTo($daysWrap);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(\".opr.prev\").on(\"touchend\", function(event) {\r\n\t\t\t\t\t\t\t$oprBar.removeClass(\"has-prev\");\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t$(\".opr.next\").on(\"touchend\", function(event) {\r\n\t\t\t\t\t\t\t$oprBar.addClass(\"has-prev\");\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tfunction filterSchedule(date) {\r\n\t\t\t\t\t\t\tif (date) {\r\n\t\t\t\t\t\t\t\tif ($allExperts && $allExperts.length) {\r\n\t\t\t\t\t\t\t\t\tvar $filtered = $allExperts.filter(function() {\r\n\t\t\t\t\t\t\t\t\t\tvar $this = $(this),\r\n\t\t\t\t\t\t\t\t\t\t\tschedules = $this.data(\"schedules\"),\r\n\t\t\t\t\t\t\t\t\t\t\tbFind = false;\r\n\t\t\t\t\t\t\t\t\t\t$.each(schedules, function(i, val) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (val.clinicDate === date) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif ((val.stopFlag === \"0\" || !val.stopFlag) && val.remainCount !== undefined) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbFind = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\treturn !bFind;\r\n\t\t\t\t\t\t\t\t\t}).addClass(\"hidden\");\r\n\t\t\t\t\t\t\t\t\t$allExperts.not($filtered).removeClass(\"hidden\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (normals.length) {\r\n\t\t\t\t\t\t\t\t\t$(\".normal-wrap\").toggleClass(\"hidden\", $.inArray(date, normalTimes) === -1);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// reset\r\n\t\t\t\t\t\t\t\t$(\".hidden\").removeClass(\"hidden\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(\".day\").tap(function(event, target) {\r\n\t\t\t\t\t\t\t// 排班筛选\r\n\t\t\t\t\t\t\tvar $target = $(target);\r\n\t\t\t\t\t\t\tif (!$target.is(\".disabled\")) {\r\n\t\t\t\t\t\t\t\t$(\".day.selected\").removeClass(\"selected\");\r\n\t\t\t\t\t\t\t\t$target.addClass(\"selected\");\r\n\t\t\t\t\t\t\t\tif ($target.is(\".all\")) {\r\n\t\t\t\t\t\t\t\t\t// cookie.remove(\"select_filter_date\");\r\n\t\t\t\t\t\t\t\t\tfilterSchedule();\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar selectedDate = $target.data(\"date\"),\r\n\t\t\t\t\t\t\t\t\t\tdateFilter = {};\r\n\t\t\t\t\t\t\t\t\tdateFilter[oTransData.depId] = selectedDate;\r\n\t\t\t\t\t\t\t\t\t/* 记录用户筛选选择 */\r\n\t\t\t\t\t\t\t\t\t// cookie.add(\"select_filter_date\", JSON.stringify(dateFilter), {expires: 1 / 24 / 60 * 5});\r\n\t\t\t\t\t\t\t\t\tfilterSchedule(selectedDate);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t/*if ((dateFilter = cookie.get(\"select_filter_date\"))) {\r\n\t\t\t\t\t\t\tdateFilter = JSON.parse(dateFilter);\r\n\t\t\t\t\t\t\tif ((dateUserSelected = dateFilter[oTransData.depId])) {\r\n\t\t\t\t\t\t\t\tvar $days = $(\".day\"),\r\n\t\t\t\t\t\t\t\t\tindex = $days.filter(function() {\r\n\t\t\t\t\t\t\t\t\t\treturn $(this).data(\"date\") == dateUserSelected;\r\n\t\t\t\t\t\t\t\t\t}).index();\r\n\t\t\t\t\t\t\t\tif (index && !!times[dateUserSelected]) {\r\n\t\t\t\t\t\t\t\t\t$(\".day.selected\").removeClass(\"selected\");\r\n\t\t\t\t\t\t\t\t\t$days.eq(index).addClass(\"selected\");\r\n\t\t\t\t\t\t\t\t\t$(\".opr-bar\").toggleClass(\"has-prev\", index > 6);\r\n\t\t\t\t\t\t\t\t\tfilterSchedule(dateUserSelected);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}*/\r\n\t\t\t\t\t\t$(\".date-wrap\").show();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_department.js","name":"./src/main/webapp/assets/glwx/js/select_department.js","index":41,"index2":42,"size":7265,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[28],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var cookie = require(\"common-libs/cookie\"),\r\n\tparam = require(\"common-libs/param\"),\r\n\tgetPy = require(\"common-libs/pinyin\"),\r\n\tConfig = require(\"./config\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.tap\");\r\nrequire(\"common-libs/stringUtils\");\r\n$(function() {\r\n\tvar paramMap = param.val(),\r\n\t\t$overlayer = $(\".overlayer\"),\r\n\t\t$body = $(\"body\")\r\n\t\t$loading = $(\".loading\"),\r\n\t\tdepParams = {hospitalCode : Config.HSPCODE, withDeptFlag : 1};\r\n\t$.ajax({\r\n\t\turl : Config.GetDataURL,\r\n\t\ttype : \"get\",\r\n\t\tdata : {mName : \"searchHospitalInfo\", pContent : JSON.stringify(depParams)},\r\n\t\tdataTye : \"json\",\r\n\t\tbeforeSend : function() {\r\n\t\t\t$loading.show();\r\n\t\t},\r\n\t\tcomplete : function(data) {\r\n\t\t\t$loading.hide();\r\n\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t} else {\r\n\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar hsps = jsonData.rspData.body,\r\n\t\t\t\t\t\tdeps = hsps.length ? hsps[0].departments : [],\r\n\t\t\t\t\t\tpDeps = deps.length ? hsps[0].parentDepartments : [],\r\n\t\t\t\t\t\tdepNum = deps.length,\r\n\t\t\t\t\t\tpDepNum = pDeps.length,\r\n\t\t\t\t\t\ti = 0;\r\n\t\t\t\t\tvar $depTmpl = $(\".department.template\"),\r\n\t\t\t\t\t\t$pureDep = $depTmpl.clone(true).removeClass(\"template\"),\r\n\t\t\t\t\t\tinitials = [],\r\n\t\t\t\t\t\tinitialMap = {};\r\n\t\t\t\t\tfor ( ; i < deps.length ; i++ ) {\r\n\t\t\t\t\t\tvar dep = deps[i],\r\n\t\t\t\t\t\t\t$dep = $pureDep.clone(true),\r\n\t\t\t\t\t\t\tpy = getPy(dep.departmentName),\r\n\t\t\t\t\t\t\tinitial = py.charAt(0).toUpperCase(),\r\n\t\t\t\t\t\t\tdepId = dep.departmentId.toLowerCase();\r\n\t\t\t\t\t\t$dep.find(\".dep-name\").text(dep.departmentName)\r\n\t\t\t\t\t\t\t.end().find(\".dep-spec\").text(dep.departmentSpeciality)//.remove() // collect data for intro_doc and queue\r\n\t\t\t\t\t\t\t.end().attr({\r\n\t\t\t\t\t\t\t\tpy: py,\r\n\t\t\t\t\t\t\t\tinitial: initial\r\n\t\t\t\t\t\t\t\t//,depid: dep.departmentId // collect data for intro_doc and queue\r\n\t\t\t\t\t\t\t}).data({\r\n\t\t\t\t\t\t\t\t\"depInfo\": dep\r\n\t\t\t\t\t\t\t}).insertBefore($depTmpl);\r\n\t\t\t\t\t\t// avoid multiple code modifying\r\n\t\t\t\t\t\t!initialMap[initial] && initials.push(initial) && (initialMap[initial] = 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 定位\r\n\t\t\t\t\t/*var lastScroll = cookie.get(\"page_department_scroll\");\r\n\t\t\t\t\tlastScroll && (document.body.scrollTop = lastScroll);*/\r\n\t\t\t\t\t// jQuery.unique behaviors incorrectly on IOS devices\r\n\t\t\t\t\t// $.unique(initials);\r\n\t\t\t\t\tvar j = 0,\r\n\t\t\t\t\t\tjLen = initials.length,\r\n\t\t\t\t\t\t$initials = $(\".initials\"),\r\n\t\t\t\t\t\tinitialsHeight = $initials.height(),\r\n\t\t\t\t\t\tindexHeight = initialsHeight / jLen > 50 ? 50 : initialsHeight / jLen,\r\n\t\t\t\t\t\t$index = $('<list class=\"index\"></list>').css({\r\n\t\t\t\t\t\t\theight: indexHeight,\r\n\t\t\t\t\t\t\t\"line-height\": function() {\r\n\t\t\t\t\t\t\t\treturn $(this).css(\"height\")\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tfor ( ; j < jLen ; j++ ) {\r\n\t\t\t\t\t\t$initials.append($index.clone().text(initials[j]));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar l = 0,\r\n\t\t\t\t\t\tlLen = pDeps.length,\r\n\t\t\t\t\t\t$selectTmpl = $(\".select.template\"),\r\n\t\t\t\t\t\t$pureSelect = $selectTmpl.clone(true).removeClass(\"template\");\r\n\t\t\t\t\t$(\".class-counts\").text(lLen);\r\n\t\t\t\t\tfor ( ; l < lLen ; l++ ) {\r\n\t\t\t\t\t\tvar $select = $pureSelect.clone(true),\r\n\t\t\t\t\t\t\tselect = pDeps[l];\r\n\t\t\t\t\t\t$select.children(\".select-title\").text(select.parentDepartmentName)\r\n\t\t\t\t\t\t\t.end().data(\"id\", select.parentDepartmentId).insertBefore($selectTmpl);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$defaultDeps = $(\".department\").not(\".template\");\r\n\t\t\t\t\t// 事件绑定\r\n\t\t\t\t\t$initials.tap(function(event, target) {\r\n\t\t\t\t\t\tvar $target = $(event.target),\r\n\t\t\t\t\t\t\t$left = null;\r\n\t\t\t\t\t\t$left = $defaultDeps.filter(function() {\r\n\t\t\t\t\t\t\treturn $(this).attr(\"initial\").toUpperCase() === $target.text();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif ($left.length) {\r\n\t\t\t\t\t\t\t$body.animate({\r\n\t\t\t\t\t\t\t\t\"scrollTop\" : $left.first().offset().top\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\tduration: 100\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// 科室筛选\r\n\t\t\t\t\tvar $depInput = $(\".input-dep-search\"),\r\n\t\t\t\t\t\t$depsAfterSelect,\r\n\t\t\t\t\t\t$filterWrap = $(\".filter-wrap\"),\r\n\t\t\t\t\t\t$filterBtn = $(\".filter-btn\");\r\n\t\t\t\t\t$filterBtn.on(\"touchend\", function(event) {\r\n\t\t\t\t\t\t$depInput.blur();\r\n\t\t\t\t\t\t$overlayer.show();\r\n\t\t\t\t\t\t$filterWrap.css(\"top\", function() {\r\n\t\t\t\t\t\t\treturn $body.scrollTop() + 60;\r\n\t\t\t\t\t\t}).show();\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$overlayer.tap(function(event) {\r\n\t\t\t\t\t\t$filterWrap.hide()\r\n\t\t\t\t\t\t$overlayer.hide();\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$defaultDeps.tap(function(event, target) {\r\n\t\t\t\t\t\t// 清空用户输入\r\n\t\t\t\t\t\t$depInput.val(\"\");\r\n\t\t\t\t\t\tvar depInfo = $(target).data(\"depInfo\"),\r\n\t\t\t\t\t\t\toTransData = {\r\n\t\t\t\t\t\t\t\thspCode: Config.HSPCODE,\r\n\t\t\t\t\t\t\t\tdepId: depInfo.departmentId,\r\n\t\t\t\t\t\t\t\tdepName: depInfo.departmentName\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t// 清空搜索输入\r\n\t\t\t\t\t\t$depInput.val(\"\");\r\n\t\t\t\t\t\tparamMap[\"bRegister\"] && (oTransData.bRegister = paramMap[\"bRegister\"]);\r\n\t\t\t\t\t\t// 记录当前滚动位置\r\n//\t\t\t\t\t\tcookie.add(\"page_department_scroll\", document.body.scrollTop, {expires: 1 / 24 / 60 * 5});\r\n\t\t\t\t\t\tlocation.href = \"select_doctor?transData=\" + encodeURIComponent(JSON.stringify(oTransData));\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar $noResult = $(\".no-result\");\r\n\t\t\t\t\tfunction filterDep(input) {\r\n\t\t\t\t\t\tvar $target = $depsAfterSelect ? $depsAfterSelect : $defaultDeps,\r\n\t\t\t\t\t\t\t$filtered = $target.filter(function() {\r\n\t\t\t\t\t\t\t\tvar $this = $(this),\r\n\t\t\t\t\t\t\t\t\tpy = $this.attr(\"py\"),\r\n\t\t\t\t\t\t\t\t\tdepInfo = $this.data(\"depInfo\"),\r\n\t\t\t\t\t\t\t\t\tdepSpec = depInfo.departmentSpeciality || \"\",\r\n\t\t\t\t\t\t\t\t\tdepName = depInfo.departmentName;\r\n\t\t\t\t\t\t\t\treturn  !((/^[\\u4e00-\\u9fa5]*$/.test(input) ? depName.indexOf(input) !== -1 : py.startsWith(input.toUpperCase())) || depSpec.indexOf(input) !== -1);\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t$filtered.addClass(\"hidden\");\r\n\t\t\t\t\t\t$unFiltered = $target.not($filtered).removeClass(\"hidden\");\r\n\t\t\t\t\t\t$noResult.toggle(!$unFiltered.length);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfunction filterDepById(id) {\r\n\t\t\t\t\t\tvar $filtered = $defaultDeps.filter(function() {\r\n\t\t\t\t\t\t\treturn  $(this).data(\"depInfo\").parentDepartmentId !== id;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t$filtered.addClass(\"hidden\");\r\n\t\t\t\t\t\t$depsAfterSelect = $defaultDeps.not($filtered).removeClass(\"hidden\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$(\".filter-dep\").on(\"touchend\", function(event) {\r\n\t\t\t\t\t\tfilterDep($depInput.val());\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar filterEvent = window.onpropertychange !== undefined ? \"propertychange\" : \"input\",\r\n\t\t\t\t\t\t$body = $(\"body\");\r\n\t\t\t\t\t$depInput.on(filterEvent, function(event) {\r\n\t\t\t\t\t\t$body.removeClass(\"has-focus\");\r\n\t\t\t\t\t\tvar input = $depInput.val();\r\n\t\t\t\t\t\t$filterBtn.toggle(!input.length);\r\n\t\t\t\t\t\t!$depsAfterSelect && $initials.toggle(!input.length);\r\n\t\t\t\t\t\tfilterDep(input);\r\n\t\t\t\t\t}).on(\"focusin\", function() {\r\n\t\t\t\t\t\t$body.addClass(\"has-focus\");\r\n\t\t\t\t\t}).on(\"focusout\", function() {\r\n\t\t\t\t\t\t$body.removeClass(\"has-focus\");\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$(\".select\").tap(function(event, target) {\r\n\t\t\t\t\t\t$(\".selected\").removeClass(\"selected\");\r\n\t\t\t\t\t\tvar $select = $(target).addClass(\"selected\"),\r\n\t\t\t\t\t\t\tbSelectAll = $select.is(\".select-all\");\r\n\t\t\t\t\t\t$initials.toggle(bSelectAll);\r\n\t\t\t\t\t\tif (bSelectAll) {\r\n\t\t\t\t\t\t\t$(\".hidden\").removeClass(\"hidden\");\r\n\t\t\t\t\t\t\t$depsAfterSelect = null;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfilterDepById($select.data(\"id\"));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$filterWrap.hide()\r\n\t\t\t\t\t\t$overlayer.hide();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t$(\".recommend\").tap(function(event, target) {\r\n\t\tlocation.href = \"http://mp.weixin.qq.com/s?__biz=MzA5NTE1ODY4OA==&mid=215489410&idx=1&sn=7d3fadaef693b90b24558b47422689a4#rd\";\r\n\t});\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\search_report.js","name":"./src/main/webapp/assets/glwx/js/search_report.js","index":40,"index2":40,"size":4533,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[27],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var cookie = require(\"common-libs/cookie\"),\r\n\tbase64 = require(\"common-libs/base64\"),\r\n\tparam = require(\"common-libs/param\"),\r\n\tConfig = require(\"./config\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.alert\");\r\nrequire(\"common-libs/jquery.tap\");\r\n$(function() {\r\n\tvar $valid = $(\".alert-wrap.validate\"),\r\n\t\t$alert = $(\".alert-window\"),\r\n\t\tcode;\r\n\tif (code = param.val(\"code\")) {\r\n\t\t$(\".report-page\").show();\r\n\t\t// 列表页\r\n\t\t$(\".report\").tap(function(event, target) {\r\n\t\t\tvar reportInfo = $(target).data(\"reportInfo\"),\r\n\t\t\t\treportId = reportInfo.reportId;\r\n\t\t\tlocation.href = \"report_detail?reportId=\" + reportId;\r\n\t\t});\r\n\t\tvar searchParams = {hospitalCode: Config.HSPCODE, barCodeNo: code},\r\n\t\t\t$inspectLoading = $(\".loading.inspect\"),\r\n\t\t\t$alert = $(\".alert-window\");\r\n\t\t$.ajax({\r\n\t\t\turl : Config.GetDataURL,\r\n\t\t\ttype: \"get\",\r\n\t\t\tdata : {mName:\"searchReportByBarCode\", pContent: JSON.stringify(searchParams)},\r\n\t\t\tbeforeSend: function() {\r\n\t\t\t\t$inspectLoading.show();\r\n\t\t\t},\r\n\t\t\tcomplete : function(data) {\r\n\t\t\t\tbOnAjax = false;\r\n\t\t\t\t$inspectLoading.hide();\r\n\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t$alert.alert(Config.NET_ERROR);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t$alert.alert(jsonData.rspMsg || \"未知错误\", true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 标签定位\r\n\t\t\t\t\t\tvar reports = jsonData.rspData.body,\r\n\t\t\t\t\t\t\ti = 0,\r\n\t\t\t\t\t\t\tlen = reports.length,\r\n\t\t\t\t\t\t\t$reportTmpl = $(\".inspection-reports\").find(\".report.template\"),\r\n\t\t\t\t\t\t\t$pureTmpl = $reportTmpl.clone(true).removeClass(\"template\"),\r\n\t\t\t\t\t\t\tprintFlagMap = [\"未打印\", \"已打印\", \"检测中\"];\r\n\t\t\t\t\t\tif (len) {\r\n\t\t\t\t\t\t\tfor ( ; i < len ; i++ ) {\r\n\t\t\t\t\t\t\t\tvar report = reports[i],\r\n\t\t\t\t\t\t\t\t\t$report = $pureTmpl.clone(true);\r\n\t\t\t\t\t\t\t\t$report.find(\".report-title\").text(report.reportType)\r\n\t\t\t\t\t\t\t\t\t.end().find(\".report-code\").text(report.reportId)\r\n\t\t\t\t\t\t\t\t\t.end().find(\".report-date\").text(report.reportDate)\r\n\t\t\t\t\t\t\t\t\t.end().find(\".print-flag\").text(printFlagMap[+report.printFlag])\r\n\t\t\t\t\t\t\t\t\t.end().data(\"reportInfo\", report).insertBefore($reportTmpl);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcookie.add(\"cachedCode\", base64.encode(code), {expires: 90});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$alert.alert(\"未查到该报告单\", true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t} else {\r\n\t\t$(\".search-page\").show();\r\n\t\t$valid.bindTouchHandler(\".confirm\", function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\t$valid.close();\r\n\t\t});\r\n\t\t// 注入微信配置\r\n\t\tvar configList,\r\n\t\t\turl = location.href,\r\n\t\t\twellIndex,\r\n\t\t\t$scanWrap = $(\".scan-wrap\"),\r\n\t\t\t$codeResult = $(\".input-code\");\r\n\t\tif ((wellIndex = url.indexOf('#')) !== -1) {\r\n\t\t\turl = url.slice(0, wellIndex);\r\n\t\t}\r\n\t\twx.ready(function(){\r\n\t\t\t// 配置完成后显示扫码服务入口\r\n\t\t\t$scanWrap.show();\r\n\t\t});\r\n\t\t// 获取jsapi_ticket, 作微信配置用\r\n\t\t$.ajax({\r\n\t\t\turl: Config.GetDataURL,\r\n\t\t\ttype: \"get\",\r\n\t\t\tdataType: \"json\",\r\n\t\t\tdata: {mName:\"getWeiXinCertificate\", pContent: JSON.stringify({\r\n\t\t\t\tappId: Config.wxAppId,\r\n\t\t\t\turl: encodeURIComponent(url)\r\n\t\t\t})},\r\n\t\t\tcomplete: function(data, status) {\r\n\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconfigList = jsonData.signInfo;\r\n\t\t\t\t\t\twx.config({\r\n\t\t\t\t\t\t    debug: false,\r\n\t\t\t\t\t\t    appId: configList.appId,\r\n\t\t\t\t\t\t    timestamp: configList.timestamp,\r\n\t\t\t\t\t\t    nonceStr: configList.nonceStr,\r\n\t\t\t\t\t\t    signature: configList.signature,\r\n\t\t\t\t\t\t    jsApiList: [\"scanQRCode\"]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t$scanWrap.tap(function(event, target) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\twx.scanQRCode({\r\n\t\t\t    needResult: 1, // 默认为0，扫描结果由微信处理，1则直接返回扫描结果\r\n\t\t\t    scanType: [\"qrCode\", \"barCode\"], // 可以指定扫二维码还是一维码，默认二者都有\r\n\t\t\t    success: function (res) {\r\n\t\t\t    \t// 当needResult 为 1 时，扫码返回的结果\r\n\t\t\t    \tvar result = res.resultStr, // 返回结果需要作解析，格式：码制,码\r\n\t\t\t    \t\tsplitIndex = result.indexOf(\",\"),\r\n\t\t\t    \t\tcode = result.slice(splitIndex + 1);\r\n\t\t\t    \t$codeResult.val(code); \r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\t// 绑定查询事件\r\n\t\tvar cachedCode = cookie.get(\"cachedCode\");\r\n\t\tcachedCode && $codeResult.val(base64.decode(cachedCode));\r\n\t\t$(\".search-btn\").on(\"touchend\", function(event) {\r\n\t\t\tvar code = $codeResult.val();\r\n\t\t\tif (code && (code = code.trim())) {\r\n\t\t\t\tparam.val(\"code\", code)\r\n\t\t\t} else {\r\n\t\t\t\t$valid.open(\"\", \"请输入报告单号\");\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\doctor_info.js","name":"./src/main/webapp/assets/glwx/js/doctor_info.js","index":8,"index2":10,"size":5296,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[1],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var cookie = require(\"common-libs/cookie\"),\r\n\tbase64 = require(\"common-libs/base64\"),\r\n\tparam = require(\"common-libs/param\"),\r\n\tConfig = require(\"./config\");\r\nrequire(\"common-libs/dateUtils\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.tap\");\r\nrequire(\"common-libs/jquery.alert\");\r\n$(function() {\r\n\tvar transData = param.val(\"transData\"),\r\n\t\toTransData = transData ? JSON.parse(transData) : {},\r\n\t\tbNormal = oTransData.isNormal,\r\n\t\tuserSelect = {hspName : oTransData.hspName, hspCode : oTransData.hspCode, depName : oTransData.depName, depId : oTransData.depId},\r\n\t\t$expertWrap = $(\".expert-wrap\"),\r\n\t\t$alert = $(\".alert-window\");\r\n\tbNormal && (document.title = \"普通号\");\r\n\toTransData.bRegister && $(\".tab-schedule\").text(\"今日挂号\");\r\n\tif (!bNormal) {\r\n\t\tif (oTransData.expertImg) {\r\n\t\t\tvar tmpImg = new Image();\r\n\t\t\ttmpImg.onload = function() {\r\n\t\t\t\t$(\".doc-img\").attr(\"src\", this.src);\r\n\t\t\t};\r\n\t\t\ttmpImg.src = oTransData.expertImg;\r\n\t\t}\r\n\t\t$(\".doc-name\").text(oTransData.expertName);\r\n\t\t$(\".dep-name\").text(oTransData.depName);\r\n\t\t$(\".doc-princ\").text(oTransData.expertTitle);\r\n\t\tvar views = [$(\".schedules-wrap\"), $(\".expert-intro-wrap\")];\r\n\t\t$(\".tab\").on(\"touchend\", function(event) {\r\n\t\t\t$(\".tab.selected\").removeClass(\"selected\");\r\n\t\t\tvar $currTab = $(event.target).addClass(\"selected\");\r\n\t\t\tfor (var i in views) {\r\n\t\t\t\tviews[i].toggle(i == $currTab.index());\r\n\t\t\t} \r\n\t\t});\r\n\t\t$expertWrap.show();\r\n\t}\r\n\t$(\".schedule\").tap(function(event, target) {\r\n\t\tvar $target = $(target),\r\n\t\t\tscheduleInfo = $target.data(\"scheduleInfo\"),\r\n\t\t\texpertInfo = $target.data(\"expertInfo\"),\r\n\t\t\tclinicDate = scheduleInfo.clinicDate,\r\n\t\t\ttoday = (new Date()).format(\"yyyy-mm-dd\");\r\n\t\tif ($target.is(\".ok\")) {\r\n\t\t\t$.extend(oTransData, {\r\n\t\t\t\tclinicDate : scheduleInfo.clinicDate,\r\n\t\t\t\tseeTime : scheduleInfo.seeTime,\r\n\t\t\t\tscheduFlow : scheduleInfo.scheduFlow,\r\n\t\t\t\ttotalFee : scheduleInfo.totalFee,\r\n\t\t\t\tsectionId: scheduleInfo.sectionId\r\n\t\t\t});\r\n\t\t\tif (expertInfo) {\r\n\t\t\t\t$.extend(oTransData, {\r\n\t\t\t\t\texpertName : expertInfo.expertName,\r\n\t\t\t\t\texpertTitle : expertInfo.expertTitle,\r\n\t\t\t\t\timgURL : expertInfo.imgUrl\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t$.extend(oTransData, {\r\n\t\t\t\t\texpertName : Config.NORMAL\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tcookie.add(\"userSelect\", base64.encode(encodeURIComponent(JSON.stringify(userSelect))), {expires: 7});\r\n\t\t\t// 专家介绍\r\n\t\t\tif (oTransData.intro_mode) {\r\n\t\t\t\t// 判断是否为挂号\r\n\t\t\t\tif (today === clinicDate) {\r\n\t\t\t\t\t$.extend(oTransData, {\r\n\t\t\t\t\t\tbRegister : 1\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (cookie.get(\"idnum\")) {\r\n\t\t\t\tlocation.href = \"place_order?transData=\" + encodeURIComponent(JSON.stringify(oTransData));\r\n\t\t\t} else {\r\n\t\t\t\tlocation.href = Config.IS_WX ? Config.getWxAuthPath(\"sign_in?transData=\" + JSON.stringify(oTransData) + \"&referrer=place_order\") : (\"sign_in?transData=\" + encodeURIComponent(JSON.stringify(oTransData)) + \"&referrer=place_order\");\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\tvar $scheduleTmpl = $(\".schedule-wrap.template\"),\r\n\t\t$pureScheduleTmpl = $scheduleTmpl.clone(true).removeClass(\"template\"),\r\n\t\tscheduleParams = {\r\n\t\t\thospitalCode : oTransData.hspCode,\r\n\t\t\tdepartmentId : oTransData.depId\r\n\t\t};\r\n\t!oTransData.intro_mode && (scheduleParams.queryType = oTransData.bRegister ? \"1\" : \"2\");\r\n\t!bNormal && (scheduleParams.expertId = oTransData.expertId);\r\n\t$.ajax({\r\n\t\turl : Config.GetDataURL,\r\n\t\ttype : \"get\",\r\n\t\tdata : {mName : \"searchSchedue\", pContent : JSON.stringify(scheduleParams)},\r\n\t\tdataTye : \"json\",\r\n\t\tbeforeSend : function() {\r\n\t\t\t$(\".loading\").show();\r\n\t\t},\r\n\t\tcomplete : function(data) {\r\n\t\t\t$(\".loading\").hide();\r\n\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t} else {\r\n\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar rspData = jsonData.rspData,\r\n\t\t\t\t\t\texperts = bNormal ? null : rspData.expertBody,\r\n\t\t\t\t\t\texpert = experts && experts.length ? experts[0] : null,\r\n\t\t\t\t\t\tschedules = bNormal ? rspData.schedules : (expert ? expert.schedules : []),\r\n\t\t\t\t\t\ti = 0,\r\n\t\t\t\t\t\tlen = schedules.length;\r\n\t\t\t\t\tfor ( ; i < len; i++ ) {\r\n\t\t\t\t\t\tvar schedule = schedules[i],\r\n\t\t\t\t\t\t\t$normal = $pureScheduleTmpl.clone(true),\r\n\t\t\t\t\t\t\t$schedule = $normal.children(),\r\n\t\t\t\t\t\t\tdate = schedule.clinicDate.toDate(),\r\n\t\t\t\t\t\t\tseeTime = schedule.seeTime,\r\n\t\t\t\t\t\t\tvisitTime = seeTime.length == 1 ? Config.SeeTimeStrings[parseInt(seeTime) - 1] : seeTime;\r\n\t\t\t\t\t\t$schedule.find(\".time\").text(date.format(\"mm.dd\") + Config.Weekdays[date.getDay()] + visitTime);\r\n\t\t\t\t\t\tif (schedule.remainCount === \"0\") {\r\n\t\t\t\t\t\t\t$schedule.addClass(\"full\");\r\n\t\t\t\t\t\t} else if(schedule.stopFlag === \"1\" || schedule.stopFlag === \"2\") {\r\n\t\t\t\t\t\t\t$schedule.addClass(\"stop\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$schedule.addClass(\"ok\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar storedData = {\"scheduleInfo\" : schedule};\r\n\t\t\t\t\t\t!bNormal && (storedData.expertInfo = expert);\r\n\t\t\t\t\t\t$schedule.data(storedData);\r\n\t\t\t\t\t\t$normal.insertBefore($scheduleTmpl);\r\n\t\t\t\t\t\t// 如果页面来源是专家介绍，则切换tab到专家介绍\r\n\t\t\t\t\t\toTransData.intro_mode && $(\".tab.tab-intro\").triggerHandler(\"touchend\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!bNormal && expert) {\r\n\t\t\t\t\t\t$(\".expert-in\").text(expert.expertSpeciality || \"暂无介绍\");\r\n\t\t\t\t\t\t$(\".expert-intro\").text(expert.expertDesc);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\reserve_result.js","name":"./src/main/webapp/assets/glwx/js/reserve_result.js","index":39,"index2":39,"size":1718,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[26],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var cookie = require(\"common-libs/cookie\"),\r\n\tparam = require(\"common-libs/param\"),\r\n\tConfig = require(\"./config\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.tap\");\r\n$(function() {\r\n\tvar transData = param.val(\"transData\"),\r\n\t\toTransData = transData ? JSON.parse(transData) : {},\r\n\t\t$loading = $(\".loading\");\r\n\t$(\".btn.see\").tap(function(event) {\r\n\t\tevent.preventDefault();\r\n\t\tlocation.href = \"my_register\";\r\n\t});\r\n\t$(\".btn.back\").tap(function(event) {\r\n\t\tevent.preventDefault();\r\n\t\tlocation.href = \"home\";\r\n\t});\r\n\t$.ajax({\r\n\t\turl : Config.GetDataURL,\r\n\t\ttype : \"get\",\r\n\t\tdata : {mName : \"preRegisterConfirm\", pContent : transData},\r\n\t\tdataTye : \"json\",\r\n\t\tbeforeSend : function() {\r\n\t\t\t$loading.show();\r\n\t\t},\r\n\t\tcomplete : function(data) {\r\n\t\t\t$loading.hide();\r\n\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t} else {\r\n\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t// 预约失败\r\n\t\t\t\t\tvar errorInfo = jsonData.rspMsg == \"超过一周退约最大次数\" ? \"本周您预约次数已用完\" : jsonData.rspMsg;\r\n\t\t\t\t\t$(\".result.failed\").find(\".error-msg\").text(errorInfo)\r\n\t\t\t\t\t\t.end().show();\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 预约下单成功\r\n\t\t\t\t\tvar reserve = jsonData.rspData,\r\n\t\t\t\t\t\tsectionId = oTransData.sectionId,\r\n\t\t\t\t\t\tsegFlag = +sectionId.match(/segTime(\\d)/)[1];\r\n\t\t\t\t\t// seeTime.length == \"1\" && (seeTime = Config.SeeTimeStrings[+seeTime - 1]);\r\n\t\t\t\t\t$(\".result.success\").find(\".verifycode\").text(reserve.verifyCode)\r\n\t\t\t\t\t\t.end().find(\".location\").text(reserve.registerAddress || \"请咨询服务台\")\r\n\t\t\t\t\t\t.end().find(\".time\").text(segFlag > 2 ? \"14:30\" : \"9:30\")\r\n\t\t\t\t\t\t.end().show();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\report_detail.js","name":"./src/main/webapp/assets/glwx/js/report_detail.js","index":38,"index2":38,"size":2205,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[25],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var cookie = require(\"common-libs/cookie\"),\r\n\tparam = require(\"common-libs/param\"),\r\n\tConfig = require(\"./config\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.alert\");\r\n$(function() {\r\n\tvar reportId,\r\n\t\tqueryType;\r\n\tif ((reportId = param.val(\"reportId\"))) {\r\n\t\tvar $alert = $(\".alert-window\"),\r\n\t\t\tsearchParams = {\r\n\t\t\t\thospitalCode : Config.HSPCODE,\r\n\t\t\t\treportId : reportId\r\n\t\t\t};\r\n\t\t(queryType = param.val(\"queryType\")) && (searchParams.queryType = queryType);\r\n\t\t$.ajax({\r\n\t\t\turl : Config.GetDataURL,\r\n\t\t\ttype: \"get\",\r\n\t\t\tdata : {mName:\"searchReportDetail\", pContent: JSON.stringify(searchParams)},\r\n\t\t\tbeforeSend: function() {\r\n\t\t\t\t$(\".loading\").show();\r\n\t\t\t},\r\n\t\t\tcomplete : function(data) {\r\n\t\t\t\t$(\".loading\").hide();\r\n\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar items = jsonData.rspData.body,\r\n\t\t\t\t\t\t\ti = 0,\r\n\t\t\t\t\t\t\tlen = items.length,\r\n\t\t\t\t\t\t\t$itemTmpl = $(\".template\"),\r\n\t\t\t\t\t\t\t$pureTmpl = $itemTmpl.clone().removeClass(\"template\"),\r\n\t\t\t\t\t\t\tarrowMap = {\r\n\t\t\t\t\t\t\t\t\"h\": \"↑\",\r\n\t\t\t\t\t\t\t\t\"l\": \"↓\"\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t$(\".report-time\").text(jsonData.reportDate);\r\n\t\t\t\t\t\t$(\".project-name\").text(jsonData.reportType).parent().toggle(!!jsonData.reportType);\r\n\t\t\t\t\t\t$(\".diagnose\").text(jsonData.diagnose).parent().toggle(!!jsonData.diagnose);\r\n\t\t\t\t\t\t$(\".examine-doctor\").text(jsonData.checkDoctor);\r\n\t\t\t\t\t\tfor ( ; i < len ; i++ ) {\r\n\t\t\t\t\t\t\tvar $item = $pureTmpl.clone(),\r\n\t\t\t\t\t\t\t\titem = items[i];\r\n\t\t\t\t\t\t\t$item.children(\".item-name\").text(item.itemName)\r\n\t\t\t\t\t\t\t\t.end().find(\".item-range\").text(item.itemRefrence)\r\n\t\t\t\t\t\t\t\t.end().find(\".item-result\").text(item.itemValue)\r\n\t\t\t\t\t\t\t// 为空或者为z时正常\r\n\t\t\t\t\t\t\tvar flag = (item.itemFlag + \"\").trim();\r\n\t\t\t\t\t\t\t!(!flag || flag === \"z\") && $item.addClass(\"abnormal\").find(\".item-result\").text(item.itemValue + \"  \" + (arrowMap[flag] ? arrowMap[flag] : flag));\r\n\t\t\t\t\t\t\t$item.insertBefore($itemTmpl);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(\".report-wrap\").show();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\floor_detail.js","name":"./src/main/webapp/assets/glwx/js/floor_detail.js","index":11,"index2":11,"size":253,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[2],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var param = require(\"common-libs/param\"),\r\n\tConfig = require(\"./config\");\r\nif (floorId = param.val(\"floorId\")) {\r\n\tdocument.title += (\"-\" + floorId);\r\n\tvar floor = document.getElementById(floorId);\r\n\tif (floor) {\r\n\t\tfloor.style.display = \"block\";\r\n\t}\r\n}"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\forget.js","name":"./src/main/webapp/assets/glwx/js/forget.js","index":12,"index2":14,"size":4742,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[3],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var param = require(\"common-libs/param\"),\r\n\tcookie = require(\"common-libs/cookie\"),\r\n\tmd5 = require(\"common-libs/md5\"),\r\n\tcheck = require(\"common-libs/formCheck\"),\r\n\tConfig = require(\"./config\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.alert\");\r\n$(function() {\r\n\tvar $promptNow = null,\r\n\t\t$inputs = $(\".input\").not(\".input-submit\");\r\n\t$inputs.on(\"focusout\", function(event) {\r\n\t\tvar $this = $(this),\r\n\t\t\tcheckFunc = check[$this.attr(\"check\")],\r\n\t\t\targs = [$this.val()];\r\n\t\t$this.is(\".input-confirm\") && args.push($(\".input-password\").val());\r\n\t\t$this.toggleClass(\"ok\", checkFunc ? checkFunc.apply(check, args) : false);\r\n\t});\r\n\tvar timeLeft = 60,\r\n\t\t$alert = $(\".alert-window\");\r\n\t$(\".get-code\").on(\"touchend\", function(event) {\r\n\t\tvar $idnum = $(\".input-idnum\"),\r\n\t\t\tidnum = $idnum.val(),\r\n\t\t\t$this = $(this),\r\n\t\t\t$sendState = $(\".send-state\"),\r\n\t\t\t$timeLeft = $(\".time-left\");\r\n\t\t$idnum.blur();\r\n\t\tvar canSend = $idnum.is(\".ok\");\r\n\t\t// 之后要把倒计时逻辑放入ajax请求成功后\r\n\t\t// 1、点击发送验证码\r\n\t\t// 2、短信发送中，灰色不可点击\r\n\t\t// 3、输入验证码（发送成功），灰色不可点击\r\n\t\t// 4、发送失败点击重发（发送失败），深橙色可点击\r\n\t\tif (!$this.is(\".disabled\") && canSend) {\r\n\t\t\tvar codeParams = {\r\n\t\t\t\tuserId : idnum,\r\n\t\t\t\tbusinessType : Config.BusinessType.RESET_PASSWORD\r\n\t\t\t};\r\n\t\t\t$.ajax({\r\n\t\t\t\turl : Config.GetDataURL,\r\n\t\t\t\ttype : \"get\",\r\n\t\t\t\tdata : {mName : \"getCheckCode\", pContent : JSON.stringify(codeParams)},\r\n\t\t\t\tbeforeSend : function() {\r\n\t\t\t\t\t$sendState.text(Config.SENDING);\r\n\t\t\t\t\t$this.addClass(\"disabled sending\");\r\n\t\t\t\t},\r\n\t\t\t\tcomplete : function(data) {\r\n\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t// 发送失败\r\n\t\t\t\t\t\t\t$sendState.text(Config.SEND_FAILED);\r\n\t\t\t\t\t\t\t$this.removeClass(\"sending disabled\").addClass(\"failed\");\r\n\t\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// 发送成功\r\n\t\t\t\t\t\t\t$sendState.text(Config.SEND_SUCCESS);\r\n\t\t\t\t\t\t\t$this.removeClass(\"sending failed\");\r\n\t\t\t\t\t\t\t$timeLeft.show();\r\n\t\t\t\t\t\t\tvar countdown = null;\r\n\t\t\t\t\t\t\tcountdown = setInterval(function() {\r\n\t\t\t\t\t\t\t\tif (timeLeft--) {\r\n\t\t\t\t\t\t\t\t\t$timeLeft.text(timeLeft);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tclearInterval(countdown);\r\n\t\t\t\t\t\t\t\t\ttimeLeft = 60;\r\n\t\t\t\t\t\t\t\t\t$timeLeft.hide();\r\n\t\t\t\t\t\t\t\t\t$sendState.text(Config.SEND_DEFAULT);\r\n\t\t\t\t\t\t\t\t\t$this.removeClass(\"disabled\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else if (!canSend) {\r\n\t\t\tvar\tretInfo = check.idnum($idnum.val(), true);\r\n\t\t\t$valid.open(\"\", retInfo.msg);\r\n\t\t}\r\n\t});\r\n\tvar $result = $(\".alert-wrap.result\"),\r\n\t\t$valid = $(\".alert-wrap.validate\");\r\n\t$valid.bindTouchHandler(\".confirm\", function(event) {\r\n\t\tevent.preventDefault();\r\n\t\t$valid.close();\r\n\t});\r\n\t$(\".find-form\").on(\"submit\", function(event) {\r\n\t\tevent.preventDefault();\r\n\t\t$inputs.blur();\r\n\t\tvar canSubmit = $(\".ok\").length === $inputs.length;\r\n\t\tif (canSubmit) {\r\n\t\t\tvar idnum = $(\".input-idnum\").val(),\r\n\t\t\t\tverifyCode = $(\".input-code\").val(),\r\n\t\t\t\tpassword = $(\".input-password\").val(),\r\n\t\t\t\tresetParams = {\r\n\t\t\t\t\tuserId : idnum,\r\n\t\t\t\t\tnewUserPassword : md5.digest_s(password),\r\n\t\t\t\t\tverifyCode : verifyCode\r\n\t\t\t\t},\r\n\t\t\t\t$submit = $(\".input-submit\");\r\n\t\t\t$.ajax({\r\n\t\t\t\turl : Config.GetDataURL,\r\n\t\t\t\ttype : \"get\",\r\n\t\t\t\tdata : {mName : \"passwordReset\", pContent : JSON.stringify(resetParams)},\r\n\t\t\t\tbeforeSend : function() {\r\n\t\t\t\t\t$submit.addClass(\"submiting\").val(\"重置中...\");\r\n\t\t\t\t},\r\n\t\t\t\tcomplete : function(data) {\r\n\t\t\t\t\t$submit.removeClass(\"submiting\").val(\"重置\");\r\n\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t$result.bindTouchHandler(\".close\", function(event) {\r\n\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\t$result.close();\r\n\t\t\t\t\t\t\t\t$(this).off(\"touchend\");\r\n\t\t\t\t\t\t\t}).open(\"重置密码失败\", jsonData.rspMsg);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$result.bindTouchHandler(\".close\", function(event) {\r\n\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\tlocation.href = Config.IS_WX ? Config.getWxAuthPath(\"sign_in\") : \"sign_in\";\r\n\t\t\t\t\t\t\t}).open(\"重置密码成功\", \"点击关闭前往登陆页\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tvar $warn = $inputs.filter(function() {\r\n\t\t\t\t\treturn !$(this).is(\".ok\");\r\n\t\t\t\t}).first(),\r\n\t\t\t\tcheckFunc = check[$warn.attr(\"check\")],\r\n\t\t\t\targs = [$warn.val(), true];\r\n\t\t\t$warn.is(\".input-confirm\") && args.splice(1, 0, $(\".input-password\").val());\r\n\t\t\t$valid.open(\"\", checkFunc ? checkFunc.apply(check, args).msg : \"\");\r\n\t\t}\r\n\t});\r\n\t$(\".input-submit\").on(\"touchend\", function(event) {\r\n\t\t$(\".find-form\").submit();\r\n\t});\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\register_result.js","name":"./src/main/webapp/assets/glwx/js/register_result.js","index":37,"index2":37,"size":7090,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[24],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var cookie = require(\"common-libs/cookie\"),\r\n\tbase64 = require(\"common-libs/base64\"),\r\n\tparam = require(\"common-libs/param\"),\r\n\tConfig = require(\"./config\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.alert\");\r\nrequire(\"common-libs/jquery.tap\");\r\n$(function() {\r\n\tvar openId,\r\n\t\ttransData = param.val(\"transData\");\r\n\tif ((openId = cookie.get(\"openId\"))) {\r\n\t\topenId = base64.decode(openId);\r\n\t\tvar idnum = base64.decode(cookie.get(\"idnum\")),\r\n\t\t\toTransData = transData ? JSON.parse(transData) : {},\r\n\t\t\trecordStr = base64.decode(cookie.get(\"register_records\")),\r\n\t\t\tregisterRecords = recordStr ? JSON.parse(recordStr) : {};\r\n\t\tvar configList,\r\n\t\t\turl = location.href,\r\n\t\t\twellIndex,\r\n\t\t\tMAX_SEARCH_TRIAL = 5,\r\n\t\t\t$wxConfig = $(\".overlayer.config\"),\r\n\t\t\t$requestLoding = $(\".loading.request-loading\"),\r\n\t\t\t$resultLoding = $(\".loading.result-loading\"),\r\n\t\t\t$alert = $(\".alert-window\");\r\n\t\tif ((wellIndex = url.indexOf('#')) !== -1) {\r\n\t\t\turl = url.slice(0, wellIndex);\r\n\t\t}\r\n\t\twx.ready(function(){\r\n\t\t\t$wxConfig.hide();\r\n\t\t\t// 配置完成后可以执行支付\r\n\t\t\texecPay();\r\n\t\t});\r\n\t\twx.error(function(){\r\n\t\t\t$wxConfig.hide();\r\n\t\t\t$alert.alert(\"微信配置失败，请尝试刷新\");\r\n\t\t});\r\n\t\t// 获取jsapi_ticket, 作微信配置用\r\n\t\t$.ajax({\r\n\t\t\turl: Config.GetDataURL,\r\n\t\t\ttype: \"get\",\r\n\t\t\tdataType: \"json\",\r\n\t\t\tdata: {mName:\"getWeiXinCertificate\", pContent: JSON.stringify({\r\n\t\t\t\tappId: Config.wxAppId,\r\n\t\t\t\turl: encodeURIComponent(url)\r\n\t\t\t})},\r\n\t\t\tcache: false,\r\n\t\t\tcomplete: function(data) {\r\n\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconfigList = jsonData.signInfo;\r\n\t\t\t\t\t\twx.config({\r\n\t\t\t\t\t\t    debug: false,\r\n\t\t\t\t\t\t    appId: configList.appId,\r\n\t\t\t\t\t\t    timestamp: configList.timestamp,\r\n\t\t\t\t\t\t    nonceStr: configList.nonceStr,\r\n\t\t\t\t\t\t    signature: configList.signature,\r\n\t\t\t\t\t\t    jsApiList: [\"chooseWXPay\"]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tfunction execPay() {\r\n\t\t\tvar\tregisterData = {\r\n\t\t\t\t\thospitalCode: Config.HSPCODE,\r\n\t\t\t\t\ttypeId: oTransData.typeId || Config.RegisterType.REGISTER, // 挂号类型\r\n\t\t\t\t\tpayMethod: Config.PayMethod.WX_PAY,\r\n\t\t\t\t\toprUserId: idnum,\r\n\t\t\t\t\tuserId: oTransData.userId,\r\n\t\t\t\t\tflow: oTransData.scheduFlow,\r\n\t\t\t\t\tcardNo: oTransData.cardNo,\r\n\t\t\t\t\tcardNoType: oTransData.cardNoType,\r\n\t\t\t\t\treservationFrom: oTransData.reservationFrom,\r\n\t\t\t\t\twxTradeType: \"JSAPI\",\r\n\t\t\t\t\topenId: openId,\r\n\t\t\t\t\tappId: configList.appId\r\n\t\t\t\t},\r\n\t\t\t\trecordFlag = registerData.userId + registerData.flow;\r\n\t\t\t/*if ($.inArray(recordFlag, registerRecords) != -1) {\r\n\t\t\t\t$alert.alert(\"挂号失败！用户已经存在相同的挂号记录！系统将自动跳到首页。\", true, function() {\r\n\t\t\t\t\tlocation.href = \"home\";\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}*/\r\n\t\t\tif (record = registerRecords[recordFlag]) {\r\n\t\t\t\tif (record.processed) {\r\n\t\t\t\t\t$alert.alert(\"挂号失败！用户已经存在相同的挂号记录！系统将自动跳到首页。\", true, function() {\r\n\t\t\t\t\t\tlocation.href = \"home\";\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsearchResult(record.rcptStreamNo, recordFlag)\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// 调后台支付接口\r\n\t\t\t// registerRequestPay\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: Config.GetDataURL,\r\n\t\t\t\ttype: \"get\",\r\n\t\t\t\tdataType: \"json\",\r\n\t\t\t\tdata: {mName:\"registerRequestPay\", pContent: JSON.stringify(registerData)},\r\n\t\t\t\tbeforeSend: function() {\r\n\t\t\t\t\t$requestLoding.show();\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: function(data) {\r\n\t\t\t\t\t// 获取prepay_id\r\n\t\t\t\t\t$requestLoding.hide();\r\n\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar rspData = jsonData.rspData;\r\n\t\t\t\t\t\t\twx.chooseWXPay({\r\n\t\t\t\t\t\t\t \ttimestamp: rspData.timeStamp,\r\n\t\t\t\t\t\t\t    nonceStr: rspData.nonceStr,\r\n\t\t\t\t\t\t\t    package: \"prepay_id=\" + rspData.prepayId,\r\n\t\t\t\t\t\t\t    signType: 'MD5',\r\n\t\t\t\t\t\t\t    paySign: rspData.paySign,\r\n\t\t\t\t\t\t\t    success: function (res) {\r\n\t\t\t\t\t\t\t\t    // 支付成功回调\r\n\t\t\t\t\t\t\t\t    searchResult(rspData.rcptStreamNo, recordFlag);\r\n\t\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t\t    error: function() {\r\n\t\t\t\t\t\t\t    \t$alert.alert(\"支付失败\");\r\n\t\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tfunction searchResult(rcptStreamNo, recordFlag) {\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: Config.GetDataURL,\r\n\t\t\t\ttype: \"get\",\r\n\t\t\t\tdataType: \"json\",\r\n\t\t\t\tdata: {mName:\"getMyOrderInfo\", pContent: JSON.stringify({\r\n\t\t\t\t\thospitalCode: Config.HSPCODE,\r\n\t\t\t\t\trcptStreamNo: rcptStreamNo,\r\n\t\t\t\t\tuserId: oTransData.userId,\r\n\t\t\t\t\tqueryType: \"1\"\r\n\t\t\t\t})},\r\n\t\t\t\tbeforeSend: function() {\r\n\t\t\t\t\t$resultLoding.show();\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: function(data) {\r\n\t\t\t\t\t// 获取prepay_id\r\n\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$resultLoding.hide();\r\n\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t// 后台程序执行时出错\r\n\t\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar orderInfo = jsonData.rspData.body[0];\r\n\t\t\t\t\t\t\t// tranceStatus\r\n\t\t\t\t\t\t\tif (orderInfo.tranceStatus == \"1\") {\r\n\t\t\t\t\t\t\t\t// 查询挂号结果成功\r\n\t\t\t\t\t\t\t\t// 防止重复下单\r\n\t\t\t\t\t\t\t\tregisterRecords[recordFlag] = {\r\n\t\t\t\t\t\t\t\t\trcptStreamNo: rcptStreamNo,\r\n\t\t\t\t\t\t\t\t\tprocessed: true\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tcookie.add(\"register_records\", base64.encode(JSON.stringify(registerRecords)), {expires: 1 / 2});\r\n\t\t\t\t\t\t\t\t// 填充订单信息\r\n\t\t\t\t\t\t\t\tvar seeTime = orderInfo.seeTime,\r\n\t\t\t\t\t\t\t\t\tvisitTime = seeTime.length == 1 ? Config.SeeTimeStrings[parseInt(seeTime) - 1] : seeTime;\r\n\t\t\t\t\t\t\t\t// 基础信息\r\n\t\t\t\t\t\t\t\t$(\".location\").text(orderInfo.position || \"请咨询服务台\");\r\n\t\t\t\t\t\t\t\t$(\".name\").text(orderInfo.name);\r\n\t\t\t\t\t\t\t\t$(\".dep-name\").text(orderInfo.departmentName);\r\n\t\t\t\t\t\t\t\t$(\".doc-name\").text(orderInfo.doctorName || Config.NORMAL);\r\n\t\t\t\t\t\t\t\t$(\".time\").text(orderInfo.clinicDate + Config.Weekdays[(new Date()).getDay()] + visitTime);\r\n\t\t\t\t\t\t\t\t$(\".order-no\").text(orderInfo.orderNo);\r\n\t\t\t\t\t\t\t\t$(\".charge\").text(orderInfo.totalFee);\r\n\t\t\t\t\t\t\t\t$(\".result.success\").show();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (orderInfo.tranceStatus == \"0\") {\r\n\t\t\t\t\t\t\t\t\t$(\".result.failed\").show();\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tregisterRecords[recordFlag] = {\r\n\t\t\t\t\t\t\t\t\t\trcptStreamNo: rcptStreamNo,\r\n\t\t\t\t\t\t\t\t\t\tprocessed: false\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\tcookie.add(\"register_records\", base64.encode(JSON.stringify(registerRecords)), {expires: 1 / 2});\r\n\t\t\t\t\t\t\t\t\t$(\".result.processing\").show();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t// 按钮事件绑定\r\n\t\t$(\".btn.see\").tap(function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tlocation.href = \"my_register\";\r\n\t\t});\r\n\t\t$(\".btn.back\").tap(function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tlocation.href = \"home\";\r\n\t\t});\r\n\t} else {\r\n\t\tlocation.href = Config.IS_WX ? Config.getWxAuthPath(\"sign_in?transData=\" + transData + \"&referrer=register_result\") : (\"sign_in?transData=\" + encodeURIComponent(transData) + \"&referrer=register_result\");\r\n\t}\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\register_info.js","name":"./src/main/webapp/assets/glwx/js/register_info.js","index":36,"index2":36,"size":6774,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[23],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var cookie = require(\"common-libs/cookie\"),\r\n\tbase64 = require(\"common-libs/base64\"),\r\n\tparam = require(\"common-libs/param\"),\r\n\treplacer = require(\"common-libs/replacer\"),\r\n\tConfig = require(\"./config\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/dateUtils\");\r\nrequire(\"common-libs/jquery.tap\");\r\nrequire(\"common-libs/jquery.alert\");\r\n$(function() {\r\n\tvar idnum = cookie.get(\"idnum\");\r\n\tif (idnum) {\r\n\t\tidnum = base64.decode(idnum);\r\n\t\tvar transData = param.val(\"transData\"),\r\n\t\t\toTransData = transData ? JSON.parse(transData) : {},\r\n\t\t\t$alert = $(\".alert-window\")\r\n\t\t\t$order = $(\".order-detail\");\r\n\t\tif (!$.isEmptyObject(oTransData)) {\r\n\t\t\tvar typeMap = {\r\n\t\t\t\t\"1\": \"register\",\r\n\t\t\t\t\"2\": \"reserve\"\r\n\t\t\t};\r\n\t\t\t$order.addClass(typeMap[oTransData.typeId]);\r\n\t\t\t// ----信息填充-----\r\n\t\t\t// 就诊人信息\r\n\t\t\t$(\".visitor\").text(oTransData.name);\r\n\t\t\t$(\".idnum\").text(replacer.idnum(oTransData.idNo));\r\n\t\t\t$(\".phone\").text(idnum === oTransData.idNo ? oTransData.phone : replacer.phone(oTransData.phone));\r\n\t\t\t// 就诊信息\r\n\t\t\t$(\".doc-name\").text(oTransData.expertName || Config.NORMAL);\r\n\t\t\t$(\".dep-name\").text(oTransData.departmentName);\r\n\t\t\t$(\".location\").text(oTransData.position || \"询问服务台\");\r\n\t\t\t$(\".charge\").text(oTransData.totalFee);\r\n\t\t\tvar seeTime = oTransData.seeTime,\r\n\t\t\t\tvisitTime = seeTime.length == 1 ? Config.SeeTimeStrings[parseInt(seeTime) - 1] : seeTime;\r\n\t\t\t$(\".visit-time\").text(oTransData.clinicDate + \" \" + Config.Weekdays[oTransData.clinicDate.toDate().getDay()] + \" \" + visitTime);\r\n\t\t\t$(\".order-no\").text(oTransData.orderNo);\r\n\t\t\t// 取号信息\r\n\t\t\t$(\".verify-code\").text(oTransData.verifyCode);\r\n\t\t\t// 订单信息\r\n\t\t\tif (oTransData.typeId === \"2\") {\r\n\t\t\t\t// 状态栏\r\n\t\t\t\tif (oTransData.bHistory) {\r\n\t\t\t\t\t// 历史记录\r\n\t\t\t\t\tvar statusStr = Config.Status[oTransData.status];\r\n\t\t\t\t\t$order.addClass(\"history\", oTransData.bHistory)\r\n\t\t\t\t\t\t.find(\".visit-state, .order-state\").text(statusStr).toggle(!!statusStr);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$order.find(\".order-state\").text(\"未完成\");\r\n\t\t\t\t\tvar todayTime = (new Date()).getTime(),\r\n\t\t\t\t\t\tclinicTime = oTransData.clinicDate.toDate().getTime(),\r\n\t\t\t\t\t\tdiffDates = (clinicTime - todayTime) / (1000 * 60 * 60 * 24) | 0;\r\n\t\t\t\t\tif (diffDates > 0) {\r\n\t\t\t\t\t\t$order.find(\".cancel-btn\").toggle(!!+oTransData.cancelFlag)\r\n\t\t\t\t\t\t\t.end().find(\".day-left\").children(\".left-days\").text(diffDates + \"天\")\r\n\t\t\t\t\t\t\t.end().show();\r\n\t\t\t\t\t\t// 退约逻辑\r\n\t\t\t\t\t\tvar $cancelPrompt = $(\".cancel-prompt\"),\r\n\t\t\t\t\t\t\t$cancelResult = $(\".cancel-result\"),\r\n\t\t\t\t\t\t\t$cancelLoading = $(\".common-loading\"),\r\n\t\t\t\t\t\t\tcancelParams = {};\r\n\t\t\t\t\t\t$cancelPrompt.bindTouchHandler({\r\n\t\t\t\t\t\t\t\".cancel\" : function() {\r\n\t\t\t\t\t\t\t\t$cancelPrompt.close();\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\".confirm\" : function() {\r\n\t\t\t\t\t\t\t\t$cancelPrompt.close();\r\n\t\t\t\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\t\t\t\turl : Config.GetDataURL,\r\n\t\t\t\t\t\t\t\t\ttype: \"get\",\r\n\t\t\t\t\t\t\t\t\tdata : {mName:\"preRegisterCancel\", pContent: JSON.stringify(cancelParams)},\r\n\t\t\t\t\t\t\t\t\tbeforeSend: function() {\r\n\t\t\t\t\t\t\t\t\t\t$cancelLoading.show();\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tcomplete : function(data) {\r\n\t\t\t\t\t\t\t\t\t\t$cancelLoading.hide();\r\n\t\t\t\t\t\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\t\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t$cancelResult.open(\"\", jsonData.rspMsg);\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// 预约取消成功\r\n\t\t\t\t\t\t\t\t\t\t\t\t$cancelResult.open(\"\", \"预约取消成功\");\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t$cancelResult.bindTouchHandler({\r\n\t\t\t\t\t\t\t\".confirm\" : function() {\r\n\t\t\t\t\t\t\t\tlocation.href = \"my_register\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t$(\".cancel-btn\").on(\"touchend\", function(event) {\r\n\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\tcancelParams = {hospitalCode : Config.HSPCODE, userId : idnum, preRegisterFlow : oTransData.registerFlow, reservationFrom : oTransData.reservationFrom};\r\n\t\t\t\t\t\t\t$cancelPrompt.open();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (diffDates == 0) {\r\n\t\t\t\t\t\t// 已到就诊当日\r\n\t\t\t\t\t\t$order.find(\".no-left\").show();\r\n\t\t\t\t\t\tvar amOrPm = 0,\r\n\t\t\t\t\t\t\tbDisabled = false,\r\n\t\t\t\t\t\t\ttoday = new Date(),\r\n\t\t\t\t\t\t\ttimeNow = (today.getHours() < 10 ? \"0\" + today.getHours() : today.getHours()) + \":\" + (today.getMinutes() < 10 ? \"0\" + today.getMinutes() : today.getMinutes());\r\n\t\t\t\t\t\tif (visitTime.length === 2) {\r\n\t\t\t\t\t\t\tvisitTime  === \"下午\" && (amOrPm = 1);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvisitTime.indexOf(\":\") && seeTime === \"3\" && (amOrPm = 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (amOrPm) {\r\n\t\t\t\t\t\t\tbDisabled = \"17:00\".localeCompare(timeNow) === -1;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tbDisabled = \"11:30\".localeCompare(timeNow) === -1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// 判断是否需要支付\r\n\t\t\t\t\t\toTransData.status === \"5\" && $order.addClass(\"pay-needed\");\r\n\t\t\t\t\t\t// 当前是否已超过可支付时间\r\n\t\t\t\t\t\t// bDisabled && $order.find(\".pay-btn\").addClass(\"disabled\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// 挂号信息\r\n\t\t\t\tvar statusStr = Config.Status[+oTransData.status];\r\n\t\t\t\t$order.find(\".visit-state, .order-state\").text(statusStr).toggle(!!statusStr)\r\n\t\t\t\t\t.end().find(\".pay-state\").text(\"已支付\");\r\n\t\t\t}\r\n\t\t\t$(\".pay-btn\").tap(function(event) {\r\n\t\t\t\tvar orderInfo = oTransData,\r\n\t\t\t\t\tregisterInfo = {\r\n\t\t\t\t\t\thspCode: orderInfo.hospitalCode,\r\n\t\t\t\t\t\tdepId: orderInfo.departmentId,\r\n\t\t\t\t\t\tdepName: orderInfo.departmentName,\r\n\t\t\t\t\t\tclinicDate : orderInfo.clinicDate,\r\n\t\t\t\t\t\tseeTime : orderInfo.seeTime,\r\n\t\t\t\t\t\tscheduFlow : orderInfo.registerFlow,\r\n\t\t\t\t\t\ttotalFee : orderInfo.totalFee,\r\n\t\t\t\t\t\tsectionId: orderInfo.sectionId,\r\n\t\t\t\t\t\treservationFrom: orderInfo.reservationFrom,\r\n\t\t\t\t\t\tidNo: orderInfo.idNo,\r\n\t\t\t\t\t\tbRegister: 1,\r\n\t\t\t\t\t\ttypeId: Config.RegisterType.FETCH\r\n\t\t\t\t\t};\r\n\t\t\t\tif (orderInfo.expertId) {\r\n\t\t\t\t\t$.extend(registerInfo, {\r\n\t\t\t\t\t\texpertId: orderInfo.expertId,\r\n\t\t\t\t\t\texpertName : orderInfo.expertName,\r\n\t\t\t\t\t\texpertTitle : orderInfo.expertTitle,\r\n\t\t\t\t\t\timgURL : orderInfo.imgUrl\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$.extend(registerInfo, {\r\n\t\t\t\t\t\texpertName : Config.NORMAL\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tlocation.href = \"place_order?transData=\" + encodeURIComponent(JSON.stringify(registerInfo));\r\n\t\t\t});\r\n\t\t\t// 再次预约\r\n\t\t\t$(\".reserve-btn\").tap(function(event, target) {\r\n\t\t\t\tvar docInfo = {\r\n\t\t\t\t\thspCode : oTransData.hospitalCode,\r\n\t\t\t\t\thspName : oTransData.hospitalName,\r\n\t\t\t\t\tdepId : oTransData.departmentId,\r\n\t\t\t\t\tdepName : oTransData.departmentName\r\n\t\t\t\t};\r\n\t\t\t\tif (oTransData.expertId) {\r\n\t\t\t\t\t$.extend(docInfo, {\r\n\t\t\t\t\t\texpertId : oTransData.expertId,\r\n\t\t\t\t\t\texpertName : oTransData.expertName,\r\n\t\t\t\t\t\texpertTitle : oTransData.expertTitle\r\n\t\t\t\t\t});\r\n\t\t\t\t\tlocation.href = \"doctor_info?transData=\" + encodeURIComponent(JSON.stringify(docInfo));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlocation.href = \"select_doctor?transData=\" + encodeURIComponent(JSON.stringify(docInfo));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t} else {\r\n\t\tlocation.href = \"sign_in?referrer=my_register\";\r\n\t}\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\guidance.js","name":"./src/main/webapp/assets/glwx/js/guidance.js","index":15,"index2":15,"size":1764,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[4],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var param = require(\"common-libs/param\"),\r\n\tcookie = require(\"common-libs/cookie\"),\r\n\tConfig = require(\"./config\");\r\nrequire(\"common-libs/jquery.tap\");\r\n$(function() {\r\n\t// 视图切换\r\n\tvar $views = $(\".tab-view\");\r\n\t$(\".tab\").on(\"touchend\", function(event) {\r\n\t\tvar $this = $(this);\r\n\t\tif (!$this.is(\".selected\")) {\r\n\t\t\t$(\".tab.selected\").removeClass(\"selected\");\r\n\t\t\t$this.addClass(\"selected\");\r\n\t\t\t$views.each(function(i, val) {\r\n\t\t\t\t$(this).toggle(i === $this.index());\r\n\t\t\t});\r\n\t\t}\r\n\t}).eq(cookie.get(\"guidance_tab_index\") || 0).triggerHandler(\"touchend\");\r\n\tvar $layout = $(\".layout\"),\r\n\t\t$buildings = $(\".buildings\"),\r\n\t\t$bldgs = $(\".bldg\");\r\n\tif (bldgId = param.val(\"bldgId\")) {\r\n\t\t$buildings.show();\r\n\t\t$bldgs.filter(\"#\" + bldgId).show();\r\n\t} else {\r\n\t\t$layout.show();\r\n\t\t$(\".hotspot\").tap(function(event) {\r\n\t\t\tcookie.add(\"guidance_tab_index\", $(\".tab.selected\").index(), {expires: 1 / 24 / 60 * 5});\r\n\t\t\tparam.val(\"bldgId\", $(this).attr(\"data-id\"));\r\n\t\t});\r\n\t}\r\n\t// 楼层跳转\r\n\t$(\".floor.has-detail\").tap(function(event) {\r\n\t\tlocation.href = \"floor_detail?floorId=\" + $(this).attr(\"data-id\");\r\n\t});\r\n\t// 人体图部分\r\n\tvar $symptom = $(\".symptom-page\"),\r\n\t\t$genderSwitches = $(\".gender-switch\"),\r\n\t\t$genders = $(\".gender\");\r\n\t$genderSwitches.on(\"touchend\", function(event) {\r\n\t\t$genderSwitches.toggleClass(\"selected\");\r\n\t\t$genders.toggleClass(\"active\");\r\n\t});\r\n\t$(\".switch.side-switch\").on(\"touchend\", function(event) {\r\n\t\t$symptom.toggleClass(\"turn-back\");\r\n\t});\r\n\t$(\".part\").tap(function(event) {\r\n\t\tevent.preventDefault();\r\n\t\tcookie.add(\"guidance_tab_index\", $(\".tab.selected\").index(), {expires: 1 / 24 / 60 * 5});\r\n\t\tlocation.href = \"guidance_disease?partId=\" + $(this).attr(\"data-part-id\") + \"&gender=\" + $(\".gender-switch.selected\").attr(\"data-gender\");\r\n\t});\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\guidance_disease.js","name":"./src/main/webapp/assets/glwx/js/guidance_disease.js","index":16,"index2":16,"size":2554,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[5],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var param = require(\"common-libs/param\"),\r\n\tConfig = require(\"./config\");\r\nrequire(\"common-libs/jquery.tap\");\r\n$(function() {\r\n\tvar paramMap = param.val(),\r\n\t\tpartId = paramMap[\"partId\"] || \"1\",\r\n\t\tgender = paramMap[\"gender\"] || \"1\";\r\n\t$.getJSON(\"/assets/glwx/js/disease_data.json\", function(data) {\r\n\t\tvar i = 0,\r\n\t\t\tlen = data.length,\r\n\t\t\tresortedMap = {};\r\n\t\tfor ( ; i < len ; i++ ) {\r\n\t\t\tvar disease = data[i];\r\n\t\t\tif (resortedMap[disease.bodyId]) {\r\n\t\t\t\tresortedMap[disease.bodyId].list.push(disease);\r\n\t\t\t} else {\r\n\t\t\t\tresortedMap[disease.bodyId] = {\r\n\t\t\t\t\tbodyName: disease.bodyName,\r\n\t\t\t\t\tlist: [disease]\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar $partWrap = $(\".part-wrap\"),\r\n\t\t\t$diseaseWrap = $(\".disease-wrap\"),\r\n\t\t\t$partTmpl = $('<div class=\"part\"></div>'),\r\n\t\t\t$diseaseTmpl = $('<div class=\"disease\"></div>');\r\n\t\tfor ( var i in resortedMap) {\r\n\t\t\tvar part = resortedMap[i],\r\n\t\t\t\tpartName = part.bodyName,\r\n\t\t\t\tlist = part.list,\r\n\t\t\t\tj = 0,\r\n\t\t\t\tlen = list.length,\r\n\t\t\t\t$diseases = $('<div class=\"diseases\"></div>').attr(\"data-part-id\", i);\r\n\t\t\t$partTmpl.clone().attr(\"data-part-id\", i).text(partName).appendTo($partWrap);\r\n\t\t\tfor ( ; j < len ; j++ ) {\r\n\t\t\t\tvar disease = list[j];\r\n\t\t\t\tif (disease.crowdId == gender || disease.isCommon) {\r\n\t\t\t\t\t$diseaseTmpl.clone().text(disease.diseaseName).data(\"diseaseInfo\", disease).appendTo($diseases);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t$diseases.appendTo($diseaseWrap);\r\n\t\t}\r\n\t\tvar $partList = $(\".part\"),\r\n\t\t\t$diseaseList = $(\".diseases\");\r\n\t\t$partList.tap(function(event) {\r\n\t\t\tvar $this = $(this);\r\n\t\t\tif (!$this.is(\".active\")) {\r\n\t\t\t\t$(\".part.active, .diseases.active\").removeClass(\"active\");\r\n\t\t\t\t$this.addClass(\"active\");\r\n\t\t\t\t$diseaseList.filter(function() {\r\n\t\t\t\t\treturn $(this).attr(\"data-part-id\") == $this.attr(\"data-part-id\");\r\n\t\t\t\t}).addClass(\"active\");\r\n\t\t\t}\r\n\t\t});\r\n\t\t$diseaseList.tap(function(event) {\r\n\t\t\tvar $target = $(event.target),\r\n\t\t\t\tdiseaseInfo = $target.data(\"diseaseInfo\"),\r\n\t\t\t\toTransData = {\r\n\t\t\t\t\tgender: gender,\r\n\t\t\t\t\tbodyName: diseaseInfo.bodyName,\r\n\t\t\t\t\tdiseaseName: diseaseInfo.diseaseName,\r\n\t\t\t\t\tbaiduDepartmentId: diseaseInfo.baiduDepartmentId\r\n\t\t\t\t};\r\n\t\t\tlocation.href = \"guidance_result?transData=\" + encodeURIComponent(JSON.stringify(oTransData));\r\n\t\t});\r\n\t\t$partList.filter(function() {\r\n\t\t\treturn $(this).attr(\"data-part-id\") == partId;\r\n\t\t}).triggerHandler(\"touchend\");\r\n\t\t$(\".wrapper\").show()\r\n\t\tvar\t_ctnr_height = $partWrap.height(),\r\n\t\t\t$currPart = $(\".part.active\");\r\n\t\t$partWrap.prop({\r\n\t\t\tscrollTop: ($currPart.offset().top - _ctnr_height + $currPart.outerHeight()) | 0\r\n\t\t});\r\n\t});\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\guidance_result.js","name":"./src/main/webapp/assets/glwx/js/guidance_result.js","index":17,"index2":17,"size":5504,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[6],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var param = require(\"common-libs/param\"),\r\n\tConfig = require(\"./config\");\r\nrequire(\"common-libs/jquery.tap\");\r\n$(function() {\r\n\tvar transData = param.val(\"transData\"),\r\n\t\toTransData = transData ? JSON.parse(transData) : {};\r\n\t$(\".anchor.gender\").text(oTransData.gender == \"1\" ? \"男性\" : \"女性\");\r\n\t$(\".anchor.part-name\").text(oTransData.bodyName);\r\n\t$(\".anchor.disease-name\").text(oTransData.diseaseName);\r\n\tvar $loading = $(\".loading\"),\r\n\t\t$noResult = $(\".no-result\"),\r\n\t\tdepParams = {hospitalCode : Config.HSPCODE, withHosDescFlag: \"0\", withDeptFlag : 1, withDeptDescFlag: \"0\"};\r\n\t// 加载相应科室\r\n\t$.ajax({\r\n\t\turl : Config.GetDataURL,\r\n\t\ttype : \"get\",\r\n\t\tdata : {\r\n\t\t\tpltId: Config.pltId,\r\n\t\t\tproductId: Config.productId,\r\n\t\t\tversion: Config.version,\r\n\t\t\tmName : \"searchHospitalInfo\",\r\n\t\t\tpContent : JSON.stringify(depParams)\r\n\t\t},\r\n\t\tdataTye : \"json\",\r\n\t\tbeforeSend : function() {\r\n\t\t\t$loading.show();\r\n\t\t},\r\n\t\tcomplete : function(data) {\r\n\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t} else {\r\n\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar deps = jsonData.rspData.body[0].departments,\r\n\t\t\t\t\t\treferenceDeps = $.grep(deps, function(val, i) {\r\n\t\t\t\t\t\t\treturn val.baiduDepartmentId == oTransData.baiduDepartmentId;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tif (referenceDeps.length) {\r\n\t\t\t\t\t\tvar referenceDep = referenceDeps[0];\r\n\t\t\t\t\t\t$(\".reference-dep-name\").text(referenceDep.departmentName);\r\n\t\t\t\t\t\t$(\".reference-wrap\").tap(function(event) {\r\n\t\t\t\t\t\t\tlocation.href = \"select_doctor?transData=\" + encodeURIComponent(JSON.stringify({\r\n\t\t\t\t\t\t\t\thspCode: Config.HSPCODE,\r\n\t\t\t\t\t\t\t\tdepId: referenceDep.departmentId,\r\n\t\t\t\t\t\t\t\tdepName: referenceDep.departmentName\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t}).show();\r\n\t\t\t\t\t\t// 查询医生信息\r\n\t\t\t\t\t\tvar depInfoParams = {hospitalCode: Config.HSPCODE, departmentId: referenceDep.departmentId}\r\n\t\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\t\turl : Config.GetDataURL,\r\n\t\t\t\t\t\t\ttype: \"get\",\r\n\t\t\t\t\t\t\tdata : {\r\n\t\t\t\t\t\t\t\tpltId: Config.pltId,\r\n\t\t\t\t\t\t\t\tproductId: Config.productId,\r\n\t\t\t\t\t\t\t\tversion: Config.version,\r\n\t\t\t\t\t\t\t\tmName:\"searchSchedue\",\r\n\t\t\t\t\t\t\t\tpContent: JSON.stringify(depInfoParams)\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcomplete : function(data) {\r\n\t\t\t\t\t\t\t\t$loading.hide();\r\n\t\t\t\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t// 绑定科室信息\r\n\t\t\t\t\t\t\t\t\t\tvar rspData = jsonData.rspData,\r\n\t\t\t\t\t\t\t\t\t\t\texperts = rspData.expertBody,\r\n\t\t\t\t\t\t\t\t\t\t\t$experts = $(\".experts\"),\r\n\t\t\t\t\t\t\t\t\t\t\t$expertTmpl = $(\".expert.template\"),\r\n\t\t\t\t\t\t\t\t\t\t\t$pureExpertTmpl = $expertTmpl.clone(true).removeClass(\"template\"),\r\n\t\t\t\t\t\t\t\t\t\t\teLen = experts.length,\r\n\t\t\t\t\t\t\t\t\t\t\tvalidExperts = 0;\r\n\t\t\t\t\t\t\t\t\t\t// 专家号处理\r\n\t\t\t\t\t\t\t\t\t\tif (eLen) {\r\n\t\t\t\t\t\t\t\t\t\t\tfor (var l = 0 ; l < eLen ; l++) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar expert = experts[l],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$expert = $pureExpertTmpl.clone(true),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tschedules = expert.schedules,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlen = schedules.length,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tseeTimeStrings = Config.SeeTimeStrings,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidSchedules = 0;\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (expert.imgUrl) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar tmpImg = new Image();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$(tmpImg).on(\"load\", {$ex: $expert}, function(event) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.data.$ex.find(\".doc-img\").attr(\"src\", $(this).prop(\"src\"));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttmpImg.src = expert.imgUrl;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar expertIn = expert.expertSpeciality;\r\n\t\t\t\t\t\t\t\t\t\t\t\t$expert.find(\".doc-name\").text(expert.expertName)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.end().find(\".doc-princ\").text(expert.expertTitle)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.end().find(\".expert-in\").text(expertIn ? (expertIn.length > 30 ? expertIn.slice(0, 30) + \"...\" : expertIn) : \"暂无介绍\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.end().data({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"expertInfo\" : expert,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"schedules\": schedules\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t// 处理各个医生排班，内部循环\r\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var m = 0 ; m < len ; m++) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar schedule = schedules[m];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ((schedule.stopFlag === \"0\" || !schedule.stopFlag) && schedule.remainCount !== undefined) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidSchedules++;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (validSchedules) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$expert.find(\".has-schedule\").show()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.end().insertBefore($expertTmpl);\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$expert.appendTo($experts);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t$(\".expert\").not(\".template\").tap(function(event, target) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar $expert = $(target).closest(\".expert\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\texpertInfo = $expert.data(\"expertInfo\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toTransData = {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thspCode: Config.HSPCODE,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdepId: referenceDep.departmentId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdepName: referenceDep.departmentName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\texpertId : expertInfo.expertId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\texpertName : expertInfo.expertName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\texpertTitle : expertInfo.expertTitle,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\texpertImg : expertInfo.imgUrl\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t\tlocation.href = \"doctor_info?transData=\" + encodeURIComponent(JSON.stringify(oTransData));\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t$(\".recommend-wrap\").show();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$loading.hide();\r\n\t\t\t\t\t\t$noResult.show();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\home.js","name":"./src/main/webapp/assets/glwx/js/home.js","index":18,"index2":19,"size":1043,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[7],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var cookie = require(\"common-libs/cookie\"),\r\n\tstorage = require(\"common-libs/storage\"),\r\n\tbase64 = require(\"common-libs/base64\"),\r\n\tConfig = require(\"./config\");\r\nvar uniqueHrefs = document.querySelectorAll(\".navi-wrap.unique\"),\r\n\tuserInfo = document.querySelector(\".user-info\"),\r\n\tuserSwitch = document.querySelector(\".switch-user\"),\r\n\ti = 0,\r\n\tlen = uniqueHrefs.length,\r\n\tbLogin = !!cookie.get(\"idnum\");\r\nfor ( ; i < len ; i++ ) {\r\n\tvar href = uniqueHrefs[i],\r\n\t\ttarget = href.getAttribute(\"data-href\");\r\n\thref.setAttribute(\"href\", bLogin ? target : (Config.IS_WX ? Config.getWxAuthPath(\"sign_in?referrer=\" + target) : \"sign_in?referrer=\" + target));\r\n}\r\nif (bLogin) {\r\n\tdocument.querySelector(\".value.name\").innerHTML = decodeURIComponent(base64.decode(cookie.get(\"name\")));\r\n\tuserInfo.style.display = \"block\";\r\n}\r\nuserSwitch.addEventListener(\"touchend\", function(event) {\r\n\tevent.preventDefault();\r\n\tcookie.removeAll();\r\n\tstorage.remove(Config.app);\r\n\tlocation.href = Config.IS_WX ? Config.getWxAuthPath(\"sign_in\") : \"sign_in\";\r\n}, false);"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\press_conference.js","name":"./src/main/webapp/assets/glwx/js/press_conference.js","index":35,"index2":35,"size":2210,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[22],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var Config = require(\"./config\");\r\n$(function() {\r\n\t// 加载轮播图\r\n\t$.ajax({\r\n\t\turl : \"/support/get_info\",\r\n\t\ttype: \"get\",\r\n\t\tdata : {\r\n\t\t\tactionType:\"cmsInfoFacade\",\r\n\t\t\tactionCode: \"getCmsInfoDetail\",\r\n\t\t\tinfoId: \"1480\"\r\n\t\t},\r\n\t\tcomplete : function(data) {\r\n\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t// alert(Config.NET_ERROR);\r\n\t\t\t} else {\r\n\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\tif (jsonData.respCode !== \"1\") {\r\n\t\t\t\t\t// $alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar info = JSON.parse(jsonData.data),\r\n\t\t\t\t\t\tshareImgSrc = \"\";\r\n\t\t\t\t\tvar ct = info.content;\r\n\t\t\t\t\tct = ct.replace(/&lt;/g, \"<\");\r\n\t\t\t\t\tct = ct.replace(/&gt;/g, \">\");\r\n\t\t\t\t\tct = ct.replace(/&quot;/g, '\"');\r\n\t\t\t\t\tct = ct.replace(/&nbsp;/g, ' ');\r\n\t\t\t\t\tvar images = ct.match(/<img.*?>/g);\r\n\t\t\t\t\tif (images) {\r\n\t\t\t\t\t\tvar i = 0,\r\n\t\t\t\t\t\t\tlen = images.length,\r\n\t\t\t\t\t\t\t$itemsWrap = $(\".carousel-items\"),\r\n\t\t\t\t\t\t\t$footer = $(\".carousel-footer\");\r\n\t\t\t\t\t\tfor ( ; i < len ; i++ ) {\r\n\t\t\t\t\t\t\tvar image = images[i],\r\n\t\t\t\t\t\t\t\timage = image.replace(/src=\"([\\w\\W]*?)\"/, 'src=\"http://cms.jiankang51.cn$1\"'),\r\n\t\t\t\t\t\t\t\t$image = $(image);\r\n\t\t\t\t\t\t\tif (!i) {\r\n\t\t\t\t\t\t\t\tshareImgSrc = $image.prop(\"src\");\r\n\t\t\t\t\t\t\t\t$(\".item.active\").prop(\"src\", shareImgSrc);\r\n\t\t\t\t\t\t\t\t$footer.text($image.attr(\"data-title\"));\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t$image.addClass(\"item\").appendTo($itemsWrap);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (len > 1) {\r\n\t\t\t\t\t\t\t// 满足轮播条件\r\n\t\t\t\t\t\t\tvar $items = $(\".item\"),\r\n\t\t\t\t\t\t\t\tcurrIndex = 0;\r\n\t\t\t\t\t\t\tsetInterval(function() {\r\n\t\t\t\t\t\t\t\t$items.eq(currIndex).removeClass(\"active\");\r\n\t\t\t\t\t\t\t\tcurrIndex = (currIndex + 1) % len;\r\n\t\t\t\t\t\t\t\tvar $curr = $items.eq(currIndex).addClass(\"active\");\r\n\t\t\t\t\t\t\t\t$footer.text($curr.attr(\"data-title\"));\r\n\t\t\t\t\t\t\t}, 5000);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\tvar $tabViews = $(\".tab-view\");\r\n\t$(\".tab\").on(\"touchend\", function(event) {\r\n\t\tvar $this = $(this);\r\n\t\tif (!$this.is(\".selected\")) {\r\n\t\t\t$(\".tab.selected\").removeClass(\"selected\");\r\n\t\t\t$this.addClass(\"selected\");\r\n\t\t\tvar currIndex = $this.index();\r\n\t\t\t$tabViews.each(function(i, value) {\r\n\t\t\t\t$(this).toggleClass(\"active\", i === currIndex);\r\n\t\t\t});\r\n\t\t}\r\n\t})\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\home_info.js","name":"./src/main/webapp/assets/glwx/js/home_info.js","index":20,"index2":20,"size":3353,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[8],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var param = require(\"common-libs/param\"),\r\n\tConfig = require(\"./config\");\r\nrequire(\"common-libs/jquery.tap\");\r\n$(function() {\r\n\t/*var column = getParamValue(\"columns\"),\r\n\toColumn = JSON.parse(column);*/\r\n\t/*\r\n\t请求格式：get\r\n\t对json格式参数进行urlencode编码\r\n\t参数名：columns\r\n\t参数：\r\n\t{\r\n\t\tcols: [{\r\n\t\t\tnodeId: 122, // not null\r\n\t\t\tlevel: 1, // if not passed, take 1 as default value\r\n\t\t\ttitle: \"医院动态\" // title name\r\n\t\t}, {\r\n\t\t\tnodeId: 123,\r\n\t\t\tlevel: 1,\r\n\t\t\ttitle: \"健康咨询\"\r\n\t\t}, {\r\n\t\t\tnodeId: 124,\r\n\t\t\tlevel: 1,\r\n\t\t\ttitle: \"养生保健\"\r\n\t\t}, {\r\n\t\t\tnodeId: 125,\r\n\t\t\tlevel: 1,\r\n\t\t\ttitle: \"就诊指南\"\r\n\t\t}]\r\n\t};*/\r\n\tvar productId = param.val(\"productId\") || \"007\",\r\n\t\toColumn = Config.appColumnsMap[productId],\r\n\t\t$cols = $(\".cols\").addClass(oColumn.style_extensions);\r\n\t$(\".col-img\").on(\"error\", function() {\r\n\t\t$(this).attr(\"src\", \"/assets/glwx/img/default_1.png\");\r\n\t});\r\n\t$(\".col-title-wrap\").tap(function(event, target) {\r\n\t\tvar $col = $(target).closest(\".col-wrap\");\r\n\t\tif (!$col.is(\".failed\")) {\r\n\t\t\tvar targetURL = location.origin + \"/glwx/info_list?productId=\" + productId + \"&defaultIndex=\" + $col.data(\"colInfo\").nodeId;\r\n\t\t\tif (window.newsJsInterface !== undefined) {\r\n\t\t\t\twindow.newsJsInterface.getTargetUrl(targetURL);\r\n\t\t\t} else {\r\n\t\t\t\tlocation.href = targetURL;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\tvar cols = oColumn.cols,\r\n\t\tlen = cols.length,\r\n\t\ti = 0,\r\n\t\t$colTmpl = $(\".col-wrap.template\"),\r\n\t\t$pureColTmpl = $colTmpl.clone(true).removeClass(\"template\");\r\n\t// 删除模板\r\n\t$colTmpl.remove();\r\n\tvar count = 1;\r\n\tfor ( ; i < len ; i++ ) {\r\n\t\tvar col = cols[i],\r\n\t\t\t$col = $pureColTmpl.clone(true),\r\n\t\t\t$failedDesc = $col.find(\".failed-desc\");\r\n\t\t$col.find(\".col-header\").text(col.title).end().appendTo($cols);\r\n\t\t$.ajax({\r\n\t\t\turl : \"/support/get_info\",\r\n\t\t\ttype: \"get\",\r\n\t\t\tdata : {actionType:\"cmsInfoFacade\", actionCode: \"getColumnNodeInfo\", deepth: col.level, nodeId: col.nodeId },\r\n\t\t\tcustomData: {\r\n\t\t\t\t$col: $col,\r\n\t\t\t\t$desc: $failedDesc,\r\n\t\t\t\tcol: col,\r\n\t\t\t\tindex: i\r\n\t\t\t},\r\n\t\t\tcomplete : function(data) {\r\n\t\t\t\tvar customData = this.customData,\r\n\t\t\t\t\t$column = customData.$col,\r\n\t\t\t\t\tcolumn = customData.col,\r\n\t\t\t\t\t$desc = customData.$desc;\r\n\t\t\t\t$column.find(\".col-title-wrap\").removeClass(\"onloading\")\r\n\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t$desc.text(\"资讯加载失败\");\r\n\t\t\t\t\t$column.addClass(\"failed\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\tif (jsonData.respCode !== \"1\") {\r\n\t\t\t\t\t\t$desc.text(\"资讯加载失败\");\r\n\t\t\t\t\t\t$column.addClass(\"failed\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar data = JSON.parse(jsonData.data),\r\n\t\t\t\t\t\t\tinfo;\r\n\t\t\t\t\t\tcols[customData.index].title = data.title;\r\n\t\t\t\t\t\tif (column.level > 1) {\r\n\t\t\t\t\t\t\tvar newsList = data.childNodes.length ? data.childNodes[0].newsList : null;\r\n\t\t\t\t\t\t\tinfo = newsList ? newsList[newsList.length - 1] : null;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tinfos = data.newsList;\r\n\t\t\t\t\t\t\tinfo = infos.length ? infos[0] : null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (info) {\r\n\t\t\t\t\t\t\t$column.find(\".col-header\").text(data.title)\r\n\t\t\t\t\t\t\t\t.end().find(\".col-title\").text(info.title)\r\n\t\t\t\t\t\t\t\t.end().find(\".col-img\").attr(\"src\", column.thumbnail_path ? column.thumbnail_path : (Config.INFO_IMG_SRC + info.imagePath))\r\n\t\t\t\t\t\t\t\t.end().data(\"colInfo\", column);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$desc.text(\"暂无资讯内容\");\r\n\t\t\t\t\t\t\t$column.addClass(\"failed\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hospitalization.js","name":"./src/main/webapp/assets/glwx/js/hospitalization.js","index":21,"index2":21,"size":4807,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[9],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var store = require(\"common-libs/storage\"),\r\n\tcookie = require(\"common-libs/cookie\"),\r\n\tbase64 = require(\"common-libs/base64\"),\r\n\tparam = require(\"common-libs/param\"),\r\n\tcheck = require(\"common-libs/formCheck\"),\r\n\tConfig = require(\"./config\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.tap\");\r\nrequire(\"common-libs/jquery.alert\");\r\n$(function() {\r\n\tvar paramMap = param.val(),\r\n\t\tpltId = paramMap[\"pltId\"],\r\n\t\tmode = paramMap[\"mode\"],\r\n\t\treferrerIndex;\r\n\tvar\tload = function() {\r\n\t\t// 读取本地存储\r\n\t\tvar\tdataStr = store.get(Config.app),\r\n\t\t\tappData = dataStr ? JSON.parse(decodeURIComponent(dataStr)) : {},\r\n\t\t\tzyData = appData.zyData || {},\r\n\t\t\tzyUsers = zyData.zyUsers || {},\r\n\t\t\tcurrUser = zyData.currUser;\r\n\t\t// 事件绑定\r\n\t\tvar $alert = $(\".alert-window\"),\r\n\t\t\t$invalid = $(\".alert-wrap.invalid\"),\r\n\t\t\t$noLoggin = $(\".alert-wrap.no-loggin\"),\r\n\t\t\t$searchForm = $(\".search-form\"),\r\n\t\t\t$searchBtn = $(\".search-btn\"),\r\n\t\t\t$code = $(\".input.input-code\"),\r\n\t\t\t$idnum = $(\".input.input-idnum\"),\r\n\t\t\t$searchInputs = $code.add($idnum),\r\n\t\t\tsearchAjax;\r\n\t\t$invalid.bindTouchHandler(\".confirm\", function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\t$invalid.close();\r\n\t\t});\r\n\t\t$noLoggin.bindTouchHandler(\".confirm\", function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\t$noLoggin.close();\r\n\t\t});\r\n\t\t$searchForm.on(\"submit\", function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\t$searchInputs.blur();\r\n\t\t\tvar code = $code.val(),\r\n\t\t\t\tidnum = $idnum.val(),\r\n\t\t\t\tidnumCheck = check.idnum(idnum, true);\r\n\t\t\tif (code && idnumCheck.flag) {\r\n\t\t\t\tif (!searchAjax) {\r\n\t\t\t\t\tsearchAjax = $.ajax({\r\n\t\t\t\t\t\turl : Config.GetDataURL,\r\n\t\t\t\t\t\ttype: \"get\",\r\n\t\t\t\t\t\tdata : {mName:\"getUserZyInfo\", pContent: JSON.stringify({hospitalCode: Config.HSPCODE, patientId: code, idNo: idnum})},\r\n\t\t\t\t\t\tbeforeSend: function() {\r\n\t\t\t\t\t\t\t$searchBtn.addClass(\"submiting\").text(\"查询中...\");\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete : function(data, status) {\r\n\t\t\t\t\t\t\t$searchBtn.removeClass(\"submiting\").text(\"查询\");\r\n\t\t\t\t\t\t\tsearchAjax = null;\r\n\t\t\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\t\t\tif (status == \"success\") {\r\n\t\t\t\t\t\t\t\t\talert(Config.GET_DATA_ERROR);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tif (status == \"error\") {\r\n\t\t\t\t\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t\t\t$noLoggin.open();\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar zyData = jsonData.rspData,\r\n\t\t\t\t\t\t\t\t\t\tzyCode = zyData.zyFlow,\r\n\t\t\t\t\t\t\t\t\t\tzyInfo = {\r\n\t\t\t\t\t\t\t\t\t\t\tzyFlow: zyData.zyFlow,\r\n\t\t\t\t\t\t\t\t\t\t\tzyDate: zyData.zyDate,\r\n\t\t\t\t\t\t\t\t\t\t\tname: zyData.name,\r\n\t\t\t\t\t\t\t\t\t\t\tidnum: idnum,\r\n\t\t\t\t\t\t\t\t\t\t\tareaId: zyData.areaId,\r\n\t\t\t\t\t\t\t\t\t\t\tareaName: zyData.areaName,\r\n\t\t\t\t\t\t\t\t\t\t\tsickBed: zyData.sickBed,\r\n\t\t\t\t\t\t\t\t\t\t\tpatientId: zyData.patientId\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tcurrUser = zyInfo.patientId;\r\n\t\t\t\t\t\t\t\t\tpltId && (zyInfo.pltId = pltId);\r\n\t\t\t\t\t\t\t\t\t!zyUsers[currUser] && (zyUsers[currUser] = zyInfo);\r\n\t\t\t\t\t\t\t\t\t// 信息存储\r\n\t\t\t\t\t\t\t\t\t$.extend(zyData, {\r\n\t\t\t\t\t\t\t\t\t\tcachedFlow: code,\r\n\t\t\t\t\t\t\t\t\t\tcachedIdnum: idnum,\r\n\t\t\t\t\t\t\t\t\t\tcurrUser: zyInfo.patientId,\r\n\t\t\t\t\t\t\t\t\t\tzyUsers: zyUsers\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tappData.zyData = zyData;\r\n\t\t\t\t\t\t\t\t\tstore.add(Config.app, encodeURIComponent(JSON.stringify(appData)), {expires: 90});\r\n\t\t\t\t\t\t\t\t\t// 跳转\r\n\t\t\t\t\t\t\t\t\t/*$(\".navi-wrap\").off().attr(\"href\", function() {\r\n\t\t\t\t\t\t\t\t\t\treturn $(this).attr(\"data-href\") + \"?pltId=\" + pltId;\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tif (referrerIndex) {\r\n\t\t\t\t\t\t\t\t\t\tlocation.href = $(\".navi-wrap\").eq(referrerIndex).attr(\"href\");\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tlocation.href = \"hospitalization?pltId=\" + pltId;\r\n\t\t\t\t\t\t\t\t\t}*/\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (!code) {\r\n\t\t\t\t\t$invalid.open(\"\", \"请输入住院号\");\r\n\t\t\t\t} else if (!idnumCheck.flag) {\r\n\t\t\t\t\t$invalid.open(\"\", idnumCheck.msg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t$searchBtn.on(\"touchend\", function(event) {\r\n\t\t\t$searchForm.submit();\r\n\t\t});\r\n\t};\r\n\tif (pltId) {\r\n\t\tif (!cookie.get(\"sid\") && (sid = paramMap[\"sid\"])) {\r\n\t\t\t$.ajax({\r\n\t\t\t\turl : \"/support/decode_app_data\",\r\n\t\t\t\ttype: \"get\",\r\n\t\t\t\tdata : {\r\n\t\t\t\t\tdata: paramMap[\"sid\"]\r\n\t\t\t\t},\r\n\t\t\t\tcomplete : function(data, status) {\r\n\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\tif (status == \"success\") {\r\n\t\t\t\t\t\t\talert(Config.GET_DATA_ERROR);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (status == \"error\") {\r\n\t\t\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcookie.add(\"sid\", dataText, {expires: 90});\r\n\t\t\t\t\t\tload();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t// sid存在或未获取到app传递的sid值\r\n\t\t\tload();\r\n\t\t}\r\n\t\t$(\".navigator\").children(\"#back\").tap(function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\thistory.go(-1);\r\n\t\t}).end().show();\r\n\t} else {\r\n\t\tload();\r\n\t}\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_account.js","name":"./src/main/webapp/assets/glwx/js/hsp_account.js","index":22,"index2":22,"size":3026,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[10],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var store = require(\"common-libs/storage\"),\r\n\tparam = require(\"common-libs/param\"),\r\n\tConfig = require(\"./config\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.tap\");\r\nrequire(\"common-libs/jquery.alert\");\r\n$(function() {\r\n\tvar pltId = param.val(\"pltId\");\r\n\t// 数据读取\r\n\tvar\tdataStr = store.get(Config.app),\r\n\t\tappData = dataStr ? JSON.parse(decodeURIComponent(dataStr)) : {},\r\n\t\tzyData = appData.zyData || {},\r\n\t\tzyUsers = zyData.zyUsers || {},\r\n\t\tcurrUser = zyData.currUser;\r\n\tif (pltId) {\r\n\t\t$(\".navigator\").children(\"#back\").tap(function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\thistory.go(-1);\r\n\t\t}).end().show();\r\n\t}\r\n\t// 事件绑定\r\n\tvar $noLoggin = $(\".alert-wrap.no-loggin\");\r\n\t$noLoggin.bindTouchHandler(\".confirm\", function(event) {\r\n\t\tevent.preventDefault();\r\n\t\t$noLoggin.close();\r\n\t});\r\n\t$(\".account\").tap(function(event) {\r\n\t\tvar $this = $(this);\r\n\t\tif (!$this.is(\".selected\")) {\r\n\t\t\t$(\".account.selected\").removeClass(\"selected\");\r\n\t\t\t$this.addClass(\"selected\");\r\n\t\t}\r\n\t});\r\n\t$(\".btn-add\").tap(function(event) {\r\n\t\tevent.preventDefault();\r\n\t\tlocation.href = \"hsp_sign_in?pltId=\" + pltId;\r\n\t});\r\n\t// 查询账户状态\r\n\tvar searchAjax = null,\r\n\t\t$switchBtn = $(\".btn.btn-switch\");\r\n\t$switchBtn.tap(function(event) {\r\n\t\tevent.preventDefault();\r\n\t\tvar $currUser = $(\".account.selected\"),\r\n\t\t\tcurrUser = $currUser.data(\"accountInfo\");\r\n\t\tif (currUser && !searchAjax) {\r\n\t\t\tvar searchParams = {\r\n\t\t\t\thospitalCode: Config.HSPCODE,\r\n\t\t\t\tpatientId: currUser.zyFlow,\r\n\t\t\t\tidNo: currUser.idnum\r\n\t\t\t};\r\n\t\t\tsearchAjax = $.ajax({\r\n\t\t\t\turl : Config.GetDataURL,\r\n\t\t\t\ttype: \"get\",\r\n\t\t\t\tdata : {\r\n\t\t\t\t\tmName:\"getUserZyInfo\",\r\n\t\t\t\t\tpContent: JSON.stringify(searchParams)\r\n\t\t\t\t},\r\n\t\t\t\tbeforeSend: function() {\r\n\t\t\t\t\t$switchBtn.addClass(\"submiting\").text(\"切换中...\");\r\n\t\t\t\t},\r\n\t\t\t\tcomplete : function(data, status) {\r\n\t\t\t\t\t$switchBtn.removeClass(\"submiting\").text(\"切换\");\r\n\t\t\t\t\tsearchAjax = null;\r\n\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\tif (status == \"success\") {\r\n\t\t\t\t\t\t\talert(Config.GET_DATA_ERROR);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (status == \"error\") {\r\n\t\t\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t$noLoggin.open();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tzyData.currUser = currUser.patientId;\r\n\t\t\t\t\t\t\tappData.zyData = zyData;\r\n\t\t\t\t\t\t\tstore.add(Config.app, encodeURIComponent(JSON.stringify(appData)), {expires: 90});\r\n\t\t\t\t\t\t\tlocation.href = \"hsp_home?pltId=\" + pltId;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\t// 加载用户\r\n\tvar $accountTmpl = $(\".account.template\").clone(true).removeClass(\"template\"),\r\n\t\t$accounts = $(\".accounts\");\r\n\tfor ( var i in zyUsers ) {\r\n\t\tvar account = zyUsers[i],\r\n\t\t\t$account = $accountTmpl.clone(true);\r\n\t\t$account.find(\".name\").text(account.name)\r\n\t\t\t.end().find(\".idnum\").text(account.idnum)\r\n\t\t\t.end().toggleClass(\"selected\", currUser == account.patientId).data(\"accountInfo\", account).appendTo($accounts);\r\n\t}\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_all_bill.js","name":"./src/main/webapp/assets/glwx/js/hsp_all_bill.js","index":23,"index2":23,"size":2620,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[11],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var param = require(\"common-libs/param\"),\r\n\tstore = require(\"common-libs/storage\"),\r\n\tConfig = require(\"./config\");\r\n// load built-in js Object extensions\r\nrequire(\"common-libs/dateUtils\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.tap\");\r\nrequire(\"common-libs/jquery.alert\");\r\n$(function() {\r\n\tvar zyUsers = store.get(\"zyUsers\"),\r\n\t\tcurrUser = store.get(\"currUser\"),\r\n\t\tzyInfo,\r\n\t\tpltId = param.val(\"pltId\");\r\n\tzyUsers = zyUsers ? JSON.parse(decodeURIComponent(zyUsers)) : {};\r\n\tif (pltId) {\r\n\t\t$(\".navigator\").children(\"#back\").tap(function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\thistory.go(-1);\r\n\t\t}).end().show();\r\n\t}\r\n\t// 用户切换\r\n\t$(\".switch-user\").on(\"touchend\", function(event) {\r\n\t\tevent.preventDefault();\r\n\t\tlocation.href = pltId ? \"hsp_account?pltId=\" + pltId : \"hsp_account\";\r\n\t});\r\n\tif ((zyInfo = zyUsers[currUser])) {\r\n\t\t// 填充住院用户信息\r\n\t\t$(\".name\").text(zyInfo.name);\r\n\t\t$(\".area\").text(zyInfo.areaName + \"/\" + zyInfo.sickBed + \"床\");\r\n\t\t$(\".time\").text(zyInfo.zyDate);\r\n\t\tvar $loading = $(\".loading\"),\r\n\t\t\t$alert = $(\".alert-window\"),\r\n\t\t\tsearchParams = {\r\n\t\t\t\thospitalCode: Config.HSPCODE,\r\n\t\t\t\tzyFlow: zyInfo.zyFlow\r\n\t\t\t};\r\n\t\t$.ajax({\r\n\t\t\turl : Config.GetDataURL,\r\n\t\t\ttype: \"get\",\r\n\t\t\tdata : {mName:\"getZYBillDetailList\", pContent: JSON.stringify(searchParams)},\r\n\t\t\tbeforeSend: function() {\r\n\t\t\t\t$loading.show();\r\n\t\t\t},\r\n\t\t\tcomplete : function(data) {\r\n\t\t\t\t$loading.hide();\r\n\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar zyData = jsonData.rspData,\r\n\t\t\t\t\t\t\titems = zyData.body,\r\n\t\t\t\t\t\t\ti = 0,\r\n\t\t\t\t\t\t\tlen = items.length,\r\n\t\t\t\t\t\t\t$itemTmpl = $(\".item.template\"),\r\n\t\t\t\t\t\t\t$pureItemTmpl = $itemTmpl.clone().removeClass(\"template\");\r\n\t\t\t\t\t\t$(\".dep-name\").text(zyData.departmentName);\r\n\t\t\t\t\t\t$(\".code\").text(zyInfo.patientId);\r\n\t\t\t\t\t\t$(\".leave-time\").text(zyData.cyTime);\r\n\t\t\t\t\t\t$(\".fee-prepayed\").text(zyData.hpmsFee);\r\n\t\t\t\t\t\t$(\".fee-used\").text(zyData.totalFee);\r\n\t\t\t\t\t\t$(\".fee-balance\").text(zyData.remainFee);\r\n\t\t\t\t\t\tfor ( ; i < len ; i++ ) {\r\n\t\t\t\t\t\t\tvar item = items[i],\r\n\t\t\t\t\t\t\t\tlist = item.itemList,\r\n\t\t\t\t\t\t\t\tj = 0,\r\n\t\t\t\t\t\t\t\tjLen = list.length,\r\n\t\t\t\t\t\t\t\t$item = $pureItemTmpl.clone();\r\n\t\t\t\t\t\t\t$item.children(\".item-name\").text(item.mFeeName)\r\n\t\t\t\t\t\t\t\t.end().find(\".item-sum\").text(item.charges)\r\n\t\t\t\t\t\t\t\t.end().insertBefore($itemTmpl);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(\".bill-wrap\").show();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\charge.js","name":"./src/main/webapp/assets/glwx/js/charge.js","index":0,"index2":7,"size":11107,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[0],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var cookie = require(\"common-libs/cookie\"),\r\n\tbase64 = require(\"common-libs/base64\"),\r\n\tConfig = require(\"./config\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.tap\");\r\nrequire(\"common-libs/jquery.alert\");\r\n$(function() {\r\n\tvar idnum = cookie.get(\"idnum\"),\r\n\t\topenId = cookie.get(\"openId\");\r\n\tif (openId) {\r\n\t\tidnum = base64.decode(idnum);\r\n\t\topenId = base64.decode(openId);\r\n\t\tvar $tabViews = $(\".tab-view\"),\r\n\t\t\t$alert = $(\".alert-window\"),\r\n\t\t\t$waitLoading = $(\".loading.wait-loading\"),\r\n\t\t\t$hisLoading = $(\".loading.his-loading\"),\r\n\t\t\tbHisSearched,\r\n\t\t\thisAjax,\r\n\t\t\twaitParams = {hospitalCode: Config.HSPCODE, userId: idnum, typeId: \"1\"},\r\n\t\t\thistoryParams = {hospitalCode: Config.HSPCODE, userId: idnum, typeId: \"1\"},\r\n\t\t\tname = decodeURIComponent(base64.decode(cookie.get(\"name\")));\r\n\t\t$(\".tabs\").on(\"touchend\", function(event) {\r\n\t\t\t$(\".tab.selected\").removeClass(\"selected\");\r\n\t\t\tvar $currTab = $(event.target).addClass(\"selected\"),\r\n\t\t\t\t$currView = $tabViews.eq($currTab.index());\r\n\t\t\t$tabViews.each(function(i) {\r\n\t\t\t\t$(this).toggle(i == $currTab.index());\r\n\t\t\t});\r\n\t\t\tif ($currView.is(\".charged\")) {\r\n\t\t\t\t// 查询历史挂号单\r\n\t\t\t\tif (!bHisSearched && !hisAjax) {\r\n\t\t\t\t\thisAjax = $.ajax({\r\n\t\t\t\t\t\turl : Config.GetDataURL,\r\n\t\t\t\t\t\ttype: \"get\",\r\n\t\t\t\t\t\tdata : {mName:\"searchPrenosInfo\", pContent: JSON.stringify(historyParams)},\r\n\t\t\t\t\t\tbeforeSend: function() {\r\n\t\t\t\t\t\t\t$hisLoading.show();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete : function(data) {\r\n\t\t\t\t\t\t\t$hisLoading.hide();\r\n\t\t\t\t\t\t\thisAjax = null;\r\n\t\t\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tbHisSearched = true;\r\n\t\t\t\t\t\t\t\t\tvar hisx = jsonData.rspData.paymentBody,\r\n\t\t\t\t\t\t\t\t\t\ti = 0,\r\n\t\t\t\t\t\t\t\t\t\tlen = hisx.length,\r\n\t\t\t\t\t\t\t\t\t\t$hisTmpl = $(\".his.template\"),\r\n\t\t\t\t\t\t\t\t\t\t$pureHisTmpl = $hisTmpl.clone(true).removeClass(\"template\");\r\n\t\t\t\t\t\t\t\t\tif (len) {\r\n\t\t\t\t\t\t\t\t\t\tfor ( ; i < len ; i++ ) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar his = hisx[i],\r\n\t\t\t\t\t\t\t\t\t\t\t\t$his = $pureHisTmpl.clone(true),\r\n\t\t\t\t\t\t\t\t\t\t\t\titem1 = his.detailList,\r\n\t\t\t\t\t\t\t\t\t\t\t\titem2 = his.dupInvoiceList,\r\n\t\t\t\t\t\t\t\t\t\t\t\texcDeptNames = $.map(item2, function(val, i) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn val.excDeptName;\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t$his.find(\".name\").text(his.patientName)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.end().find(\".time\").text(his.transDate)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.end().find(\".doc-name\").text(his.expertName)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.end().find(\".exec-dep\").text(excDeptNames.join(\"，\"))\r\n\t\t\t\t\t\t\t\t\t\t\t\t.end().find(\".total\").text(his.totalFee);\r\n\t\t\t\t\t\t\t\t\t\t\tif (item1.length) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar $mediTmpl = $his.find(\".medicine.template\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$pureMediTmpl = $mediTmpl.clone(true).removeClass(\"template\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tj = 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmediLen = item1.length;\r\n\t\t\t\t\t\t\t\t\t\t\t\tfor ( ; j < mediLen ; j++ ) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar medi = item1[j],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$medi = $pureMediTmpl.clone(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$medi.find(\".medi-name\").text(medi.itemName)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.end().find(\".speci\").text(medi.itemSpec)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.end().find(\".unit-price\").text(medi.itemPrice)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.end().find(\".amount\").text(medi.itemAmount)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.end().find(\".price\").text(medi.itemCharges)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.end().insertBefore($mediTmpl);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t$his.insertBefore($hisTmpl);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t$(\".no-charged\").show();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t$(\".known\").on(\"touchend\", function(event) {\r\n\t\t\t$(\".prompt\").hide();\r\n\t\t});\r\n\t\t$(\".container\").tap(function(event, target) {\r\n\t\t\tevent.stopPropagation();\r\n\t\t\t$(target).parent().toggleClass(\"unfold\");\r\n\t\t});\r\n\t\t$.ajax({\r\n\t\t\turl : Config.GetDataURL,\r\n\t\t\ttype: \"get\",\r\n\t\t\tdata : {mName:\"searchPrenosInfo\", pContent: JSON.stringify(waitParams)},\r\n\t\t\tbeforeSend: function() {\r\n\t\t\t\t$waitLoading.show();\r\n\t\t\t},\r\n\t\t\tcomplete : function(data) {\r\n\t\t\t\t$waitLoading.hide();\r\n\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbWaitSearched = true;\r\n\t\t\t\t\t\tvar waits = jsonData.rspData.unPaymentBody,\r\n\t\t\t\t\t\t\ti = 0,\r\n\t\t\t\t\t\t\tlen = waits.length,\r\n\t\t\t\t\t\t\t$waitTmpl = $(\".wait.template\"),\r\n\t\t\t\t\t\t\t$pureWaitTmpl = $waitTmpl.clone(true).removeClass(\"template\");\r\n\t\t\t\t\t\tif (len) {\r\n\t\t\t\t\t\t\tfor ( ; i < len ; i++ ) {\r\n\t\t\t\t\t\t\t\tvar wait = waits[i],\r\n\t\t\t\t\t\t\t\t\t$wait = $pureWaitTmpl.clone(true),\r\n\t\t\t\t\t\t\t\t\titem1 = wait.detailList,\r\n\t\t\t\t\t\t\t\t\titem2 = wait.dupInvoiceList;\r\n\t\t\t\t\t\t\t\t$wait.find(\".name\").text(wait.patientName)\r\n\t\t\t\t\t\t\t\t\t.end().find(\".dep-name\").text(wait.departmentName)\r\n\t\t\t\t\t\t\t\t\t.end().find(\".time\").text(wait.transDate)\r\n\t\t\t\t\t\t\t\t\t.end().find(\".exec-dep\").text(wait.excDeptName)\r\n\t\t\t\t\t\t\t\t\t.end().find(\".total\").text(wait.totalFee)\r\n\t\t\t\t\t\t\t\t\t.end().data(\"preNoInfo\", wait);\r\n\t\t\t\t\t\t\t\tif (item1.length) {\r\n\t\t\t\t\t\t\t\t\tvar $mediTmpl = $wait.find(\".medicine.template\"),\r\n\t\t\t\t\t\t\t\t\t\t$pureMediTmpl = $mediTmpl.clone(true).removeClass(\"template\"),\r\n\t\t\t\t\t\t\t\t\t\tj = 0,\r\n\t\t\t\t\t\t\t\t\t\tmediLen = item1.length;\r\n\t\t\t\t\t\t\t\t\tfor ( ; j < mediLen ; j++ ) {\r\n\t\t\t\t\t\t\t\t\t\tvar medi = item1[j],\r\n\t\t\t\t\t\t\t\t\t\t\t$medi = $pureMediTmpl.clone(true);\r\n\t\t\t\t\t\t\t\t\t\t$medi.find(\".medi-name\").text(medi.itemName)\r\n\t\t\t\t\t\t\t\t\t\t\t.end().find(\".speci\").text(medi.itemSpec)\r\n\t\t\t\t\t\t\t\t\t\t\t.end().find(\".unit-price\").text(medi.itemPrice)\r\n\t\t\t\t\t\t\t\t\t\t\t.end().find(\".amount\").text(medi.itemAmount)\r\n\t\t\t\t\t\t\t\t\t\t\t.end().find(\".price\").text(medi.itemCharges)\r\n\t\t\t\t\t\t\t\t\t\t\t.end().insertBefore($mediTmpl);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t$wait.insertBefore($waitTmpl);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t$(\".waits .sum-wrap\").show();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(\".no-waits\").show();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar configList,\r\n\t\t\turl = location.href,\r\n\t\t\twellIndex,\r\n\t\t\tMAX_SEARCH_TRIAL = 5,\r\n\t\t\tonPayAjax,\r\n\t\t\t$wxConfig = $(\".overlayer.config\"),\r\n\t\t\t$requestLoding = $(\".loading.request\"),\r\n\t\t\t$resultLoding = $(\".loading.result\");\r\n\t\tif ((wellIndex = url.indexOf('#')) !== -1) {\r\n\t\t\turl = url.slice(0, wellIndex);\r\n\t\t}\r\n\t\twx.ready(function(){\r\n\t\t\t// 配置完成后可以执行支付\r\n\t\t\t$wxConfig.hide();\r\n\t\t});\r\n\t\twx.error(function(){\r\n\t\t\t$wxConfig.hide();\r\n\t\t\t$alert.alert(\"微信配置失败，请尝试刷新\", true);\r\n\t\t});\r\n\t\t// 获取jsapi_ticket, 作微信配置用\r\n\t\t$.ajax({\r\n\t\t\turl: Config.GetDataURL,\r\n\t\t\ttype: \"get\",\r\n\t\t\tdataType: \"json\",\r\n\t\t\tdata: {mName:\"getWeiXinCertificate\", pContent: JSON.stringify({\r\n\t\t\t\tappId: Config.wxAppId,\r\n\t\t\t\turl: encodeURIComponent(url)\r\n\t\t\t})},\r\n\t\t\tcomplete: function(data, status) {\r\n\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconfigList = jsonData.signInfo;\r\n\t\t\t\t\t\twx.config({\r\n\t\t\t\t\t\t    debug: false,\r\n\t\t\t\t\t\t    appId: configList.appId,\r\n\t\t\t\t\t\t    timestamp: configList.timestamp,\r\n\t\t\t\t\t\t    nonceStr: configList.nonceStr,\r\n\t\t\t\t\t\t    signature: configList.signature,\r\n\t\t\t\t\t\t    jsApiList: [\"chooseWXPay\"]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tfunction execPay(chargeInfo) {\r\n\t\t\tif (onPayAjax) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar\tchargeData = {\r\n\t\t\t\t\ttypeId: 3,\r\n\t\t\t\t\thospitalCode: Config.HSPCODE,\r\n\t\t\t\t\tpayMethod: Config.PayMethod.WX_PAY,\r\n\t\t\t\t\toprUserId: idnum,\r\n\t\t\t\t\tuserId: chargeInfo.userId,\r\n\t\t\t\t\tflow: chargeInfo.preNo,\r\n\t\t\t\t\tcardNo: chargeInfo.cardNo,\r\n\t\t\t\t\tcardNoType: chargeInfo.cardNoType,\r\n\t\t\t\t\twxTradeType: \"JSAPI\",\r\n\t\t\t\t\topenId: openId,\r\n\t\t\t\t\tappId: configList.appId\r\n\t\t\t\t};\r\n\t\t\t// 调后台支付接口\r\n\t\t\t// registerRequestPay\r\n\t\t\tonPayAjax = $.ajax({\r\n\t\t\t\turl: Config.GetDataURL,\r\n\t\t\t\ttype: \"get\",\r\n\t\t\t\tdataType: \"json\",\r\n\t\t\t\tdata: {mName:\"registerRequestPay\", pContent: JSON.stringify(chargeData)},\r\n\t\t\t\tbeforeSend: function() {\r\n\t\t\t\t\t$requestLoding.show();\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: function(data) {\r\n\t\t\t\t\t// 获取prepay_id\r\n\t\t\t\t\t$requestLoding.hide();\r\n\t\t\t\t\tonPayAjax = null;\r\n\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar rspData = jsonData.rspData;\r\n\t\t\t\t\t\t\twx.chooseWXPay({\r\n\t\t\t\t\t\t\t \ttimestamp: rspData.timeStamp,\r\n\t\t\t\t\t\t\t    nonceStr: rspData.nonceStr,\r\n\t\t\t\t\t\t\t    package: \"prepay_id=\" + rspData.prepayId,\r\n\t\t\t\t\t\t\t    signType: 'MD5',\r\n\t\t\t\t\t\t\t    paySign: rspData.paySign,\r\n\t\t\t\t\t\t\t    success: function (res) {\r\n\t\t\t\t\t\t\t\t    // 支付成功回调\r\n\t\t\t\t\t\t\t\t    searchResult(rspData.rcptStreamNo, chargeInfo.itemName);\r\n\t\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t\t    error: function() {\r\n\t\t\t\t\t\t\t    \t$alert.alert(\"支付失败\");\r\n\t\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tfunction searchResult(rcptStreamNo, itemName) {\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: Config.GetDataURL,\r\n\t\t\t\ttype: \"get\",\r\n\t\t\t\tdataType: \"json\",\r\n\t\t\t\tdata: {mName:\"getMyOrderInfo\", pContent: JSON.stringify({\r\n\t\t\t\t\thospitalCode: Config.HSPCODE,\r\n\t\t\t\t\trcptStreamNo: rcptStreamNo,\r\n\t\t\t\t\tuserId: idnum,\r\n\t\t\t\t\tqueryType: \"3\"\r\n\t\t\t\t})},\r\n\t\t\t\tbeforeSend: function() {\r\n\t\t\t\t\t$resultLoding.show();\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: function(data) {\r\n\t\t\t\t\t// 获取prepay_id\r\n\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$resultLoding.hide();\r\n\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t// 后台程序执行时出错\r\n\t\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar orders = jsonData.rspData.body;\r\n\t\t\t\t\t\t\tif (orders.length) {\r\n\t\t\t\t\t\t\t\tvar orderInfo = orders[0];\r\n\t\t\t\t\t\t\t\tif (orderInfo.tranceStatus == \"1\") {\r\n\t\t\t\t\t\t\t\t\t// 查询缴费结果成功\r\n\t\t\t\t\t\t\t\t\t$alert.alert(\"缴费成功！两秒后页面将自动刷新\", false, function() {\r\n\t\t\t\t\t\t\t\t\t\tlocation.reload();\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tif (orderInfo.tranceStatus == \"0\") {\r\n\t\t\t\t\t\t\t\t\t\t$alert.alert(\"缴费失败，请尝试刷新以查看订单状态\", true);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tvar $processing = $(\".alert-wrap.processing\");\r\n\t\t\t\t\t\t\t\t\t\t$processing.bindTouchHandler({\r\n\t\t\t\t\t\t\t\t\t\t\t\".confirm\": function(event) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t$processing.close();\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t$processing.open()\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$alert.alert(\"未查询到相应订单，请尝试刷新以查看订单状态\", true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t$(\".charge-btn\").on(\"touchend\", function(event) {\r\n\t\t\tvar $this = $(this);\r\n\t\t\tif (!$this.is(\".disabled\")) {\r\n\t\t\t\tvar $wait = $this.closest(\".wait\"),\r\n\t\t\t\t\tpreNoInfo = $wait.data(\"preNoInfo\");\r\n\t\t\t\texecPay(preNoInfo);\r\n\t\t\t}\r\n\t\t});\r\n\t} else {\r\n\t\tlocation.href = Config.IS_WX ? Config.getWxAuthPath(\"sign_in?referrer=charge\") : \"sign_in?referrer=charge\";\r\n\t}\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_foregift.js","name":"./src/main/webapp/assets/glwx/js/hsp_foregift.js","index":25,"index2":25,"size":2896,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[13],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var param = require(\"common-libs/param\"),\r\n\tstore = require(\"common-libs/storage\"),\r\n\tConfig = require(\"./config\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.tap\");\r\nrequire(\"common-libs/jquery.alert\");\r\n$(function() {\r\n\tvar pltId = param.val(\"pltId\");\r\n\tif (pltId) {\r\n\t\t$(\".navbar\").children(\"#back\").tap(function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\thistory.go(-1);\r\n\t\t}).end().show();\r\n\t}\r\n\t// 数据读取\r\n\tvar\tdataStr = store.get(Config.app),\r\n\t\tappData = dataStr ? JSON.parse(decodeURIComponent(dataStr)) : {},\r\n\t\tzyData = appData.zyData || {},\r\n\t\tzyUsers = zyData.zyUsers || {},\r\n\t\tcurrUser = zyData.currUser;\r\n\tif ((zyInfo = zyUsers[currUser])) {\r\n\t\t// 填充住院用户信息\r\n\t\t$(\".name\").text(zyInfo.name);\r\n\t\t$(\".area\").text(zyInfo.areaName + \"/\" + zyInfo.sickBed + \"床\");\r\n\t\t$(\".time\").text(zyInfo.zyDate);\r\n\t\t$(\".user-info\").children(\".switch-user\").tap(function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tlocation.href = \"hsp_account?pltId=\" + pltId;\r\n\t\t}).end().show();\r\n\t\tvar $loading = $(\".loading\"),\r\n\t\t\t$alert = $(\".alert-window\"),\r\n\t\t\tsearchParams = {\r\n\t\t\t\thospitalCode: Config.HSPCODE,\r\n\t\t\t\tzyFlow: zyInfo.zyFlow,\r\n\t\t\t\tidNo: zyInfo.idnum\r\n\t\t\t};\r\n\t\t$.ajax({\r\n\t\t\turl : Config.GetDataURL,\r\n\t\t\ttype: \"get\",\r\n\t\t\tdata : {mName:\"getUserZyInfo\", pContent: JSON.stringify(searchParams)},\r\n\t\t\tbeforeSend: function() {\r\n\t\t\t\t$loading.show();\r\n\t\t\t},\r\n\t\t\tcomplete : function(data) {\r\n\t\t\t\t$loading.hide();\r\n\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar zyData = jsonData.rspData,\r\n\t\t\t\t\t\t\tcharges = zyData.prepayItemList;\r\n\t\t\t\t\t\tif (charges) {\r\n\t\t\t\t\t\t\tvar\ti = 0,\r\n\t\t\t\t\t\t\t\tlen = charges.length,\r\n\t\t\t\t\t\t\t\t$chargeTmpl = $(\".charge.template\"),\r\n\t\t\t\t\t\t\t\t$pureTmpl = $chargeTmpl.clone().removeClass(\"template\"),\r\n\t\t\t\t\t\t\t\ttypeMap = {\r\n\t\t\t\t\t\t\t\t\t\"收金额\": \"缴纳\",\r\n\t\t\t\t\t\t\t\t\t\"退金额\": \"退款\"\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tfor ( ; i < len ; i++ ) {\r\n\t\t\t\t\t\t\t\tvar charge = charges[i],\r\n\t\t\t\t\t\t\t\t\t$charge = $pureTmpl.clone(),\r\n\t\t\t\t\t\t\t\t\tamt = charge.itemAmt;\r\n\t\t\t\t\t\t\t\t$charge.children(\".charge-time\").text(charge.itemDate)\r\n\t\t\t\t\t\t\t\t\t.end().children(\".charge-amt\").text(amt).css(\"color\", function() {\r\n\t\t\t\t\t\t\t\t\t\treturn +charge.itemAmt ? \"#1D8BF2\" : \"#FF6A4D\";\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t.end().children(\".charge-remark\").text(typeMap[charge.itemType])\r\n\t\t\t\t\t\t\t\t\t.end().insertBefore($chargeTmpl);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(\".code\").text(zyInfo.zyFlow);\r\n\t\t\t\t\t\t$(\".charge-nums\").text(zyData.zyPreTimes + \"次\");\r\n\t\t\t\t\t\t$(\".charged\").text(zyData.zyPreFee + \"元\");\r\n\t\t\t\t\t\t$(\".used\").text(zyData.zyPreUseFee + \"元\");\r\n\t\t\t\t\t\t$(\".info-wrap\").show();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t} else {\r\n\t\tlocation.href = \"hsp_sign_in?referrer=hsp_foregift&pltId=\" + pltId;\r\n\t}\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_home.js","name":"./src/main/webapp/assets/glwx/js/hsp_home.js","index":26,"index2":26,"size":1832,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[14],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var store = require(\"common-libs/storage\"),\r\n\tcookie = require(\"common-libs/cookie\"),\r\n\tparam = require(\"common-libs/param\"),\r\n\tConfig = require(\"./config\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.tap\");\r\nrequire(\"common-libs/jquery.alert\");\r\n$(function() {\r\n\tvar paramMap = param.val(),\r\n\t\tpltId = param.val(\"pltId\");\r\n\tif (pltId) {\r\n\t\tif (sid = paramMap[\"sid\"]) {\r\n\t\t\t// 若app内账号已被切换，则清除原有住院数据\r\n\t\t\tsid !== cookie.get(\"origin_sid\") && store.remove(Config.app);\r\n\t\t}\r\n\t\t$(\".navbar\").children(\"#back\").tap(function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tvar ua = navigator.userAgent;\r\n\t\t\t// 关闭页面\r\n\t\t\tif (/android/i.test(ua)) {\r\n\t\t\t\twindow.jsInterface.close();\r\n\t\t\t} else if (/iPhone/i.test(ua)) {\r\n\t\t\t\tlocation.href = \"close\";\r\n\t\t\t} else {\r\n\t\t\t\thistory.go(-1);\r\n\t\t\t}\r\n\t\t}).end().toggle(!param.val(\"home\"));\r\n\t}\r\n\t// 数据读取\r\n\tvar\tdataStr = store.get(Config.app),\r\n\t\tappData = dataStr ? JSON.parse(decodeURIComponent(dataStr)) : {},\r\n\t\tzyData = appData.zyData || {},\r\n\t\tzyUsers = zyData.zyUsers || {},\r\n\t\tcurrUser = zyData.currUser;\r\n\tif ((zyInfo = zyUsers[currUser])) {\r\n\t\t$(\".name\").text(zyInfo.name);\r\n\t\t$(\".area\").text(zyInfo.areaName + \"/\" + zyInfo.sickBed + \"床\");\r\n\t\t$(\".time\").text(zyInfo.zyDate);\r\n\t\t$(\".user-info\").children(\".switch-user\").tap(function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tlocation.href = \"hsp_account?pltId=\" + pltId;\r\n\t\t}).end().show();\r\n\t\t// 绑定链接地址\r\n\t\t$(\".navi-wrap\").attr(\"href\", function() {\r\n\t\t\treturn $(this).attr(\"data-href\") + \"?pltId=\" + pltId;\r\n\t\t});\r\n\t} else {\r\n\t\t// 未登录\r\n\t\t$(\".navi-wrap\").tap(function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tparamMap[\"referrer\"] = $(this).attr(\"data-href\");\r\n\t\t\tvar paramList = [];\r\n\t\t\tfor ( name in paramMap) {\r\n\t\t\t\tparamList.push(name + \"=\" + paramMap[name]);\r\n\t\t\t}\r\n\t\t\tlocation.href = \"hsp_sign_in?\" + paramList.join(\"&\");\r\n\t\t});\r\n\t}\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_sign_in.js","name":"./src/main/webapp/assets/glwx/js/hsp_sign_in.js","index":27,"index2":27,"size":4963,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[15],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var store = require(\"common-libs/storage\"),\r\n\tcookie = require(\"common-libs/cookie\"),\r\n\tparam = require(\"common-libs/param\"),\r\n\tcheck = require(\"common-libs/formCheck\"),\r\n\tConfig = require(\"./config\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.tap\");\r\nrequire(\"common-libs/jquery.alert\");\r\n$(function() {\r\n\tvar paramMap = param.val(),\r\n\t\tpltId = param.val(\"pltId\"),\r\n\t\treferrerIndex;\r\n\tvar\tload = function() {\r\n\t\t// 读取本地存储\r\n\t\tvar\tdataStr = store.get(Config.app),\r\n\t\t\tappData = dataStr ? JSON.parse(decodeURIComponent(dataStr)) : {},\r\n\t\t\tzyData = appData.zyData || {},\r\n\t\t\tzyUsers = zyData.zyUsers || {},\r\n\t\t\tcurrUser = zyData.currUser;\r\n\t\t// 事件绑定\r\n\t\tvar $alert = $(\".alert-window\"),\r\n\t\t\t$invalid = $(\".alert-wrap.input-invalid\"),\r\n\t\t\t$noLoggin = $(\".alert-wrap.no-loggin\"),\r\n\t\t\t$searchForm = $(\".search-form\"),\r\n\t\t\t$searchBtn = $(\".search-btn\"),\r\n\t\t\t$code = $(\".input.input-code\"),\r\n\t\t\t$idnum = $(\".input.input-idnum\"),\r\n\t\t\t$searchInputs = $code.add($idnum),\r\n\t\t\tsearchAjax;\r\n\t\t$invalid.bindTouchHandler(\".confirm\", function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\t$invalid.close();\r\n\t\t});\r\n\t\t$noLoggin.bindTouchHandler(\".confirm\", function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\t$noLoggin.close();\r\n\t\t});\r\n\t\t$searchForm.on(\"submit\", function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\t$searchInputs.blur();\r\n\t\t\tvar code = $code.val(),\r\n\t\t\t\tidnum = $idnum.val(),\r\n\t\t\t\tidnumCheck = check.idnum(idnum, true);\r\n\t\t\tif (code && idnumCheck.flag) {\r\n\t\t\t\tif (!searchAjax) {\r\n\t\t\t\t\tsearchAjax = $.ajax({\r\n\t\t\t\t\t\turl : Config.GetDataURL,\r\n\t\t\t\t\t\ttype: \"get\",\r\n\t\t\t\t\t\tdata : {mName:\"getUserZyInfo\", pContent: JSON.stringify({hospitalCode: Config.HSPCODE, patientId: code, idNo: idnum})},\r\n\t\t\t\t\t\tbeforeSend: function() {\r\n\t\t\t\t\t\t\t$searchBtn.addClass(\"submiting\").text(\"查询中...\");\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete : function(data, status) {\r\n\t\t\t\t\t\t\t$searchBtn.removeClass(\"submiting\").text(\"查询\");\r\n\t\t\t\t\t\t\tsearchAjax = null;\r\n\t\t\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\t\t\tif (status == \"success\") {\r\n\t\t\t\t\t\t\t\t\talert(Config.GET_DATA_ERROR);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tif (status == \"error\") {\r\n\t\t\t\t\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t\t\t$noLoggin.open();\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar zyData = jsonData.rspData,\r\n\t\t\t\t\t\t\t\t\t\tzyCode = zyData.zyFlow,\r\n\t\t\t\t\t\t\t\t\t\tzyInfo = {\r\n\t\t\t\t\t\t\t\t\t\t\tzyFlow: zyData.zyFlow,\r\n\t\t\t\t\t\t\t\t\t\t\tzyDate: zyData.zyDate,\r\n\t\t\t\t\t\t\t\t\t\t\tname: zyData.name,\r\n\t\t\t\t\t\t\t\t\t\t\tidnum: idnum,\r\n\t\t\t\t\t\t\t\t\t\t\tareaId: zyData.areaId,\r\n\t\t\t\t\t\t\t\t\t\t\tareaName: zyData.areaName,\r\n\t\t\t\t\t\t\t\t\t\t\tsickBed: zyData.sickBed,\r\n\t\t\t\t\t\t\t\t\t\t\tpatientId: zyData.patientId\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tcurrUser = zyInfo.patientId;\r\n\t\t\t\t\t\t\t\t\tpltId && (zyInfo.pltId = pltId);\r\n\t\t\t\t\t\t\t\t\t!zyUsers[currUser] && (zyUsers[currUser] = zyInfo);\r\n\t\t\t\t\t\t\t\t\t// 信息存储\r\n\t\t\t\t\t\t\t\t\t$.extend(zyData, {\r\n\t\t\t\t\t\t\t\t\t\tcachedFlow: code,\r\n\t\t\t\t\t\t\t\t\t\tcachedIdnum: idnum,\r\n\t\t\t\t\t\t\t\t\t\tcurrUser: zyInfo.patientId,\r\n\t\t\t\t\t\t\t\t\t\tzyUsers: zyUsers\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tappData.zyData = zyData;\r\n\t\t\t\t\t\t\t\t\tstore.add(Config.app, encodeURIComponent(JSON.stringify(appData)), {expires: 90});\r\n\t\t\t\t\t\t\t\t\t// 跳转\r\n\t\t\t\t\t\t\t\t\tif (referrer = paramMap[\"referrer\"]) {\r\n\t\t\t\t\t\t\t\t\t\tvar transData = paramMap[\"transData\"],\r\n\t\t\t\t\t\t\t\t\t\t\ttargetHref = referrer + \"?pltId=\" + pltId;\r\n\t\t\t\t\t\t\t\t\t\ttransData && (targetHref += (\"&transData=\" + encodeURIComponent(transData)));\r\n\t\t\t\t\t\t\t\t\t\tlocation.href = targetHref;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tlocation.href = \"hsp_home?pltId=\" + pltId;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (!code) {\r\n\t\t\t\t\t$invalid.open(\"\", \"请输入住院号\");\r\n\t\t\t\t} else if (!idnumCheck.flag) {\r\n\t\t\t\t\t$invalid.open(\"\", idnumCheck.msg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t$searchBtn.tap(function(event) {\r\n\t\t\t$searchForm.submit();\r\n\t\t});\r\n\t};\r\n\tif (pltId) {\r\n\t\tif (sid = paramMap[\"sid\"]) {\r\n\t\t\t// 如果传参包含sid\r\n\t\t\t// 检查sid是否发生变化\r\n\t\t\tvar originSid = cookie.get(\"origin_sid\");\r\n\t\t\tif (!originSid || (originSid !== sid)) {\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl : \"/support/decode_app_data\",\r\n\t\t\t\t\ttype: \"get\",\r\n\t\t\t\t\tdata : {\r\n\t\t\t\t\t\tdata: paramMap[\"sid\"]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete : function(data, status) {\r\n\t\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\t\tif (status == \"success\") {\r\n\t\t\t\t\t\t\t\talert(Config.GET_DATA_ERROR);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (status == \"error\") {\r\n\t\t\t\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcookie.add(\"origin_sid\", sid, {expires: 90});\r\n\t\t\t\t\t\t\tcookie.add(\"sid\", dataText, {expires: 90});\r\n\t\t\t\t\t\t\tload();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tload();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// 未获取到app传递的sid值\r\n\t\t\tload();\r\n\t\t}\r\n\t\t$(\".navbar\").children(\"#back\").tap(function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\thistory.go(-1);\r\n\t\t}).end().show();\r\n\t} else {\r\n\t\tload();\r\n\t}\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\info_list.js","name":"./src/main/webapp/assets/glwx/js/info_list.js","index":28,"index2":28,"size":9658,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[16],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var param = require(\"common-libs/param\"),\r\n\tcookie = require(\"common-libs/cookie\"),\r\n\tConfig = require(\"./config\");\r\nrequire(\"common-libs/dateUtils\");\r\nrequire(\"common-libs/jquery.tap\");\r\n$(function() {\r\n\tvar paramMap = param.val(),\r\n\t\tinfoId = paramMap[\"infoId\"],\r\n\t\tproductId = paramMap[\"productId\"] || \"007\",\r\n\t\t$listLoading = $(\".list-loading\"),\r\n\t\t$detailLoading = $(\".detail-loading\");\r\n\tvar oTransData = Config.appColumnsMap[productId],\r\n\t\tdefaultIndex = paramMap[\"defaultIndex\"];\r\n\toTransData.defaultIndex = defaultIndex;\r\n\tvar $listWrap = $(\".list-wrap\").addClass(oTransData.style_extensions);\r\n\t$(\".info-img\").on(\"error\", function(event) {\r\n\t\tvar $this = $(this),\r\n\t\t\treplaceImgSrc;\r\n\t\tif ($listWrap.is(\".first-stressed\") && $this.closest(\".info\").index() === 0) {\r\n\t\t\treplaceImgSrc = \"/assets/glwx/img/default_2.png\";\r\n\t\t} else {\r\n\t\t\treplaceImgSrc = \"/assets/glwx/img/default_1.png\";\r\n\t\t}\r\n\t\t$this.attr(\"src\", replaceImgSrc);\r\n\t});\r\n\tif (!infoId) {\r\n\t\tvar onAjax = null,\r\n\t\t\t$simple = $(\".simple_tmpl\"),\r\n\t\t\t$complex = $(\".complex_tmpl\"),\r\n\t\t\t$body = $(\"body\"),\r\n\t\t\t$currTmpl;\r\n\t\t// bind data, refresh model\r\n\t\tvar cols = oTransData.article_based ? oTransData.article_cols : oTransData.cols,\r\n\t\t\tlen = cols.length,\r\n\t\t\ti = 0,\r\n\t\t\trequestQueue = [], // 数据请求队列，批量处理\r\n\t\t\tsentCount = 0,\r\n\t\t\tcompleteCount = 0,\r\n\t\t\tdefaultIndex = oTransData.defaultIndex,\r\n\t\t\tstorageSupport = !!window.localStorage,\r\n\t\t\tstorageIdent = \"jknjInfo\",\r\n\t\t\t$tmpl = $(\".simple_tmpl\"),\r\n\t\t\t$pureTmpl = $tmpl.clone(true).removeClass(\"template\"), // $model\r\n\t\t\t$tabTmpl = $(\".tab-wrap.template\"),\r\n\t\t\t$pureTab = $tabTmpl.clone(true).removeClass(\"template\");\r\n\t\t// 顶部导航\r\n\t\tif (pltId = paramMap[\"pltId\"]) {\r\n\t\t\t$(\".list-navi\").addClass(\"visible\").children(\"#back\").tap(function(event) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tvar ua = navigator.userAgent;\r\n\t\t\t\t// 关闭页面\r\n\t\t\t\tif (/iPhone/i.test(ua)) {\r\n\t\t\t\t\tlocation.href = \"close\";\r\n\t\t\t\t} else if (/android/i.test(ua)) {\r\n\t\t\t\t\twindow.jsInterface && window.jsInterface.close();\r\n\t\t\t\t} else {\r\n\t\t\t\t\thistory.go(-1);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t// 绑定和刷新方法声明，供赋值时引用\r\n\t\tvar refresh = function(data, features) {\r\n\t\t\t\tthis.find(\".info\").not(\".template\").remove();\r\n\t\t\t\treturn this.bindData(data, features);\r\n\t\t\t},\r\n\t\t\tbindData = function(data, features) {\r\n\t\t\t\tvar infos = data.newsList,\r\n\t\t\t\t\ti = 0,\r\n\t\t\t\t\tlen = infos.length;\r\n\t\t\t\tvar $infoTmpl = this.find(\".info.template\"),\r\n\t\t\t\t\t$pureInfoTmpl = $infoTmpl.clone(true).removeClass(\"template\");\r\n\t\t\t\t// not article_based feature\r\n\t\t\t\tfor ( ; i < len ; i++ ) {\r\n\t\t\t\t\tvar info = infos[i],\r\n\t\t\t\t\t\t$info = $pureInfoTmpl.clone(true);\r\n\t\t\t\t\tif (info.imagePath) {\r\n\t\t\t\t\t\tvar tmpImg = new Image();\r\n\t\t\t\t\t\ttmpImg.onload = (function($info) {\r\n\t\t\t\t\t\t\treturn function() {\r\n\t\t\t\t\t\t\t\t$info.find(\".info-img\").prop(\"src\", this.src);\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t})($info);\r\n\t\t\t\t\t\ttmpImg.src = Config.INFO_IMG_SRC + info.imagePath;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$info.find(\".info-title\").text(info.title)\r\n\t\t\t\t\t\t.end().data(\"info\", info).insertBefore($infoTmpl);\r\n\t\t\t\t\t// article_based feature\r\n\t\t\t\t\toTransData.article_based && features.bRecm && $info.find(\".info-content\").text(info.content.replace(/<(?:.|\\s)*?>|&\\w+;/g, \"\").trim());\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t};\r\n\t\tfor ( ; i < len ; i++ ) {\r\n\t\t\tvar col = cols[i],\r\n\t\t\t\t$col = $pureTmpl.clone(true).insertBefore($tmpl).data(\"colId\", col.nodeId),\r\n\t\t\t\tcachedData;\r\n\t\t\t// 扩展\t$model ($col)\r\n\t\t\t$.extend($col, {\r\n\t\t\t\trefresh: refresh,\r\n\t\t\t\tbindData: bindData\r\n\t\t\t});\r\n\t\t\t// process difference\r\n\t\t\tif (oTransData.article_based) {\r\n\t\t\t\t$col.addClass(col.style_extensions);\r\n\t\t\t} else {\r\n\t\t\t\tvar lastTabId = cookie.get(\"lastTabId\");\r\n\t\t\t\t// bind tab\r\n\t\t\t\tvar $tab = $pureTab.clone(true),\r\n\t\t\t\t\tbCurr = col.nodeId == (defaultIndex || lastTabId || oTransData.cols[0].nodeId);\r\n\t\t\t\t$col.toggle(bCurr);\r\n\t\t\t\t$tab.children(\".tab\").text(col.title)\r\n\t\t\t\t\t.end().toggleClass(\"selected\", bCurr).css(\"width\", 100 / len + \"%\").data(\"colInfo\", col).insertBefore($tabTmpl);\r\n\t\t\t}\r\n\t\t\t// 若支持本地缓存且缓存存在则读取缓存，刷新数据\r\n\t\t\tif (storageSupport && (cachedData = localStorage.getItem(storageIdent + col.nodeId))) {\r\n\t\t\t\tcachedData = JSON.parse(cachedData);\r\n\t\t\t\t// 读取缓存并绑定数据\r\n\t\t\t\t$col.bindData(JSON.parse(cachedData.data), col);\r\n\t\t\t\t// 检查时间戳\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl : \"/support/get_info\",\r\n\t\t\t\t\ttype: \"get\",\r\n\t\t\t\t\tdata : {actionType:\"cmsInfoFacade\", actionCode: \"getColumnNodeInfo\", deepth: \"1\", nodeId: col.nodeId, timestamp: \"1\" },\r\n\t\t\t\t\tcustomData: {\r\n\t\t\t\t\t\ttimestamp: cachedData.timestamp,\r\n\t\t\t\t\t\t$model: $col,\r\n\t\t\t\t\t\tmodel: col\r\n\t\t\t\t\t},\r\n\t\t\t\t\t_complete : function(jsonData) {\r\n\t\t\t\t\t\tif (jsonData.respCode !== \"1\") {\r\n\t\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// 比较时间戳\r\n\t\t\t\t\t\t\tvar customData = this.customData;\r\n\t\t\t\t\t\t\tif (customData.timestamp !== jsonData.timestamp) {\r\n\t\t\t\t\t\t\t\t// 请求新数据并局部更新\r\n\t\t\t\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\t\t\t\turl : \"/support/get_info\",\r\n\t\t\t\t\t\t\t\t\ttype: \"get\",\r\n\t\t\t\t\t\t\t\t\tdata : {actionType:\"cmsInfoFacade\", actionCode: \"getColumnNodeInfo\", deepth: \"1\", nodeId: customData.model.nodeId },\r\n\t\t\t\t\t\t\t\t\tcustomData: {\r\n\t\t\t\t\t\t\t\t\t\t$model: customData.$model,\r\n\t\t\t\t\t\t\t\t\t\tmodel: customData.model\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tcomplete : function(data) {\r\n\t\t\t\t\t\t\t\t\t\tvar\tdataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\t\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\t\t\t\t\t\tif (jsonData.respCode !== \"1\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar customData = this.customData,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata = JSON.parse(jsonData.data);\r\n\t\t\t\t\t\t\t\t\t\t\t\tcustomData.$model.refresh(data, customData.model);\r\n\t\t\t\t\t\t\t\t\t\t\t\t// 更新离线存储\r\n\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.setItem(storageIdent + customData.model.nodeId, JSON.stringify({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttimestamp: jsonData.timestamp,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata: jsonData.data\r\n\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// 不支持或无缓存则正常请求数据\r\n\t\t\t\trequestQueue.push({\r\n\t\t\t\t\t$model: $col,\r\n\t\t\t\t\tmodel: col\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// article_based feature\r\n\t\t\tif (oTransData.article_based && paramMap[\"home\"]) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// 批量处理数据请求\r\n\t\tvar j = 0,\r\n\t\t\tqueueLen = requestQueue.length;\r\n\t\tfor ( ; j < queueLen ; j++ ) {\r\n\t\t\tvar request = requestQueue[j];\r\n\t\t\t$.ajax({\r\n\t\t\t\turl : \"/support/get_info\",\r\n\t\t\t\ttype: \"get\",\r\n\t\t\t\tdata : {actionType:\"cmsInfoFacade\", actionCode: \"getColumnNodeInfo\", deepth: \"1\", nodeId: request.model.nodeId },\r\n\t\t\t\tcustomData: request,\r\n\t\t\t\tbeforeSend: function() {\r\n\t\t\t\t\t!sentCount && $listLoading.show();\r\n\t\t\t\t\tsentCount++;\r\n\t\t\t\t},\r\n\t\t\t\t_complete : function(jsonData) {\r\n\t\t\t\t\t(++completeCount === sentCount) && $listLoading.hide();\r\n\t\t\t\t\tif (jsonData.respCode !== \"1\") {\r\n\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar customData = this.customData,\r\n\t\t\t\t\t\t\tdata = JSON.parse(jsonData.data);\r\n\t\t\t\t\t\tcustomData.$model.bindData(data, customData.model);\r\n\t\t\t\t\t\t// 执行离线存储\r\n\t\t\t\t\t\tjsonData.timestamp && localStorage.setItem(storageIdent + customData.model.nodeId, JSON.stringify({\r\n\t\t\t\t\t\t\ttimestamp: jsonData.timestamp,\r\n\t\t\t\t\t\t\tdata: jsonData.data\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} \r\n\t\t// not article_based feature\r\n\t\tif (!oTransData.article_based) {\r\n\t\t\t$(\"html, body\").css(\"height\", \"100%\");\r\n\t\t\t$(\".tab-wrap\").on(\"touchend\", function(event) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tvar $this = $(this),\r\n\t\t\t\t\tcolInfo = $this.data(\"colInfo\");\r\n\t\t\t\tif (!$this.is(\".selected\")) {\r\n\t\t\t\t\t// initialize\r\n\t\t\t\t\tif (!$currTmpl) {\r\n\t\t\t\t\t\t$currTmpl = $(\".simple_tmpl\").not(\".template\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// reset\r\n\t\t\t\t\t$(\".tab-wrap.selected\").removeClass(\"selected\");\r\n\t\t\t\t\t$this.addClass(\"selected\");\r\n\t\t\t\t\t$currTmpl.hide();\r\n\t\t\t\t\t$currTmpl = $(\".simple_tmpl\").filter(function() {\r\n\t\t\t\t\t\treturn $(this).data(\"colId\") == colInfo.nodeId;\r\n\t\t\t\t\t}).show();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// fixed top\r\n\t\t\tvar $tabs = $(\".tabs\");\r\n\t\t\t$(\".info-wrap\").on(\"touchmove\", function(event) {\r\n\t\t\t\tvar scrollTop = $body.scrollTop();\r\n\t\t\t\t$tabs.toggleClass(\"hover-mode\", !!scrollTop);\r\n\t\t\t});\r\n\t\t}\r\n\t\t// remove template\r\n\t\t$tmpl.remove();\r\n\t\t// bind detail handler\r\n\t\t$(\".simple_tmpl .info, .single-info\").tap(function(event, target) {\r\n\t\t\tvar info = $(target).data(\"info\");\r\n\t\t\t// 记录用户tab的点击位置\r\n\t\t\t!oTransData.article_based && cookie.add(\"lastTabId\", $(\".tab-wrap.selected\").data(\"colInfo\").nodeId, {expires: 1 / 24 / 60 * 5});\r\n\t\t\tif (window.newsJsInterface) {\r\n\t\t\t\twindow.newsJsInterface.getTargetUrl(location.href + \"&infoId=\" + info.id);\r\n\t\t\t} else {\r\n\t\t\t\tparam.val({\r\n\t\t\t\t\tinfoId: info.id\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t} else {\r\n//\t\tif (paramMap[\"pltId\"]) {\r\n\t\t\t$(\".detail-navi\").addClass(\"visible\").children(\"#back\").tap(function(event) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\thistory.go(-1);\r\n\t\t\t});\r\n//\t\t}\r\n\t\t$.ajax({\r\n\t\t\turl : \"/support/get_info\",\r\n\t\t\ttype: \"get\",\r\n\t\t\tdata : {actionType:\"cmsInfoFacade\", actionCode: \"getCmsInfoDetail\", infoId: infoId },\r\n\t\t\tbeforeSend: function() {\r\n\t\t\t\t$detailLoading.show();\r\n\t\t\t},\r\n\t\t\t_complete : function(jsonData) {\r\n\t\t\t\t$detailLoading.hide();\r\n\t\t\t\tif (jsonData.respCode !== \"1\") {\r\n\t\t\t\t\talert(jsonData.rspMsg, true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar info = JSON.parse(jsonData.data);\r\n\t\t\t\t\t$(\".detail-title\").text(info.title);\r\n\t\t\t\t\t$(\".detail-date\").text((new Date(+info.publishTime)).format(\"yyyy-mm-dd\"));\r\n\t\t\t\t\t$(\".detail-read-nums\").text(info.readCount);\r\n\t\t\t\t\tinfo.titleImage && $(\".detail-img\").attr(\"src\", Config.INFO_IMG_SRC + info.titleImage);\r\n\t\t\t\t\t$(\".detail-content\").append(info.content).find(\"img\").each(function() {\r\n\t\t\t\t\t\tvar src = $(this).attr(\"src\");\r\n\t\t\t\t\t\tif (/^(\\/|\\\\)uploads\\S*$/.test(src)) {\r\n\t\t\t\t\t\t\t$(this).attr(\"src\", Config.INFO_IMG_SRC + src);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$(\".detail-wrap\").show();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\intro_dep.js","name":"./src/main/webapp/assets/glwx/js/intro_dep.js","index":29,"index2":29,"size":1232,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[17],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var param = require(\"common-libs/param\"),\r\n\tcookie = require(\"common-libs/cookie\"),\r\n\tConfig = require(\"./config\");\r\n$(function() {\r\n\tvar params = param.val(),\r\n\t\tversion = params[\"version\"],\r\n\t\tproductId = params[\"productId\"],\r\n\t\tdepId = params[\"depid\"];\r\n\tversion && cookie.add(\"version\", version, {expires: 365});\r\n\tproductId && cookie.add(\"productId\", productId, {expires: 365});\r\n\tif (depId) {\r\n\t\tvar depName = params[\"depname\"],\r\n\t\t\t$loading = $(\".loading\");;\r\n\t\tdocument.title = depName || \"科室简介\";\r\n\t\t$(\".dep-name\").text(depName);\r\n\t\t$.ajax({\r\n\t\t\turl : Config.GetDataURL,\r\n\t\t\ttype: \"get\",\r\n\t\t\tdata : {mName:\"getDepartmentDesc\", pContent: JSON.stringify({hospitalCode: Config.HSPCODE, departmentId: depId})},\r\n\t\t\tbeforeSend: function() {\r\n\t\t\t\t$loading.show();\r\n\t\t\t},\r\n\t\t\tcomplete : function(data) {\r\n\t\t\t\t$loading.hide();\r\n\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar depInfo = jsonData.rspData;\r\n\t\t\t\t\t\t$(\".intro\").text(depInfo.departmentDesc || \"暂无介绍\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\intro_doc.js","name":"./src/main/webapp/assets/glwx/js/intro_doc.js","index":30,"index2":30,"size":4477,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[18],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var param = require(\"common-libs/param\"),\r\n\tcookie = require(\"common-libs/cookie\"),\r\n\tConfig = require(\"./config\");\r\nrequire(\"common-libs/dateUtils\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.tap\");\r\n$(function() {\r\n\tvar params = param.val(),\r\n\t\tversion = params[\"version\"],\r\n\t\tproductId = params[\"productId\"],\r\n\t\tmode = params[\"mode\"];\r\n\tversion && cookie.add(\"version\", version, {expires: 365});\r\n\tproductId && cookie.add(\"productId\", productId, {expires: 365});\r\n\tif (!mode) {\r\n\t\t$(\".deps-page\").show();\r\n\t\tvar filterEvent = window.onpropertychange !== undefined ? \"propertychange\" : \"input\",\r\n\t\t\t$deps = $(\".department\"),\r\n\t\t\t$depInput = $(\".input-dep-search\"),\r\n\t\t\t$noResult = $(\".no-result\");\r\n\t\tfunction filterDep(input) {\r\n\t\t\tvar\t$filtered = $deps.filter(function() {\r\n\t\t\t\tvar $this = $(this),\r\n\t\t\t\t\tdepName = $this.children(\".dep-name\").text();\r\n\t\t\t\treturn  !(depName.indexOf(input) !== -1 || $this.attr(\"py\").indexOf(input.toUpperCase()) !== -1);\r\n\t\t\t});\r\n\t\t\t$filtered.addClass(\"hidden\");\r\n\t\t\tvar $left = $deps.not($filtered).removeClass(\"hidden\");\r\n\t\t\t$noResult.toggle(!$left.length);\r\n\t\t}\r\n\t\t$depInput.on(filterEvent, function(event) {\r\n\t\t\tfilterDep($depInput.val());\r\n\t\t});\r\n\t\t$deps.tap(function(event, target) {\r\n\t\t\tvar $this = $(target);\r\n\t\t\t$depInput.val(\"\");\r\n\t\t\tlocation.href = \"intro_doc?\" + encodeURIComponent(\"mode=show&depId=\" + $this.attr(\"depid\") + \"&depName=\" + $this.children(\".dep-name\").text());\r\n\t\t});\r\n\t} else {\r\n\t\tvar depName = params[\"depName\"],\r\n\t\t\tdepId = params[\"depId\"];\r\n\t\t// 医生头像不能正常加载时的处理\r\n\t\t$(\".expert-img\").on(\"error\", {MAX_REPLACE_TRIAL: 1}, function(event) {\r\n\t\t\tevent.data.MAX_REPLACE_TRIAL-- && $(this).attr(\"src\", Config.DEFAULT_DOC_IMG_SRC);\r\n\t\t});\r\n\t\t$(\".dep-name\").text(depName);\r\n\t\tvar depInfoParams = {hospitalCode: Config.HSPCODE, departmentId: depId, version:1.0},\r\n\t\t\t$loading = $(\".loading\");\r\n\t\t// 加载医生列表\r\n\t\t$.ajax({\r\n\t\t\turl : Config.GetDataURL,\r\n\t\t\ttype: \"get\",\r\n\t\t\tdata : {mName:\"getExpertInfo\", pContent: JSON.stringify(depInfoParams)},\r\n\t\t\tbeforeSend: function() {\r\n\t\t\t\t$loading.show();\r\n\t\t\t},\r\n\t\t\tcomplete : function(data) {\r\n\t\t\t\t$loading.hide();\r\n\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\talert(jsonData.rspMsg, true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 绑定科室信息\r\n\t\t\t\t\t\tvar rspData = jsonData.rspData,\r\n\t\t\t\t\t\t\texperts = rspData.body,\r\n\t\t\t\t\t\t\t$expertTmpl = $(\".expert.template\"),\r\n\t\t\t\t\t\t\t$pureExpertTmpl = $expertTmpl.clone(true).removeClass(\"template\"),\r\n\t\t\t\t\t\t\teLen = experts.length,\r\n\t\t\t\t\t\t\ttoday = (new Date()).format(\"yyyy-mm-dd\");\r\n\t\t\t\t\t\t// 专家号处理\r\n\t\t\t\t\t\tfor (var l = 0 ; l < eLen ; l++) {\r\n\t\t\t\t\t\t\tvar expert = experts[l],\r\n\t\t\t\t\t\t\t\t$expert = $pureExpertTmpl.clone(true);\r\n\t\t\t\t\t\t\tif (expert.imgUrl) {\r\n\t\t\t\t\t\t\t\tvar tmpImg = new Image();\r\n\t\t\t\t\t\t\t\t$(tmpImg).on(\"load\", {$ex: $expert}, function(event) {\r\n\t\t\t\t\t\t\t\t\tevent.data.$ex.find(\".expert-img\").attr(\"src\", $(this).prop(\"src\"));\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\ttmpImg.src = expert.imgUrl;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// 处理各个医生排班，内部循环, 检查医生是否可约或停诊\r\n\t\t\t\t\t\t\tvar flag = 0,\r\n\t\t\t\t\t\t\t\tflagMap = [\"\", \"full\", \"stop\"];\r\n\t\t\t\t\t\t\t$expert.find(\".expert-name\").text(expert.expertName)\r\n\t\t\t\t\t\t\t\t.end().find(\".expert-princ\").text(expert.expertTitle)\r\n\t\t\t\t\t\t\t\t.end().find(\".expert-in\").text(expert.expertSpeciality || \"暂无介绍\")\r\n\t\t\t\t\t\t\t\t// .end().find(\".state\").addClass(flagMap[expert.isVisit == \"1\" ? 0 : 1])\r\n\t\t\t\t\t\t\t\t.end().find(\".state\").toggle(expert.isVisit == \"1\")\r\n\t\t\t\t\t\t\t\t.end().data({\r\n\t\t\t\t\t\t\t\t\t\"expertInfo\" : expert\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t$expert.insertBefore($expertTmpl);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(\".expert\").tap(function(event, target) {\r\n\t\t\t\t\t\t\tvar $this = $(target),\r\n\t\t\t\t\t\t\t\texpertInfo = $this.data(\"expertInfo\"),\r\n\t\t\t\t\t\t\t\toTransData = {\r\n\t\t\t\t\t\t\t\t\thspCode: Config.HSPCODE, \r\n\t\t\t\t\t\t\t\t\tdepName : depName, \r\n\t\t\t\t\t\t\t\t\tdepId : depInfoParams.departmentId,\r\n\t\t\t\t\t\t\t\t\texpertId : expertInfo.expertId,\r\n\t\t\t\t\t\t\t\t\texpertName : expertInfo.expertName,\r\n\t\t\t\t\t\t\t\t\texpertTitle : expertInfo.expertTitle,\r\n\t\t\t\t\t\t\t\t\texpertImg : expertInfo.imgUrl,\r\n\t\t\t\t\t\t\t\t\tintro_mode: 1\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tlocation.href = \"doctor_info?transData=\" + encodeURIComponent(JSON.stringify(oTransData));\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t$(\".expert-page\").show();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t$(\".header\").on(\"touchend\", function(event) {\r\n\t\t\tlocation.href = \"intro_dep?depid=\" + depId+ \"&depname=\" + depName;\r\n\t\t});\r\n\t}\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_register.js","name":"./src/main/webapp/assets/glwx/js/my_register.js","index":31,"index2":31,"size":8247,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[19],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var cookie = require(\"common-libs/cookie\"),\r\n\tbase64 = require(\"common-libs/base64\"),\r\n\tConfig = require(\"./config\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/dateUtils\");\r\nrequire(\"common-libs/jquery.tap\");\r\nrequire(\"common-libs/jquery.alert\");\r\n$(function() {\r\n\tvar idnum = cookie.get(\"idnum\");\r\n\tif (idnum) {\r\n\t\tidnum = base64.decode(idnum);\r\n\t\tvar name = base64.decode(cookie.get(\"name\")),\r\n\t\t\t$loading = $(\".loading.record-loading\"),\r\n\t\t\t$alert = $(\".alert-window\"),\r\n\t\t\t$overlayer = $(\".overlayer\"),\r\n\t\t\tparams = {hospitalCode: Config.HSPCODE, \"userId\": idnum, \"typeId\" : \"0\"};\r\n\t\t// 退约逻辑处理\r\n\t\tvar $cancelPrompt = $(\".cancel-prompt\"),\r\n\t\t\t$cancelResult = $(\".cancel-result\"),\r\n\t\t\t$cancelLoading = $(\".loading.cancel-loading\"),\r\n\t\t\tcancelParams = {};\r\n\t\t$cancelPrompt.bindTouchHandler({\r\n\t\t\t\".cancel\" : function() {\r\n\t\t\t\t$cancelPrompt.close();\r\n\t\t\t},\r\n\t\t\t\".confirm\" : function() {\r\n\t\t\t\t$cancelPrompt.close();\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl : Config.GetDataURL,\r\n\t\t\t\t\ttype: \"get\",\r\n\t\t\t\t\tdata : {mName:\"preRegisterCancel\", pContent: JSON.stringify(cancelParams)},\r\n\t\t\t\t\tbeforeSend: function() {\r\n\t\t\t\t\t\t$cancelLoading.show();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete : function(data) {\r\n\t\t\t\t\t\t$cancelLoading.hide();\r\n\t\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t\t$cancelResult.open(\"\", jsonData.rspMsg);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// 预约取消成功\r\n\t\t\t\t\t\t\t\t$cancelResult.open(\"\", \"预约取消成功\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\t$cancelResult.bindTouchHandler({\r\n\t\t\t\".confirm\" : function() {\r\n\t\t\t\tlocation.reload();\r\n\t\t\t}\r\n\t\t});\r\n\t\t$(\".cancel-btn\").on(\"touchend\", function(event) {\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tvar $this = $(this);\r\n\t\t\tif (!$this.is(\".disabled\")) {\r\n\t\t\t\tvar $order = $this.closest(\".order\"),\r\n\t\t\t\t\torderInfo = $order.data(\"orderInfo\");\r\n\t\t\t\tcancelParams = {\r\n\t\t\t\t\thospitalCode : Config.HSPCODE,\r\n\t\t\t\t\tuserId : idnum,\r\n\t\t\t\t\tpreRegisterFlow : orderInfo.registerFlow,\r\n\t\t\t\t\treservationFrom : orderInfo.reservationFrom\r\n\t\t\t\t};\r\n\t\t\t\t$cancelPrompt.open();\r\n\t\t\t}\r\n\t\t});\r\n\t\t$(\".order\").tap(function(event) {\r\n\t\t\tvar $this = $(this),\r\n\t\t\t\t$target = $(event.target),\r\n\t\t\t\torderInfo = $this.data(\"orderInfo\");\r\n\t\t\tif ($target.is(\".reserve-btn\")) {\r\n\t\t\t\tvar docInfo = {\r\n\t\t\t\t\t\thspCode : orderInfo.hospitalCode,\r\n\t\t\t\t\t\thspName : orderInfo.hospitalName,\r\n\t\t\t\t\t\tdepId : orderInfo.departmentId,\r\n\t\t\t\t\t\tdepName : orderInfo.departmentName\r\n\t\t\t\t};\r\n\t\t\t\tif (orderInfo.expertId) {\r\n\t\t\t\t\t$.extend(docInfo, {\r\n\t\t\t\t\t\texpertId : orderInfo.expertId,\r\n\t\t\t\t\t\texpertName : orderInfo.expertName,\r\n\t\t\t\t\t\texpertTitle : orderInfo.expertTitle,\r\n\t\t\t\t\t\texpertImg: orderInfo.imgUrl\r\n\t\t\t\t\t});\r\n\t\t\t\t\tlocation.href = \"doctor_info?transData=\" + encodeURIComponent(JSON.stringify(docInfo));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlocation.href = \"select_doctor?transData=\" + encodeURIComponent(JSON.stringify(docInfo));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif ($target.is(\".pay-btn\")) {\r\n\t\t\t\t\tvar registerInfo = {\r\n\t\t\t\t\t\thspCode: orderInfo.hospitalCode,\r\n\t\t\t\t\t\tdepId: orderInfo.departmentId,\r\n\t\t\t\t\t\tdepName: orderInfo.departmentName,\r\n\t\t\t\t\t\tclinicDate : orderInfo.clinicDate,\r\n\t\t\t\t\t\tseeTime : orderInfo.seeTime,\r\n\t\t\t\t\t\tscheduFlow : orderInfo.registerFlow,\r\n\t\t\t\t\t\ttotalFee : orderInfo.totalFee,\r\n\t\t\t\t\t\tsectionId: orderInfo.sectionId,\r\n\t\t\t\t\t\treservationFrom: orderInfo.reservationFrom,\r\n\t\t\t\t\t\tidNo: orderInfo.idNo,\r\n\t\t\t\t\t\tbRegister: 1,\r\n\t\t\t\t\t\ttypeId: Config.RegisterType.FETCH\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif (orderInfo.expertId) {\r\n\t\t\t\t\t\t$.extend(registerInfo, {\r\n\t\t\t\t\t\t\texpertId: orderInfo.expertId,\r\n\t\t\t\t\t\t\texpertName : orderInfo.expertName,\r\n\t\t\t\t\t\t\texpertTitle : orderInfo.expertTitle,\r\n\t\t\t\t\t\t\timgURL : orderInfo.imgUrl\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$.extend(registerInfo, {\r\n\t\t\t\t\t\t\texpertName : Config.NORMAL\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlocation.href = \"place_order?transData=\" + encodeURIComponent(JSON.stringify(registerInfo));\r\n\t\t\t\t} else {\r\n\t\t\t\t\torderInfo.bHistory = $this.is(\".history\");\r\n\t\t\t\t\tlocation.href = \"register_info?transData=\" + encodeURIComponent(JSON.stringify(orderInfo));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t$.ajax({\r\n\t\t\turl : Config.GetDataURL,\r\n\t\t\ttype: \"get\",\r\n\t\t\tdata : {mName:\"searchUserRegisterInfo\", pContent: JSON.stringify(params)},\r\n\t\t\tbeforeSend: function() {\r\n\t\t\t\t$loading.show();\r\n\t\t\t},\r\n\t\t\tcomplete : function(data) {\r\n\t\t\t\t$loading.hide();\r\n\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar orders = jsonData.rspData.body,\r\n\t\t\t\t\t\t\t$orderTmpl = $(\".order.template\"),\r\n\t\t\t\t\t\t\t$pureTmpl = $orderTmpl.clone(true).removeClass(\"template\"),\r\n\t\t\t\t\t\t\ti = 0,\r\n\t\t\t\t\t\t\tlen = orders.length,\r\n\t\t\t\t\t\t\ttypeMap = {\r\n\t\t\t\t\t\t\t\t\"1\": \"register\",\r\n\t\t\t\t\t\t\t\t\"2\": \"reserve\"\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\tif (len) {\r\n\t\t\t\t\t\t\tfor ( ; i < len ; i++ ) {\r\n\t\t\t\t\t\t\t\tvar $order = $pureTmpl.clone(true),\r\n\t\t\t\t\t\t\t\t\torder = orders[i],\r\n\t\t\t\t\t\t\t\t\tseeTime = order.seeTime, \r\n\t\t\t\t\t\t\t\t\tvisitTime = seeTime.length == 1 ? Config.SeeTimeStrings[parseInt(seeTime) - 1] : seeTime;\r\n\t\t\t\t\t\t\t\t$order.toggleClass(\"history\", !!+order.isHistory);\r\n\t\t\t\t\t\t\t\t// 处理状态栏\r\n\t\t\t\t\t\t\t\tif (order.typeId === \"2\") {\r\n\t\t\t\t\t\t\t\t\t// 需要增加字段判断是否为历史预约\r\n\t\t\t\t\t\t\t\t\tif (+order.isHistory) {\r\n\t\t\t\t\t\t\t\t\t\tvar statusStr = Config.Status[order.status];\r\n\t\t\t\t\t\t\t\t\t\t$order.find(\".visit-state\").text(statusStr).toggle(!!statusStr);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tvar todayTime = (new Date()).getTime(),\r\n\t\t\t\t\t\t\t\t\t\t\tclinicTime = order.clinicDate.toDate().getTime(),\r\n\t\t\t\t\t\t\t\t\t\t\tdiffDates = (clinicTime - todayTime) / (1000 * 60 * 60 * 24) | 0;\r\n\t\t\t\t\t\t\t\t\t\tif (diffDates > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t$order.find(\".cancel-btn\").toggleClass(\"disabled\", !+order.cancelFlag).show()\r\n\t\t\t\t\t\t\t\t\t\t\t\t.end().find(\".day-left\").children(\".left-days\").text(diffDates + \"天\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t.end().show();\r\n\t\t\t\t\t\t\t\t\t\t} else if (diffDates == 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t// 已到就诊当日\r\n\t\t\t\t\t\t\t\t\t\t\t$order.find(\".no-left\").show();\r\n\t\t\t\t\t\t\t\t\t\t\tvar amOrPm = 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\tbDisabled = false,\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoday = new Date(),\r\n\t\t\t\t\t\t\t\t\t\t\t\ttimeNow = (today.getHours() < 10 ? \"0\" + today.getHours() : today.getHours()) + \":\" + (today.getMinutes() < 10 ? \"0\" + today.getMinutes() : today.getMinutes());\r\n\t\t\t\t\t\t\t\t\t\t\tif (visitTime.length === 2) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvisitTime  === \"下午\" && (amOrPm = 1);\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvisitTime.indexOf(\":\") && seeTime === \"3\" && (amOrPm = 1);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tif (amOrPm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tbDisabled = \"17:00\".localeCompare(timeNow) === -1;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tbDisabled = \"11:30\".localeCompare(timeNow) === -1;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t// 判断是否需要支付\r\n\t\t\t\t\t\t\t\t\t\t\torder.status === \"5\" && $order.addClass(\"pay-needed\");\r\n\t\t\t\t\t\t\t\t\t\t\t// 当前是否已超过可支付时间\r\n\t\t\t\t\t\t\t\t\t\t\t// bDisabled && $order.find(\".pay-btn\").addClass(\"disabled\");\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tvar statusStr = Config.Status[order.status];\r\n\t\t\t\t\t\t\t\t\t\t\t$order.addClass(\"history\").find(\".visit-state\").text(statusStr).toggle(!!statusStr);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t// 挂号记录\r\n\t\t\t\t\t\t\t\t\tif (+order.isHistory) {\r\n\t\t\t\t\t\t\t\t\t\t$order.find(\".visit-state\").text(\"已就诊\").show();\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t$order.find(\".visit-state\").text(\"今日就诊\").show();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t$order.addClass(typeMap[order.typeId]).find(\".doc-name\").text(order.expertName || Config.NORMAL)\r\n\t\t\t\t\t\t\t\t\t.end().find(\".dep-name\").text(order.departmentName)\r\n\t\t\t\t\t\t\t\t\t.end().find(\".visit-time\").text(order.clinicDate + \" \" + Config.Weekdays[order.clinicDate.toDate().getDay()] + \" \" + visitTime)\r\n\t\t\t\t\t\t\t\t\t.end().find(\".visitor-name\").text(order.name)\r\n\t\t\t\t\t\t\t\t\t.end().find(\".charge\").text(order.totalFee)\r\n\t\t\t\t\t\t\t\t\t.end().find(\".order-no\").text(order.orderNo)\r\n\t\t\t\t\t\t\t\t\t.end().find(\".verify-code\").text(order.verifyCode)\r\n\t\t\t\t\t\t\t\t\t.end().data(\"orderInfo\", order).insertBefore($orderTmpl);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(\".no-result\").show();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t} else {\r\n\t\tlocation.href = Config.IS_WX ? Config.getWxAuthPath(\"sign_in?referrer=my_register\") : \"sign_in?referrer=my_register\";\r\n\t}\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_visitors.js","name":"./src/main/webapp/assets/glwx/js/my_visitors.js","index":32,"index2":33,"size":15207,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[20],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var cookie = require(\"common-libs/cookie\"),\r\n\tbase64 = require(\"common-libs/base64\"),\r\n\tparam = require(\"common-libs/param\"),\r\n\tcheck = require(\"common-libs/formCheck\"),\r\n\treplacer = require(\"common-libs/replacer\"),\r\n\tConfig = require(\"./config\");\r\n// load jQuery extensions\t\r\nrequire(\"common-libs/dateUtils\");\r\nrequire(\"common-libs/jquery.tap\");\r\nrequire(\"common-libs/jquery.alert\");\r\n$(function() {\r\n\tvar idnum = cookie.get(\"idnum\");\r\n\tif (idnum) {\r\n\t\tvar mode = param.val(\"mode\"),\r\n\t\t\t$page,\r\n\t\t\t$visitorLoading = $(\".loading.visitor-loading\"),\r\n\t\t\t$deleteLoading = $(\".loading.delete-loading\"),\r\n\t\t\t$alert = $(\".alert-window\"),\r\n\t\t\t$valid = $(\".alert-wrap.validate\"),\r\n\t\t\t$overlayer = $(\".overlayer\");\r\n\t\t\tidnum = base64.decode(idnum);\r\n\t\t$valid.bindTouchHandler(\".confirm\", function() {\r\n\t\t\t$valid.close();\r\n\t\t});\r\n\t\tif (!mode) {\r\n\t\t\tdocument.title = \"常用就诊人\";\r\n\t\t\t$page = $(\".page.default\").show();\r\n\t\t\t$(\".add-btn\").on(\"touchend\", function(event) {\r\n\t\t\t\tparam.val({\r\n\t\t\t\t\t\"mode\" : \"add\"\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tvar $deletePrompt = $(\".alert-wrap.delete-prompt\"),\r\n\t\t\t\tdeleteParams = {},\r\n\t\t\t\tbOnDeleteAjax = false,\r\n\t\t\t\t$deletedVisitor = $();\r\n\t\t\t$deletePrompt.bindTouchHandler({\r\n\t\t\t\t\".delete-cancel\" : function() {\r\n\t\t\t\t\t$deletePrompt.close();\r\n\t\t\t\t},\r\n\t\t\t\t\".delete-confirm\" : function() {\r\n\t\t\t\t\t$deletePrompt.close();\r\n\t\t\t\t\t!bOnDeleteAjax && (bOnDeleteAjax = $.ajax({\r\n\t\t\t\t\t\turl : Config.GetDataURL,\r\n\t\t\t\t\t\ttype: \"get\",\r\n\t\t\t\t\t\tdata : {mName:\"modifyCommonlyUser\", pContent: JSON.stringify(deleteParams)},\r\n\t\t\t\t\t\tbeforeSend: function() {\r\n\t\t\t\t\t\t\t$deleteLoading.show();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete : function(data) {\r\n\t\t\t\t\t\t\tbOnDeleteAjax = false;\r\n\t\t\t\t\t\t\t$deleteLoading.hide();\r\n\t\t\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t\t\t// 修改失败\r\n\t\t\t\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t// 更新页面\r\n\t\t\t\t\t\t\t\t\t$deletedVisitor.remove();\r\n\t\t\t\t\t\t\t\t\t$(\".add-btn\").show();\r\n\t\t\t\t\t\t\t\t\t$alert.alert(\"删除成功\", false);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t$(\".opr.delete\").on(\"touchend\", function(event) {\r\n\t\t\t\tvar $visitor =  $(this).closest(\".visitor\"),\r\n\t\t\t\t\tvisitorInfo = $visitor.data(\"visitorInfo\");\r\n\t\t\t\tdeleteParams = {userId : idnum, typeId : Config.ModifyCommonUser.DELETE, patientID : visitorInfo.patientID};\r\n\t\t\t\t$deletedVisitor = $visitor;\r\n\t\t\t\t$deletePrompt.open();\r\n\t\t\t});\r\n\t\t\t$(\".opr.edit\").on(\"touchend\", function(event) {\r\n\t\t\t\tvar visitorInfo = $(this).closest(\".visitor\").data(\"visitorInfo\");\r\n\t\t\t\tparam.val({\r\n\t\t\t\t\t\"mode\" : \"edit\",\r\n\t\t\t\t\t\"visitorInfo\" : JSON.stringify(visitorInfo)\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\t// 用户滑动事件\r\n\t\t\tvar $slider = $(\".visitor\").children(\".info-wrap\"),\r\n\t\t\t\tstartPoint = {\r\n\t\t\t\t\tleft: \"0\"\r\n\t\t\t\t},\r\n\t\t\t\tendPoint = {\r\n\t\t\t\t\tleft: \"-140px\"\r\n\t\t\t\t},\r\n\t\t\t\tLEFT_RANGE = 70 * 3;\r\n\t\t\tvar points = [startPoint, endPoint],\r\n\t\t\t\t_window_width = $(window).width(),\r\n\t\t\t\tdirection = 0, // left: -1, right: 1\r\n\t\t\t\tstartX = 0,\r\n\t\t\t\tendX = 0,\r\n\t\t\t\tbUserSelf,\r\n\t\t\t\t$curr;\r\n\t\t\t$slider.on(\"touchstart\", function(event) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\t// 防止同时编辑\r\n\t\t\t\tvar $this = $(this);\r\n\t\t\t\tif ($curr && $curr.data(\"pointIndex\")) {\r\n\t\t\t\t\t($this.parent().index() != $curr.parent().index()) && $curr.css(points[0]).data(\"pointIndex\", 0);\r\n\t\t\t\t}\r\n\t\t\t\t// 重置上次拖曳的各种信息\r\n\t\t\t\t$curr = $this;\r\n\t\t\t\tdirection = 0;\r\n\t\t\t\tbUserSelf = $curr.parent().is(\".user-self\");\r\n\t\t\t\t// 获取起始坐标\r\n\t\t\t\tvar touch = event.originalEvent.touches[0];\r\n\t\t\t\tstartX = touch.pageX;\r\n\t\t\t});\r\n\t\t\t$slider.on(\"touchmove\", function(event) {\r\n\t\t\t\tif (bUserSelf) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tvar touch = event.originalEvent.changedTouches[0],\r\n\t\t\t\t\tcurrX = touch.pageX,\r\n\t\t\t\t\tdiffX = currX - startX;\r\n\t\t\t\t// 判断滑动方向\r\n\t\t\t\tif (direction == 0) {\r\n\t\t\t\t\tif (diffX > 0) {\r\n\t\t\t\t\t\tdirection = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (diffX < 0) {\r\n\t\t\t\t\t\tdirection = -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (direction != 0) {\r\n\t\t\t\t\t\t$curr.removeClass(\"static-mode\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif ((direction == 1 && diffX >= 0) || (direction == -1 && diffX <= 0)) {\r\n\t\t\t\t\tvar pointIndex = $curr.data(\"pointIndex\") || 0;\r\n\t\t\t\t\t// 是否可切换\r\n\t\t\t\t\tif ((direction == 1 && pointIndex == 1) || (direction == -1 && pointIndex == 0)) {\r\n\t\t\t\t\t\tvar currPoint = points[pointIndex],\r\n\t\t\t\t\t\t\tchangeRatio = diffX / _window_width,\r\n\t\t\t\t\t\t\tcurrDest = {\r\n\t\t\t\t\t\t\t\tleft: parseFloat(currPoint.left) + changeRatio * LEFT_RANGE\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t$curr.css(currDest);\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t$slider.on(\"touchend\", function(event) {\r\n\t\t\t\tif (bUserSelf) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tif (direction != 0) {\r\n\t\t\t\t\t$curr.addClass(\"static-mode\");\r\n\t\t\t\t\tif (direction == 1) {\r\n\t\t\t\t\t\t$curr.css(points[0]).data(\"pointIndex\", 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (direction == -1) {\r\n\t\t\t\t\t\t$curr.css(points[1]).data(\"pointIndex\", 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tvar commonUsersParams = { userID : idnum};\r\n\t\t\t$.ajax({\r\n\t\t\t\turl : Config.GetDataURL,\r\n\t\t\t\ttype: \"get\",\r\n\t\t\t\tdata : {mName:\"searchCommonlyUsers\", pContent: JSON.stringify(commonUsersParams)},\r\n\t\t\t\tbeforeSend: function() {\r\n\t\t\t\t\t$visitorLoading.show();\r\n\t\t\t\t},\r\n\t\t\t\tcomplete : function(data) {\r\n\t\t\t\t\t$visitorLoading.hide();\r\n\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar visitors = jsonData.rspData.body,\r\n\t\t\t\t\t\t\t\tuserSelf = $.grep(visitors, function(i, val) {\r\n\t\t\t\t\t\t\t\t\treturn val.patientID === idnum;\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t$visitorTmpl = $(\".visitor.template\"),\r\n\t\t\t\t\t\t\t\t$pureVisitorTmpl = $visitorTmpl.clone(true).removeClass(\"template\");\r\n\t\t\t\t\t\t\t!userSelf.length && visitors.unshift({\r\n\t\t\t\t\t\t\t\tuserId : idnum,\r\n\t\t\t\t\t\t\t\tpatientName : decodeURIComponent(base64.decode(cookie.get(\"name\"))),\r\n\t\t\t\t\t\t\t\tpatientID : idnum,\r\n\t\t\t\t\t\t\t\tpatientPhoneNum : decodeURIComponent(base64.decode(cookie.get(\"phone\")))\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tvar i = 0,\r\n\t\t\t\t\t\t\t\tlen = visitors.length;\r\n\t\t\t\t\t\t\tfor ( ; i < len ; i++ ) {\r\n\t\t\t\t\t\t\t\tvar visitor = visitors[i],\r\n\t\t\t\t\t\t\t\t\t$visitor = $pureVisitorTmpl.clone(true),\r\n\t\t\t\t\t\t\t\t\tbSelf = visitor.patientID == idnum;\r\n\t\t\t\t\t\t\t\tbSelf && $visitor.addClass(\"user-self\");\r\n\t\t\t\t\t\t\t\t$visitor.find(\".name\").text(visitor.patientName)\r\n\t\t\t\t\t\t\t\t\t.end().find(\".idnum\").text(replacer.idnum(visitor.patientID))\r\n\t\t\t\t\t\t\t\t\t.end().find(\".phone\").text(bSelf ? visitor.patientPhoneNum : replacer.phone(visitor.patientPhoneNum))\r\n\t\t\t\t\t\t\t\t\t.end().data(\"visitorInfo\", visitor).insertBefore($visitorTmpl);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlen < 5 && $(\".add-btn\").show();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (mode == \"add\") {\r\n\t\t\t\tdocument.title = \"添加就诊人\";\r\n\t\t\t\tvar verify = param.val(\"verify\");\r\n\t\t\t\tif (verify) {\r\n\t\t\t\t\t$page = $(\".page.verify\").show();\r\n\t\t\t\t\taddInfo = JSON.parse(verify);\r\n\t\t\t\t\tvar timeLeft = 60;\r\n\t\t\t\t\t$(\".get-code\").on(\"touchend\", function(event) {\r\n\t\t\t\t\t\tvar $this = $(this),\r\n\t\t\t\t\t\t\t$sendState = $(\".send-state\"),\r\n\t\t\t\t\t\t\t$timeLeft = $(\".time-left\");\r\n\t\t\t\t\t\t// 之后要把倒计时逻辑放入ajax请求成功后\r\n\t\t\t\t\t\t// 1、点击发送验证码\r\n\t\t\t\t\t\t// 2、短信发送中，灰色不可点击\r\n\t\t\t\t\t\t// 3、输入验证码（发送成功），灰色不可点击\r\n\t\t\t\t\t\t// 4、发送失败点击重发（发送失败），深橙色可点击\r\n\t\t\t\t\t\tif (!$this.is(\".disabled\")) {\r\n\t\t\t\t\t\t\tvar codeParams = {\r\n\t\t\t\t\t\t\t\tuserId : addInfo.patientID,\r\n\t\t\t\t\t\t\t\tphoneNumber : addInfo.patientPhoneNum,\r\n\t\t\t\t\t\t\t\tbusinessType : Config.BusinessType.REGISTER\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\t\t\turl : Config.GetDataURL,\r\n\t\t\t\t\t\t\t\ttype : \"get\",\r\n\t\t\t\t\t\t\t\tdata : {mName : \"getCheckCode\", pContent : JSON.stringify(codeParams)},\r\n\t\t\t\t\t\t\t\tbeforeSend : function() {\r\n\t\t\t\t\t\t\t\t\t$sendState.text(Config.SENDING);\r\n\t\t\t\t\t\t\t\t\t$this.addClass(\"disabled sending\");\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tcomplete : function(data) {\r\n\t\t\t\t\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t\t\t\t\t// 发送失败\r\n\t\t\t\t\t\t\t\t\t\t\t$sendState.text(Config.SEND_FAILED);\r\n\t\t\t\t\t\t\t\t\t\t\t$this.removeClass(\"sending disabled\").addClass(\"failed\");\r\n\t\t\t\t\t\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t// 发送成功\r\n\t\t\t\t\t\t\t\t\t\t\t$sendState.text(Config.SEND_SUCCESS);\r\n\t\t\t\t\t\t\t\t\t\t\t$this.removeClass(\"sending failed\");\r\n\t\t\t\t\t\t\t\t\t\t\t$timeLeft.show();\r\n\t\t\t\t\t\t\t\t\t\t\tvar countdown = null;\r\n\t\t\t\t\t\t\t\t\t\t\tcountdown = setInterval(function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (timeLeft--) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$timeLeft.text(timeLeft);\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclearInterval(countdown);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttimeLeft = 60;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$timeLeft.hide();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$sendState.text(Config.SEND_DEFAULT);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$this.removeClass(\"disabled\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar $code = $(\".input-code\").on(\"focusout\", function() {\r\n\t\t\t\t\t\tvar $this = $(this);\r\n\t\t\t\t\t\t$this.toggleClass(\"ok\", check.code($this.val()));\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$(\".add-submit\").on(\"touchend\", function(event) {\r\n\t\t\t\t\t\tvar $add = $(\".add-submit\"),\r\n\t\t\t\t\t\t\tbOnAddAjax = false;\r\n\t\t\t\t\t\t$code.blur();\r\n\t\t\t\t\t\tif ($code.is(\".ok\")) {\r\n\t\t\t\t\t\t\tvar addParams = {userId: addInfo.userId, typeId: Config.ModifyCommonUser.ADD, patientID: addInfo.patientID, \r\n\t\t\t\t\t\t\t\tpatientName: addInfo.patientName, patientPhoneNum: addInfo.patientPhoneNum, verifyCode: $code.val()};\r\n\t\t\t\t\t\t\taddInfo.guarderIdNo && (addParams.guarderIdNo = addInfo.guarderIdNo);\r\n\t\t\t\t\t\t\t!bOnAddAjax && (bOnAddAjax = $.ajax({\r\n\t\t\t\t\t\t\t\turl : Config.GetDataURL,\r\n\t\t\t\t\t\t\t\ttype: \"get\",\r\n\t\t\t\t\t\t\t\tdata : {mName:\"modifyCommonlyUser\", pContent: JSON.stringify(addParams)},\r\n\t\t\t\t\t\t\t\tbeforeSend: function() {\r\n\t\t\t\t\t\t\t\t\t$add.addClass(\"submiting\").text(\"添加中...\");\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tcomplete : function(data) {\r\n\t\t\t\t\t\t\t\t\tbOnAddAjax = null;\r\n\t\t\t\t\t\t\t\t\t$add.removeClass(\"submiting\").text(\"确认提交\");\r\n\t\t\t\t\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t\t\t\t\t// 添加失败\r\n\t\t\t\t\t\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t// 更新页面\r\n\t\t\t\t\t\t\t\t\t\t\t$alert.alert(\"添加成功\", false, function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlocation.href = \"my_visitors\";\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$valid.open(\"\", validateCode($code.val()).msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$page = $(\".page.add\").show();\r\n\t\t\t\t\tvar $inputs = $page.find(\".add-input\"),\r\n\t\t\t\t\t\tverify = {};\r\n\t\t\t\t\t$inputs.on(\"focusout\", function(event) {\r\n\t\t\t\t\t\tvar $this = $(this),\r\n\t\t\t\t\t\t\tcheckFunc = check[$this.attr(\"check\")];\r\n\t\t\t\t\t\t$this.toggleClass(\"ok\", checkFunc ? checkFunc.call(check, $this.val()) : false);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar $guarderInfo = $(\".guarder-info\"),\r\n\t\t\t\t\t\t$inputGuarderId = $(\".input-guarderId\"),\r\n\t\t\t\t\t\t$alert = $(\".alert-window\");\r\n\t\t\t\t\t$inputGuarderId.on(\"focusout\", function(event) {\r\n\t\t\t\t\t\tvar retInfo = check.guarderIdnum($inputGuarderId.val(), true);\r\n\t\t\t\t\t\t!retInfo.flag && $alert.alert(retInfo.msg, true);\r\n\t\t\t\t\t\t$inputGuarderId.toggleClass(\"right\", retInfo.flag);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$guarderInfo.bindTouchHandler({\r\n\t\t\t\t\t\t\".alert\": function(event) {\r\n\t\t\t\t\t\t\tif (!$(event.target).is(\".input-guarderId\")) {\r\n\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\t$inputGuarderId.blur();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\".cancel\" : function(event) {\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t$guarderInfo.close();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\".submit\" : function(event) {\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t$inputGuarderId.blur();\r\n\t\t\t\t\t\t\tvar bOk = $inputGuarderId.is(\".right\");\r\n\t\t\t\t\t\t\tif (bOk) {\r\n\t\t\t\t\t\t\t\tverify.guarderIdNo = $inputGuarderId.val();\r\n\t\t\t\t\t\t\t\t$guarderInfo.close();\r\n\t\t\t\t\t\t\t\tparam.val({\r\n\t\t\t\t\t\t\t\t\tverify: JSON.stringify(verify)\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$(\".add-next\").on(\"touchend\", function(event) {\r\n\t\t\t\t\t\t$inputs.blur();\r\n\t\t\t\t\t\tvar canSubmit = $(\".add-input.ok\").length === $inputs.length;\r\n\t\t\t\t\t\tif (canSubmit) {\r\n\t\t\t\t\t\t\tverify = {\r\n\t\t\t\t\t\t\t\tuserId: idnum, \r\n\t\t\t\t\t\t\t\tpatientID: $(\".add-input.input-idnum\").val(), \r\n\t\t\t\t\t\t\t\tpatientName: $(\".add-input.input-name\").val(), \r\n\t\t\t\t\t\t\t\tpatientPhoneNum: $(\".add-input.input-phone\").val()\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tif (!check.isAdult(verify.patientID)) {\r\n\t\t\t\t\t\t\t\t$guarderInfo.open();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tparam.val({\r\n\t\t\t\t\t\t\t\t\tverify: JSON.stringify(verify)\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar $warn = $inputs.filter(function() {\r\n\t\t\t\t\t\t\t\t\treturn !$(this).is(\".ok\");\r\n\t\t\t\t\t\t\t\t}).first(),\r\n\t\t\t\t\t\t\t\tcheckFunc = check[$warn.attr(\"check\")],\r\n\t\t\t\t\t\t\t\tretInfo = checkFunc ? checkFunc.call(check, $warn.val(), true) : \"\";\r\n\t\t\t\t\t\t\t$valid.open(\"\", retInfo.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else if (mode == \"edit\") {\r\n\t\t\t\tdocument.title = \"编辑就诊人\";\r\n\t\t\t\t$page = $(\".page.edit\").show();\r\n\t\t\t\tvar visitorInfo = JSON.parse(param.val(\"visitorInfo\"));\r\n\t\t\t\t$page.find(\".input-name\").val(visitorInfo.patientName)\r\n\t\t\t\t\t.end().find(\".input-old-phone\").val(visitorInfo.patientPhoneNum);\r\n\t\t\t\tvar bOnEditAjax = null,\r\n\t\t\t\t\t$edit = $(\".edit-submit\"),\r\n\t\t\t\t\t$editPhone = $(\".input-new-phone\"),\r\n\t\t\t\t\teditParams = {userId : idnum, typeId : Config.ModifyCommonUser.UPDATE};\r\n\t\t\t\t$editPhone.on(\"focusout\", function(event) {\r\n\t\t\t\t\t$editPhone.toggleClass(\"ok\", check.phone($editPhone.val()));\r\n\t\t\t\t});\r\n\t\t\t\t$edit.on(\"touchend\", function(event) {\r\n\t\t\t\t\t$editPhone.blur();\r\n\t\t\t\t\t// 验证用户输入是否正确，符合格式\r\n\t\t\t\t\tvar canSubmit = $editPhone.is(\".ok\");\r\n\t\t\t\t\tif (canSubmit) {\r\n\t\t\t\t\t\teditParams.patientPhoneNum = $editPhone.val();\r\n\t\t\t\t\t\teditParams.patientID = visitorInfo.patientID;\r\n\t\t\t\t\t\teditParams.patientName = visitorInfo.patientName;\r\n\t\t\t\t\t\tif (!bOnEditAjax) {\r\n\t\t\t\t\t\t\tbOnEditAjax = $.ajax({\r\n\t\t\t\t\t\t\t\turl : Config.GetDataURL,\r\n\t\t\t\t\t\t\t\ttype: \"get\",\r\n\t\t\t\t\t\t\t\tdata : {mName:\"modifyCommonlyUser\", pContent: JSON.stringify(editParams)},\r\n\t\t\t\t\t\t\t\tbeforeSend: function() {\r\n\t\t\t\t\t\t\t\t\t$edit.addClass(\"submiting\");\r\n\t\t\t\t\t\t\t\t\t$edit.text(\"修改中...\");\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tcomplete : function(data) {\r\n\t\t\t\t\t\t\t\t\tbOnEditAjax = null;\r\n\t\t\t\t\t\t\t\t\t$edit.removeClass(\"submiting\").text(\"确认修改\");\r\n\t\t\t\t\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t\t\t\t\t// 修改失败\r\n\t\t\t\t\t\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t// 更新页面\r\n\t\t\t\t\t\t\t\t\t\t\t$alert.alert(\"修改成功\", false, function(){\r\n\t\t\t\t\t\t\t\t\t\t\t\tlocation.href = \"my_visitors\";\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$valid.open(\"\", check.phone($editPhone.val(), true).msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tlocation.href = \"my_visitors\";\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tlocation.href = Config.IS_WX ? Config.getWxAuthPath(\"sign_in?referrer=my_visitors\") : \"sign_in?referrer=my_visitors\";\r\n\t}\r\n});"},{"id":0,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\validate.js","name":"./src/main/webapp/assets/glwx/js/validate.js","index":47,"index2":47,"size":6861,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[33],"assets":[],"issuer":null,"failed":false,"errors":0,"warnings":0,"reasons":[],"source":"var param = require(\"common-libs/param\"),\r\n\tcookie = require(\"common-libs/cookie\"),\r\n\tmd5 = require(\"common-libs/md5\"),\r\n\tbase64 = require(\"common-libs/base64\"),\r\n\tcheck = require(\"common-libs/formCheck\"),\r\n\tConfig = require(\"./config\");\r\nrequire(\"common-libs/dateUtils\");\r\n// load jQuery extensions\r\nrequire(\"common-libs/jquery.alert\");\r\n$(function() {\r\n\tvar transData = param.val(\"transData\"),\r\n\t\toTransData = transData ? JSON.parse(transData) : {},\r\n\t\tname = oTransData.name,\r\n\t\tphone = oTransData.phone,\r\n\t\tidnum = oTransData.idnum,\r\n\t\tbNotAdult = oTransData.bNotAdult,\r\n\t\t$alert = $(\".alert-window\");\r\n\t// 若注册用户未成年则显示输入监护人信息\r\n\tbNotAdult && $(\".guarderId\").show();\r\n\tvar $promptNow = null,\r\n\t\t$inputs = $(\".input\").not(\".input-submit\");\r\n\t!bNotAdult && ($inputs = $inputs.not(\".input-guarderId\"));\r\n\t$inputs.on(\"focusout\", function(event) {\r\n\t\tvar $this = $(this),\r\n\t\t\tcheckFunc = check[$this.attr(\"check\")],\r\n\t\t\targs = [$this.val()];\r\n\t\t$this.is(\".input-confirm\") && args.push($(\".input-password\").val());\r\n\t\t$this.toggleClass(\"ok\", checkFunc ? checkFunc.apply(check, args) : false);\r\n\t});\r\n\tvar timeLeft = 60;\r\n\t$(\".get-code\").on(\"touchend\", function(event) {\r\n\t\tvar $this = $(this),\r\n\t\t\t$sendState = $(\".send-state\"),\r\n\t\t\t$timeLeft = $(\".time-left\");\r\n\t\t// 之后要把倒计时逻辑放入ajax请求成功后\r\n\t\t// 1、点击发送验证码\r\n\t\t// 2、短信发送中，灰色不可点击\r\n\t\t// 3、输入验证码（发送成功），灰色不可点击\r\n\t\t// 4、发送失败点击重发（发送失败），深橙色可点击\r\n\t\tif (!$this.is(\".disabled\")) {\r\n\t\t\tvar codeParams = {\r\n\t\t\t\tuserId : idnum,\r\n\t\t\t\tphoneNumber : phone,\r\n\t\t\t\tbusinessType : Config.BusinessType.REGISTER\r\n\t\t\t};\r\n\t\t\t$.ajax({\r\n\t\t\t\turl : Config.GetDataURL,\r\n\t\t\t\ttype : \"get\",\r\n\t\t\t\tdata : {mName : \"getCheckCode\", pContent : JSON.stringify(codeParams)},\r\n\t\t\t\tbeforeSend : function() {\r\n\t\t\t\t\t$sendState.text(Config.SENDING);\r\n\t\t\t\t\t$this.addClass(\"disabled sending\");\r\n\t\t\t\t},\r\n\t\t\t\tcomplete : function(data) {\r\n\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t// 发送失败\r\n\t\t\t\t\t\t\t$sendState.text(Config.SEND_FAILED);\r\n\t\t\t\t\t\t\t$this.removeClass(\"sending disabled\").addClass(\"failed\");\r\n\t\t\t\t\t\t\t$alert.alert(jsonData.rspMsg, true);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// 发送成功\r\n\t\t\t\t\t\t\t$sendState.text(Config.SEND_SUCCESS);\r\n\t\t\t\t\t\t\t$this.removeClass(\"sending failed\");\r\n\t\t\t\t\t\t\t$timeLeft.show();\r\n\t\t\t\t\t\t\tvar countdown = null;\r\n\t\t\t\t\t\t\tcountdown = setInterval(function() {\r\n\t\t\t\t\t\t\t\tif (timeLeft--) {\r\n\t\t\t\t\t\t\t\t\t$timeLeft.text(timeLeft);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t// 重置验证码发送状态\r\n\t\t\t\t\t\t\t\t\tclearInterval(countdown);\r\n\t\t\t\t\t\t\t\t\ttimeLeft = 60;\r\n\t\t\t\t\t\t\t\t\t$timeLeft.hide();\r\n\t\t\t\t\t\t\t\t\t$sendState.text(Config.SEND_DEFAULT);\r\n\t\t\t\t\t\t\t\t\t$this.removeClass(\"disabled\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\tvar $failed = $(\".alert-wrap.failed\"),\r\n\t\t$valid = $(\".alert-wrap.validate\");\r\n\t$valid.bindTouchHandler(\".confirm\", function(event) {\r\n\t\tevent.preventDefault();\r\n\t\t$valid.close();\r\n\t});\r\n\t$failed.bindTouchHandler({\r\n\t\t\".help\" : function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tif (/.*Mobile.*/i.test(navigator.userAgent)) {\r\n\t\t\t\tlocation.href = \"tel://02512320\";\r\n\t\t\t}\r\n\t\t},\r\n\t\t\".cancel\" : function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\t$failed.close();\r\n\t\t}\r\n\t});\r\n\t$(\".validate-form\").on(\"submit\", function(event) {\r\n\t\tevent.preventDefault();\r\n\t\t$inputs.blur();\r\n\t\tvar canSubmit = $(\".ok\").length === $inputs.length;\r\n\t\tif (canSubmit) {\r\n\t\t\tvar verifyCode = $(\".input-code\").val(),\r\n\t\t\t\tpassword = $(\".input-password\").val(),\r\n\t\t\t\tregisterParams = {\r\n\t\t\t\t\tname : name,\r\n\t\t\t\t\tphoneNumber : phone,\r\n\t\t\t\t\tidNo : idnum.toUpperCase(),\r\n\t\t\t\t\tuserPassword : md5.digest_s(password),\r\n\t\t\t\t\tverifyCode : verifyCode\r\n\t\t\t\t};\r\n\t\t\tif (bNotAdult) {\r\n\t\t\t\tregisterParams.guarderIdNo = $(\".input-guarderId\").val();\r\n\t\t\t}\r\n\t\t\tvar $submit = $(\".input-submit\");\r\n\t\t\t$.ajax({\r\n\t\t\t\turl : Config.GetDataURL,\r\n\t\t\t\ttype : \"get\",\r\n\t\t\t\tdata : {mName : \"userRegister\", pContent : JSON.stringify(registerParams)},\r\n\t\t\t\tbeforeSend : function() {\r\n\t\t\t\t\t$submit.addClass(\"submiting\").val(\"注册中...\");\r\n\t\t\t\t},\r\n\t\t\t\tcomplete : function(data) {\r\n\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\t$submit.removeClass(\"submiting\").val(\"注册\");\r\n\t\t\t\t\tif (dataText === \"\" || Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\talert(Config.NET_ERROR);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t$failed.open(\"\", jsonData.rspMsg);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar rspData = jsonData.rspData;\r\n\t\t\t\t\t\t\t// 消息推送\r\n\t\t\t\t\t\t\tif (Config.IS_WX) {\r\n\t\t\t\t\t\t\t\tvar remark = \"手机号：\" + phone + \"\\n\\n现在您可以使用移动医疗就诊服务。\";\r\n\t\t\t\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\t\t\t\turl : Config.GetDataURL,\r\n\t\t\t\t\t\t\t\t\ttype : \"get\",\r\n\t\t\t\t\t\t\t\t\tdata : {mName : \"sendMessageService\", pContent : JSON.stringify({\r\n\t\t\t\t\t\t\t\t\t\tappid: Config.wxAppId,\r\n\t\t\t\t\t\t\t\t\t\topenId: \"\",\r\n\t\t\t\t\t\t\t\t\t\tcode: param.val(\"code\"),\r\n\t\t\t\t\t\t\t\t\t\ttemplateId: Config.InfoTemplates.SIGN_UP,\r\n\t\t\t\t\t\t\t\t\t\ttopcolor: \"#FF0000\",\r\n\t\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\t\t\"first\": {\r\n\t\t\t\t\t\t\t\t\t\t\t    \"value\": \"您已成功注册，注册信息如下：\\n\",\r\n\t\t\t\t\t\t\t\t\t\t\t    \"color\": \"#173177\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\"keyword1\": {\r\n\t\t\t\t\t\t\t\t\t\t\t    \"value\": registerParams.name,\r\n\t\t\t\t\t\t\t\t\t\t\t    \"color\": \"#173177\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\"keyword2\": {\r\n\t\t\t\t\t\t\t\t\t\t\t    \"value\": (new Date()).format(\"yyyy年mm月dd日\"),\r\n\t\t\t\t\t\t\t\t\t\t\t    \"color\": \"#173177\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\"keyword3\": {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"value\": registerParams.idNo,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"color\": \"#173177\",\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\"remark\": {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"value\": remark\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})},\r\n\t\t\t\t\t\t\t\t\tcomplete : function(data) {\r\n\t\t\t\t\t\t\t\t\t\tvar dataText = data.responseText ? data.responseText.trim() : \"\";\r\n\t\t\t\t\t\t\t\t\t\tif (dataText && !Config.rhtml.test(dataText)) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar jsonData = JSON.parse(dataText);\r\n\t\t\t\t\t\t\t\t\t\t\tif (jsonData.rspCode !== \"1\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (jsonData.errorCode === \"1\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// 重载页面，获取新code\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocation.href = Config.getWxAuthPath(\"validate?transData=\" + transData);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t$alert.alert(\"注册成功！两秒后跳转到首页\", false, function() {\r\n\t\t\t\t\t\t\t\t\t\t\tlocation.href = \"home\";\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$alert.alert(\"注册成功！两秒后跳转到首页\", false, function() {\r\n\t\t\t\t\t\t\t\t\tlocation.href = \"home\";\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tvar $warn = $inputs.filter(function() {\r\n\t\t\t\t\treturn !$(this).is(\".ok\");\r\n\t\t\t\t}).first(),\r\n\t\t\t\tcheckFunc = check[$warn.attr(\"check\")],\r\n\t\t\t\targs = [$warn.val(), true];\r\n\t\t\t$warn.is(\".input-confirm\") && args.splice(1, 0, $(\".input-password\").val());\r\n\t\t\t$valid.open(\"\", checkFunc ? checkFunc.apply(check, args).msg : \"\");\r\n\t\t}\r\n\t});\r\n\t$(\".input-submit\").on(\"touchend\", function(event) {\r\n\t\tevent.preventDefault();\r\n\t\t$(\".validate-form\").submit();\r\n\t});\r\n});"},{"id":1,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\node_modules\\common-libs\\cookie.js","name":"./~/common-libs/cookie.js","index":1,"index2":0,"size":2023,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33],"assets":[],"issuer":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\info_list.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\home.js","module":"./src/main/webapp/assets/glwx/js/home.js","moduleName":"./src/main/webapp/assets/glwx/js/home.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"1:13-42"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\stop_inform.js","module":"./src/main/webapp/assets/glwx/js/stop_inform.js","moduleName":"./src/main/webapp/assets/glwx/js/stop_inform.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"2:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_doctor.js","module":"./src/main/webapp/assets/glwx/js/select_doctor.js","moduleName":"./src/main/webapp/assets/glwx/js/select_doctor.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"1:13-42"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\doctor_info.js","module":"./src/main/webapp/assets/glwx/js/doctor_info.js","moduleName":"./src/main/webapp/assets/glwx/js/doctor_info.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"1:13-42"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\forget.js","module":"./src/main/webapp/assets/glwx/js/forget.js","moduleName":"./src/main/webapp/assets/glwx/js/forget.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"2:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_department.js","module":"./src/main/webapp/assets/glwx/js/select_department.js","moduleName":"./src/main/webapp/assets/glwx/js/select_department.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"1:13-42"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\place_order.js","module":"./src/main/webapp/assets/glwx/js/place_order.js","moduleName":"./src/main/webapp/assets/glwx/js/place_order.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"1:13-42"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\validate.js","module":"./src/main/webapp/assets/glwx/js/validate.js","moduleName":"./src/main/webapp/assets/glwx/js/validate.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"2:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\register_result.js","module":"./src/main/webapp/assets/glwx/js/register_result.js","moduleName":"./src/main/webapp/assets/glwx/js/register_result.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"1:13-42"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_visitors.js","module":"./src/main/webapp/assets/glwx/js/my_visitors.js","moduleName":"./src/main/webapp/assets/glwx/js/my_visitors.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"1:13-42"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\reserve_result.js","module":"./src/main/webapp/assets/glwx/js/reserve_result.js","moduleName":"./src/main/webapp/assets/glwx/js/reserve_result.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"1:13-42"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_register.js","module":"./src/main/webapp/assets/glwx/js/my_register.js","moduleName":"./src/main/webapp/assets/glwx/js/my_register.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"1:13-42"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\register_info.js","module":"./src/main/webapp/assets/glwx/js/register_info.js","moduleName":"./src/main/webapp/assets/glwx/js/register_info.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"1:13-42"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\info_list.js","module":"./src/main/webapp/assets/glwx/js/info_list.js","moduleName":"./src/main/webapp/assets/glwx/js/info_list.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"2:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\search_report.js","module":"./src/main/webapp/assets/glwx/js/search_report.js","moduleName":"./src/main/webapp/assets/glwx/js/search_report.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"1:13-42"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\report_detail.js","module":"./src/main/webapp/assets/glwx/js/report_detail.js","moduleName":"./src/main/webapp/assets/glwx/js/report_detail.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"1:13-42"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\intro_doc.js","module":"./src/main/webapp/assets/glwx/js/intro_doc.js","moduleName":"./src/main/webapp/assets/glwx/js/intro_doc.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"2:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\intro_dep.js","module":"./src/main/webapp/assets/glwx/js/intro_dep.js","moduleName":"./src/main/webapp/assets/glwx/js/intro_dep.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"2:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\sign_in.js","module":"./src/main/webapp/assets/glwx/js/sign_in.js","moduleName":"./src/main/webapp/assets/glwx/js/sign_in.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"2:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_home.js","module":"./src/main/webapp/assets/glwx/js/hsp_home.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_home.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"2:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hospitalization.js","module":"./src/main/webapp/assets/glwx/js/hospitalization.js","moduleName":"./src/main/webapp/assets/glwx/js/hospitalization.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"2:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\guidance.js","module":"./src/main/webapp/assets/glwx/js/guidance.js","moduleName":"./src/main/webapp/assets/glwx/js/guidance.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"2:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\charge.js","module":"./src/main/webapp/assets/glwx/js/charge.js","moduleName":"./src/main/webapp/assets/glwx/js/charge.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"1:13-42"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_sign_in.js","module":"./src/main/webapp/assets/glwx/js/hsp_sign_in.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_sign_in.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"2:10-39"},{"moduleId":4,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\node_modules\\common-libs\\commonConfig.js","module":"./~/common-libs/commonConfig.js","moduleName":"./~/common-libs/commonConfig.js","type":"cjs require","userRequest":"common-libs/cookie","loc":"24:16-45"},{"moduleId":12,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\node_modules\\common-libs\\storage.js","module":"./~/common-libs/storage.js","moduleName":"./~/common-libs/storage.js","type":"cjs require","userRequest":"./cookie","loc":"1:13-32"}],"source":"/*\n * $Id: cookie.js,v 1.00.00 2015/06/16 10:10:32 jennis $\n * \n * this script runs in web browser client\n *\n *  Licensed under the MIT license.\n *    http://opensource.org/licenses/mit-license\n *\n */\nif (!String.prototype.trim) {\n\tString.prototype.trim = function() {\n\t\treturn this.replace(/(^\\s*)|(\\s*$)/g, \"\");\n\t}\n}\nmodule.exports = {\n\tdefaults: {},\n\textend: function() {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar options = arguments[ i ];\n\t\t\tfor (var key in options) {\n\t\t\t\tresult[key] = options[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t},\n\tcookie: function(name, value, options) {\n\t\tif (value !== undefined) {\n\t\t\tif (name.match(/\\W/)) {\n\t\t\t\tthrow new Error(\"characters out bounds of [0-9a-zA-Z_] are illegal\");\n\t\t\t}\n\t\t\tvar options = options || this.defaults;\n\t\t\tif (typeof options.expires === \"number\") {\n\t\t\t\tvar t = new Date();\n\t\t\t\tt.setTime(+t + 864e+5 * options.expires);\n\t\t\t\treturn ( document.cookie = [ name, \"=\", value,\n\t\t\t\t\toptions.expires ? \"; expires=\" + t.toGMTString() : \"\", \n\t\t\t\t\toptions.path    ? \"; path=\" + options.path : \"\",\n\t\t\t\t\toptions.domain  ? \"; domain=\" + options.domain : \"\",\n\t\t\t\t\toptions.secure  ? \"; secure\" : \"\"\n\t\t\t\t].join(\"\") );\n\t\t\t}\t\n\t\t}\n\t\tvar cookieStr = document.cookie,\n\t\t\tcookies = cookieStr.split(\";\"),\n\t\t\ti = 0,\n\t\t\tlen = cookies.length;\n\t\tfor ( ; i < len ; i++ ) {\n\t\t\tvar cookie = cookies[ i ].trim(),\n\t\t\t\tequal = cookie.indexOf(\"=\");\n\t\t\tif (cookie.slice(0, equal) === name) {\n\t\t\t\treturn cookie.slice(equal + 1);\n\t\t\t}\n\t\t}\n\t\treturn \"\";\n\t},\n\tadd: function(name, value, options) {\n\t\tthis.cookie(name, value, options);\n\t},\n\tget: function(name) {\n\t\treturn this.cookie(name);\n\t},\n\tremove: function(name, options) {\n\t\tthis.cookie(name, \"invalid\", this.extend(options, {\n\t\t\texpires: -1\n\t\t}));\n\t},\n\tremoveAll: function(options) {\n\t\tvar cookieStr = document.cookie,\n\t\t\tcookies = cookieStr.split(\";\"),\n\t\t\ti = 0,\n\t\t\tlen = cookies.length;\n\t\tfor( ; i < len ; i++ ) {\n\t\t\tvar cookieName = cookies[ i ].split(\"=\")[ 0 ] .trim();\n\t\t\tthis.remove(cookieName, options);\n\t\t}\n\t}\n};\n"},{"id":2,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\node_modules\\common-libs\\base64.js","name":"./~/common-libs/base64.js","index":2,"index2":1,"size":2995,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[0,1,7,9,19,20,21,23,24,27,30,33],"assets":[],"issuer":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\home.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\doctor_info.js","module":"./src/main/webapp/assets/glwx/js/doctor_info.js","moduleName":"./src/main/webapp/assets/glwx/js/doctor_info.js","type":"cjs require","userRequest":"common-libs/base64","loc":"2:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_register.js","module":"./src/main/webapp/assets/glwx/js/my_register.js","moduleName":"./src/main/webapp/assets/glwx/js/my_register.js","type":"cjs require","userRequest":"common-libs/base64","loc":"2:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\place_order.js","module":"./src/main/webapp/assets/glwx/js/place_order.js","moduleName":"./src/main/webapp/assets/glwx/js/place_order.js","type":"cjs require","userRequest":"common-libs/base64","loc":"2:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\validate.js","module":"./src/main/webapp/assets/glwx/js/validate.js","moduleName":"./src/main/webapp/assets/glwx/js/validate.js","type":"cjs require","userRequest":"common-libs/base64","loc":"4:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\register_result.js","module":"./src/main/webapp/assets/glwx/js/register_result.js","moduleName":"./src/main/webapp/assets/glwx/js/register_result.js","type":"cjs require","userRequest":"common-libs/base64","loc":"2:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_visitors.js","module":"./src/main/webapp/assets/glwx/js/my_visitors.js","moduleName":"./src/main/webapp/assets/glwx/js/my_visitors.js","type":"cjs require","userRequest":"common-libs/base64","loc":"2:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\home.js","module":"./src/main/webapp/assets/glwx/js/home.js","moduleName":"./src/main/webapp/assets/glwx/js/home.js","type":"cjs require","userRequest":"common-libs/base64","loc":"3:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\register_info.js","module":"./src/main/webapp/assets/glwx/js/register_info.js","moduleName":"./src/main/webapp/assets/glwx/js/register_info.js","type":"cjs require","userRequest":"common-libs/base64","loc":"2:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\search_report.js","module":"./src/main/webapp/assets/glwx/js/search_report.js","moduleName":"./src/main/webapp/assets/glwx/js/search_report.js","type":"cjs require","userRequest":"common-libs/base64","loc":"2:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\sign_in.js","module":"./src/main/webapp/assets/glwx/js/sign_in.js","moduleName":"./src/main/webapp/assets/glwx/js/sign_in.js","type":"cjs require","userRequest":"common-libs/base64","loc":"4:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hospitalization.js","module":"./src/main/webapp/assets/glwx/js/hospitalization.js","moduleName":"./src/main/webapp/assets/glwx/js/hospitalization.js","type":"cjs require","userRequest":"common-libs/base64","loc":"3:10-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\charge.js","module":"./src/main/webapp/assets/glwx/js/charge.js","moduleName":"./src/main/webapp/assets/glwx/js/charge.js","type":"cjs require","userRequest":"common-libs/base64","loc":"2:10-39"}],"source":"/*\r\n * $Id: base64.js,v 1.00.00 2015/06/15 17:10:32 jennis $\r\n * \r\n * this script runs in web browser client\r\n *\r\n *  Licensed under the MIT license.\r\n *    http://opensource.org/licenses/mit-license\r\n *\r\n *  References:\r\n *    https://github.com/kvz/phpjs/blob/master/functions/url/base64_encode.js\r\n */\r\nmodule.exports = {\r\n    b64: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\r\n    encode: function(data) {\r\n    \tif (!data) {\r\n    \t\treturn \"\";\r\n        }\r\n    \tdata = encodeURIComponent(data);\r\n        var b64 = this.b64,\r\n            i = 0,\r\n            len = data.length,\r\n            o1, o2, o3, // origin three 8-bit number\r\n            tmpBit, // temporary 24-bit number, combined by origin three\r\n            s1, s2, s3, s4, // splited, four 6-bit number\r\n            tmpArr = [],\r\n            arrIndex = 0;\r\n        do {\r\n            o1 = data.charCodeAt(i++);\r\n            o2 = data.charCodeAt(i++);\r\n            o3 = data.charCodeAt(i++);\r\n            // NaN >> x     =>      x-bit 0\r\n            tmpBit = o1 << 16 | o2 << 8 | o3;\r\n            // get lower 6 bits\r\n            s1 = tmpBit >> 18 & 0x3f;\r\n            s2 = tmpBit >> 12 & 0x3f;\r\n            s3 = tmpBit >> 6 & 0x3f;\r\n            s4 = tmpBit & 0x3f;\r\n            // 6-bit number's value is between 0 and 63\r\n            tmpArr[arrIndex++] = b64.charAt(s1) + b64.charAt(s2) + b64.charAt(s3) + b64.charAt(s4);\r\n        } while ( i < len );\r\n        var str = tmpArr.join(\"\"),\r\n            mod = len % 3;\r\n        return ( mod ? str.slice(0, mod - 3) : str ) + \"===\".slice( mod || 3 );\r\n    },\r\n    decode: function(data) {\r\n        if (!data) {\r\n            return \"\";\r\n        }\r\n        if (!/^(?:[a-zA-Z\\d\\+\\/=]{4})*$/.test(data)) {\r\n            throw new Error(\"invalid base64 string\");\r\n        }\r\n        var b64 = this.b64,\r\n            i = 0,\r\n            len = data.length,\r\n            s1, s2, s3, s4,\r\n            tmpBit,\r\n            o1, o2, o3,\r\n            tmpArr = [],\r\n            arrIndex = 0;\r\n        do {\r\n            // encoded chars' index, relative to 65 base64 characters\r\n            s1 = b64.indexOf(data.charAt(i++));\r\n            s2 = b64.indexOf(data.charAt(i++));\r\n            s3 = b64.indexOf(data.charAt(i++)); \r\n            s4 = b64.indexOf(data.charAt(i++));\r\n            // these four 6-bit numbers are splited by following three origin 8-bit numbers\r\n            tmpBit = s1 << 18 | s2 << 12 | s3 << 6 | s4;\r\n            // get origin three 8-bit numbers\r\n            o1 = tmpBit >> 16 & 0xff;\r\n            o2 = tmpBit >> 8 & 0xff;\r\n            o3 = tmpBit & 0xff;\r\n            if (s3 == 64) {\r\n                tmpArr[arrIndex++] = String.fromCharCode(o1);\r\n            } else if (s4 == 64) {\r\n                tmpArr[arrIndex++] = String.fromCharCode(o1, o2);\r\n            } else {\r\n                tmpArr[arrIndex++] = String.fromCharCode(o1, o2, o3);\r\n            }\r\n        } while ( i < len );\r\n        return decodeURIComponent(tmpArr.join(\"\"));\r\n    }\r\n};"},{"id":3,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\config.js","name":"./src/main/webapp/assets/glwx/js/config.js","index":3,"index2":4,"size":2030,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33],"assets":[],"issuer":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\home_info.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\info_list.js","module":"./src/main/webapp/assets/glwx/js/info_list.js","moduleName":"./src/main/webapp/assets/glwx/js/info_list.js","type":"cjs require","userRequest":"./config","loc":"3:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\report_detail.js","module":"./src/main/webapp/assets/glwx/js/report_detail.js","moduleName":"./src/main/webapp/assets/glwx/js/report_detail.js","type":"cjs require","userRequest":"./config","loc":"3:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\home.js","module":"./src/main/webapp/assets/glwx/js/home.js","moduleName":"./src/main/webapp/assets/glwx/js/home.js","type":"cjs require","userRequest":"./config","loc":"4:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_doctor.js","module":"./src/main/webapp/assets/glwx/js/select_doctor.js","moduleName":"./src/main/webapp/assets/glwx/js/select_doctor.js","type":"cjs require","userRequest":"./config","loc":"3:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\doctor_info.js","module":"./src/main/webapp/assets/glwx/js/doctor_info.js","moduleName":"./src/main/webapp/assets/glwx/js/doctor_info.js","type":"cjs require","userRequest":"./config","loc":"4:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\sign_up.js","module":"./src/main/webapp/assets/glwx/js/sign_up.js","moduleName":"./src/main/webapp/assets/glwx/js/sign_up.js","type":"cjs require","userRequest":"./config","loc":"2:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\forget.js","module":"./src/main/webapp/assets/glwx/js/forget.js","moduleName":"./src/main/webapp/assets/glwx/js/forget.js","type":"cjs require","userRequest":"./config","loc":"5:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_department.js","module":"./src/main/webapp/assets/glwx/js/select_department.js","moduleName":"./src/main/webapp/assets/glwx/js/select_department.js","type":"cjs require","userRequest":"./config","loc":"4:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\place_order.js","module":"./src/main/webapp/assets/glwx/js/place_order.js","moduleName":"./src/main/webapp/assets/glwx/js/place_order.js","type":"cjs require","userRequest":"./config","loc":"4:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\validate.js","module":"./src/main/webapp/assets/glwx/js/validate.js","moduleName":"./src/main/webapp/assets/glwx/js/validate.js","type":"cjs require","userRequest":"./config","loc":"6:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\register_result.js","module":"./src/main/webapp/assets/glwx/js/register_result.js","moduleName":"./src/main/webapp/assets/glwx/js/register_result.js","type":"cjs require","userRequest":"./config","loc":"4:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_visitors.js","module":"./src/main/webapp/assets/glwx/js/my_visitors.js","moduleName":"./src/main/webapp/assets/glwx/js/my_visitors.js","type":"cjs require","userRequest":"./config","loc":"6:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\reserve_result.js","module":"./src/main/webapp/assets/glwx/js/reserve_result.js","moduleName":"./src/main/webapp/assets/glwx/js/reserve_result.js","type":"cjs require","userRequest":"./config","loc":"3:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_register.js","module":"./src/main/webapp/assets/glwx/js/my_register.js","moduleName":"./src/main/webapp/assets/glwx/js/my_register.js","type":"cjs require","userRequest":"./config","loc":"3:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\register_info.js","module":"./src/main/webapp/assets/glwx/js/register_info.js","moduleName":"./src/main/webapp/assets/glwx/js/register_info.js","type":"cjs require","userRequest":"./config","loc":"5:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\stop_inform.js","module":"./src/main/webapp/assets/glwx/js/stop_inform.js","moduleName":"./src/main/webapp/assets/glwx/js/stop_inform.js","type":"cjs require","userRequest":"./config","loc":"3:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\search_report.js","module":"./src/main/webapp/assets/glwx/js/search_report.js","moduleName":"./src/main/webapp/assets/glwx/js/search_report.js","type":"cjs require","userRequest":"./config","loc":"4:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\home_info.js","module":"./src/main/webapp/assets/glwx/js/home_info.js","moduleName":"./src/main/webapp/assets/glwx/js/home_info.js","type":"cjs require","userRequest":"./config","loc":"2:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\intro_doc.js","module":"./src/main/webapp/assets/glwx/js/intro_doc.js","moduleName":"./src/main/webapp/assets/glwx/js/intro_doc.js","type":"cjs require","userRequest":"./config","loc":"3:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\intro_dep.js","module":"./src/main/webapp/assets/glwx/js/intro_dep.js","moduleName":"./src/main/webapp/assets/glwx/js/intro_dep.js","type":"cjs require","userRequest":"./config","loc":"3:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\sign_in.js","module":"./src/main/webapp/assets/glwx/js/sign_in.js","moduleName":"./src/main/webapp/assets/glwx/js/sign_in.js","type":"cjs require","userRequest":"./config","loc":"6:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_home.js","module":"./src/main/webapp/assets/glwx/js/hsp_home.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_home.js","type":"cjs require","userRequest":"./config","loc":"4:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hospitalization.js","module":"./src/main/webapp/assets/glwx/js/hospitalization.js","moduleName":"./src/main/webapp/assets/glwx/js/hospitalization.js","type":"cjs require","userRequest":"./config","loc":"6:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_daily_bill.js","module":"./src/main/webapp/assets/glwx/js/hsp_daily_bill.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_daily_bill.js","type":"cjs require","userRequest":"./config","loc":"3:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_all_bill.js","module":"./src/main/webapp/assets/glwx/js/hsp_all_bill.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_all_bill.js","type":"cjs require","userRequest":"./config","loc":"3:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_foregift.js","module":"./src/main/webapp/assets/glwx/js/hsp_foregift.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_foregift.js","type":"cjs require","userRequest":"./config","loc":"3:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_account.js","module":"./src/main/webapp/assets/glwx/js/hsp_account.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_account.js","type":"cjs require","userRequest":"./config","loc":"3:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\guidance.js","module":"./src/main/webapp/assets/glwx/js/guidance.js","moduleName":"./src/main/webapp/assets/glwx/js/guidance.js","type":"cjs require","userRequest":"./config","loc":"3:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\guidance_disease.js","module":"./src/main/webapp/assets/glwx/js/guidance_disease.js","moduleName":"./src/main/webapp/assets/glwx/js/guidance_disease.js","type":"cjs require","userRequest":"./config","loc":"2:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\guidance_result.js","module":"./src/main/webapp/assets/glwx/js/guidance_result.js","moduleName":"./src/main/webapp/assets/glwx/js/guidance_result.js","type":"cjs require","userRequest":"./config","loc":"2:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\floor_detail.js","module":"./src/main/webapp/assets/glwx/js/floor_detail.js","moduleName":"./src/main/webapp/assets/glwx/js/floor_detail.js","type":"cjs require","userRequest":"./config","loc":"2:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\press_conference.js","module":"./src/main/webapp/assets/glwx/js/press_conference.js","moduleName":"./src/main/webapp/assets/glwx/js/press_conference.js","type":"cjs require","userRequest":"./config","loc":"1:13-32"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\charge.js","module":"./src/main/webapp/assets/glwx/js/charge.js","moduleName":"./src/main/webapp/assets/glwx/js/charge.js","type":"cjs require","userRequest":"./config","loc":"3:10-29"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_sign_in.js","module":"./src/main/webapp/assets/glwx/js/hsp_sign_in.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_sign_in.js","type":"cjs require","userRequest":"./config","loc":"5:10-29"}],"source":"var commonConfig = require(\"common-libs/commonConfig\");\r\nvar Config = {\r\n\tapp : \"glwx\",\r\n\tpltId : \"03\",\r\n\tproductId : \"010\",\r\n\tversion : \"1.00.00\",\r\n\twxAppId : \"wx97e1952c1a0281a4\",\r\n\tGetDataURL : location.origin + \"/support/get_data\",\r\n\tappColumnsMap: {\r\n\t\t/* 健康南京 */\r\n\t\t\"001\": {\r\n\t\t\tcols: [{\r\n\t\t\t\tnodeId: 225, // not null\r\n\t\t\t\tlevel: 1, // if not passed, take 1 as default value\r\n\t\t\t\ttitle: \"健康科普\", // title name\r\n\t\t\t\tthumbnail_path: \"/assets/glwx/img/thumbnail.png\"\r\n\t\t\t}, {\r\n\t\t\t\tnodeId: 229,\r\n\t\t\t\tlevel: 1,\r\n\t\t\t\ttitle: \"营养养生\",\r\n\t\t\t\tthumbnail_path: \"/assets/glwx/img/thumbnail.png\"\r\n\t\t\t}, {\r\n\t\t\t\tnodeId: 230,\r\n\t\t\t\tlevel: 1,\r\n\t\t\t\ttitle: \"通知公告\",\r\n\t\t\t\tthumbnail_path: \"/assets/glwx/img/thumbnail.png\"\r\n\t\t\t}],\r\n\t\t\tstyle_extensions: \"condensed color-inverse\",\r\n\t\t\tarticle_based: true, // 以文章为主体的结构\r\n\t\t\t// 仅当article_based为true时 article_cols有效\r\n\t\t\tarticle_cols: [{\r\n\t\t\t\t// 推荐\r\n\t\t\t\tnodeId: 238,\r\n\t\t\t\tbRecm: true,\r\n\t\t\t\tstyle_extensions: \"float first-stressed\"\r\n\t\t\t}, {\r\n\t\t\t\tnodeId: 239\r\n\t\t\t}]\r\n\t\t},\r\n\t\t/* 鼓楼 */\r\n\t\t\"007\": {\r\n\t\t\tcols: [{\r\n\t\t\t\tnodeId: 93,\r\n\t\t\t\tlevel: 1,\r\n\t\t\t\ttitle: \"医院动态\"\r\n\t\t\t}, {\r\n\t\t\t\tnodeId: 94,\r\n\t\t\t\tlevel: 1,\r\n\t\t\t\ttitle: \"学科动态\"\r\n\t\t\t}, {\r\n\t\t\t\tnodeId: 89,\r\n\t\t\t\tlevel: 1,\r\n\t\t\t\ttitle: \"健康科普\"\r\n\t\t\t}, {\r\n\t\t\t\tnodeId: 90,\r\n\t\t\t\tlevel: 1,\r\n\t\t\t\ttitle: \"媒体报道\"\r\n\t\t\t}],\r\n\t\t\tstyle_extensions: \"first-stressed\"\r\n\t\t}\t\r\n\t},\r\n\tHSPCODE: \"23101\",\r\n\tHSPNAME: \"南京市鼓楼医院\",\r\n\tDEFAULT_MAX_INTRO_LENGTH : 25,\r\n\tMAX_SEARCH_TIMES : 10,\r\n\tDEFAULT_HOS_LOGO_IMG_SRC: \"/assets/gcwx/img/hsp_logo_default.png\",\r\n\tDEFAULT_DOC_IMG_SRC : \"/assets/gcwx/img/doc_default.png\",\r\n\tDEFAULT_HSP_IMG_SRC : \"/assets/gcwx/img/hsp_default.png\",\r\n\tSEND_DEFAULT : \"点击发送验证码\",\r\n\tSENDING : \"验证码发送中\",\r\n\tSEND_SUCCESS : \"输入验证码\",\r\n\tSEND_FAILED : \"发送失败点击重发\"\r\n};\r\nfor ( var p in commonConfig ) {\r\n\tConfig[p] = commonConfig[p];\r\n}\r\nConfig.ajaxSetting({\r\n\tredirectPageName: \"sign_in\",\r\n\tredirectExcept: [\"sign_in\", \"sign_up\", \"validate\", \"forget\", \"home_info\", \"info_list\", \"hsp_sign_in\", \"hsp_home\", \"hsp_account\", \"hsp_foregift\", \"hsp_daily_bill\"]\r\n});\r\nmodule.exports = Config;"},{"id":4,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\node_modules\\common-libs\\commonConfig.js","name":"./~/common-libs/commonConfig.js","index":4,"index2":3,"size":3345,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33],"assets":[],"issuer":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\config.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":3,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\config.js","module":"./src/main/webapp/assets/glwx/js/config.js","moduleName":"./src/main/webapp/assets/glwx/js/config.js","type":"cjs require","userRequest":"common-libs/commonConfig","loc":"1:19-54"}],"source":"require(\"common-libs/stringUtils\");\r\nvar Config = {\r\n\tNET_ERROR : \"网络连接错误，请刷新重试！\",\r\n\tGET_DATA_ERROR: \"数据请求异常\",\r\n\tCOOKIE_NOT_AVAILABLE : \"Cookie当前不可用！请检查浏览器设置\",\r\n\trhtml : /^<(?:\\s|.)*>$/,\r\n\tIS_WX : /MicroMessenger/i.test(navigator.userAgent),\r\n\tajaxSetting: function(options) {\r\n\t\t// check if third-party library which provides ajax module exists\r\n\t\tif (window.$ && $.ajaxSetup) {\r\n\t\t\tvar matches = location.pathname.match(/(\\/(?:\\w+\\/)*)(\\w+)?/),\r\n\t\t\t\tloginHref = options.redirectPageName,\r\n\t\t\t\t_this = this;\r\n\t\t\tif (matches && (pageName = matches[2])) {\r\n\t\t\t\tloginHref += [(location.search ? location.search + \"&\" : \"?\"), \"referrer=\" + pageName].join(\"\")\r\n\t\t\t}\r\n\t\t\t// 去除了根据cookie中sid存在与否来决定是否重定向的逻辑\r\n\t\t\t$.ajaxSetup({\r\n\t\t\t\tdataType : \"json\",\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tpltId: this.pltId,\r\n\t\t\t\t\tproductId: this.productId,\r\n\t\t\t\t\tversion: this.version,\r\n\t\t\t\t\tsessionId: require(\"common-libs/cookie\").get(\"sid\")\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function(data, status) {\r\n\t\t\t\t\t// 通用ajax处理\r\n\t\t\t\t\tif (data.rspCode !== \"1\") {\r\n\t\t\t\t\t\tswitch(data.rspCode) {\r\n\t\t\t\t\t\t\tcase \"9004\":\r\n\t\t\t\t\t\t\t\t// 登录失效\r\n\t\t\t\t\t\t\tcase \"9005\":\t\r\n\t\t\t\t\t\t\t\t// 登录被挤\r\n\t\t\t\t\t\t\t\toptions.sidHandler ? options.sidHandler() : (location.href = _this.IS_WX ? _this.getWxAuthPath(loginHref) : loginHref);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: function(xhr, status) {\r\n\t\t\t\t\tvar rspText = xhr.responseText && xhr.responseText.trim();\r\n\t\t\t\t\tif (rspText === \"\" || _this.rhtml.test(rspText)) {\r\n\t\t\t\t\t\tswitch(status) {\r\n\t\t\t\t\t\t\tcase \"success\":\r\n\t\t\t\t\t\t\t\talert(_this.GET_DATA_ERROR);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"error\":\r\n\t\t\t\t\t\t\t\talert(_this.NET_ERROR);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"abort\":\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tconsole.log(status);\r\n\t\t\t\t\t\t\t\tthis._error && this._error.call(this, status);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tthis._complete && this._complete.call(this, JSON.parse(rspText));\r\n\t\t\t\t\t\t} catch(e) {\r\n\t\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tgetFullPath: function(relPath) {\r\n\t\tvar path = location.pathname.match(/(\\/(?:\\w+\\/)*)(?:\\w+)?/)[1];\r\n\t\treturn [location.origin, path, relPath].join(\"\");\r\n\t},\r\n\tgetWxAuthPath : function(relPath) {\r\n\t\treturn \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=\" + this.wxAppId + \"&redirect_uri=\" + encodeURIComponent(this.getFullPath(relPath)) + \"&response_type=code&scope=snsapi_base#wechat_redirect\";\r\n\t},\r\n\tModifyCommonUser : {\r\n\t\tADD : \"1\",\r\n\t\tUPDATE : \"2\",\r\n\t\tDELETE : \"3\"\r\n\t},\r\n\tRegisterType: {\r\n\t\tREGISTER : \"1\",\r\n\t\tFETCH: \"2\",\r\n\t\tCHARGE: \"3\"\r\n\t},\r\n\tRegisterTypeMap: {\r\n\t\t1: \"挂号\",\r\n\t\t2: \"取号\",\r\n\t\t3: \"缴费\"\r\n\t},\r\n\tBusinessType : {\r\n\t\tREGISTER : \"1\",\r\n\t\tRESET_PASSWORD : \"2\",\r\n\t\tCASE_HISTORY : \"3\",\r\n\t\tRESERVE_RECORD : \"4\",\r\n\t\tSEE_REPORT : \"5\"\r\n\t},\r\n\tPayMethod: {\r\n\t\tTELE_FARE: \"00\",\r\n\t\tONLINE_PAY: \"01\",\r\n\t\tUNION_WAP_PAY: \"010\",\r\n\t\tALI_PAY: \"02\",\r\n\t\tWX_PAY: \"03\",\r\n\t\tOFFLINE_PAY: \"05\"\r\n\t},\r\n\tChannelCode: {\r\n\t\tBD: \"01\",\r\n\t\tWX: \"02\",\r\n\t\tALI: \"03\",\r\n\t\tYM: \"04\"\r\n\t},\r\n\tCardTypes: [\"医疗卡\", \"医保卡\"],\r\n\tReportPrintStatus: [\"未打印\", \"已打印\", \"检测中\"],\r\n\tStatus: [\"已违约\", \"已取消\", \"取号/挂号成功\", \"预约可取消\", \"预约不可取消\", \"可支付\", \"预约成功\", \"业务处理中/挂号处理中\", \"挂号失败\", \"已退号\", \"历史挂号记录\"],\r\n\tWeekdays : [\"星期日\", \"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\"],\r\n\tSeeTimeStrings : [\"上午\", \"中午\", \"下午\", \"夜晚\", \"早班\", \"全天\"],\r\n\tNORMAL : \"普通号\",\r\n\tINFO_IMG_SRC: \"http://cms.jiankang51.cn\",\r\n\tCOUNTDOWN_MINUTES: 60\r\n};\r\n module.exports = Config;"},{"id":5,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\node_modules\\common-libs\\stringUtils.js","name":"./~/common-libs/stringUtils.js","index":5,"index2":2,"size":472,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33],"assets":[],"issuer":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_department.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_department.js","module":"./src/main/webapp/assets/glwx/js/select_department.js","moduleName":"./src/main/webapp/assets/glwx/js/select_department.js","type":"cjs require","userRequest":"common-libs/stringUtils","loc":"7:0-34"},{"moduleId":4,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\node_modules\\common-libs\\commonConfig.js","module":"./~/common-libs/commonConfig.js","moduleName":"./~/common-libs/commonConfig.js","type":"cjs require","userRequest":"common-libs/stringUtils","loc":"1:0-34"}],"source":"/*\r\n * $Id: stringUtils.js,v 1.00.00 2015/06/16 10:10:32 jennis $\r\n * \r\n * this script runs in web browser client\r\n *\r\n *  Licensed under the MIT license.\r\n *    http://opensource.org/licenses/mit-license\r\n *\r\n */\r\nif (!String.prototype.startsWith) {\r\n\tString.prototype.startsWith = function(str) {\r\n\t\treturn this.slice(0, str.length) == str;\r\n\t}\r\n}\r\nif (!String.prototype.trim) {\r\n\tString.prototype.trim = function() {\r\n\t\treturn this.replace(/(^\\s*)|(\\s*$)/g, \"\");\r\n\t}\r\n}"},{"id":6,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\node_modules\\common-libs\\jquery.tap.js","name":"./~/common-libs/jquery.tap.js","index":6,"index2":5,"size":1189,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[0,1,4,5,6,8,9,10,11,12,13,14,15,16,18,19,20,21,23,24,26,27,28,29,30],"assets":[],"issuer":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\home_info.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\info_list.js","module":"./src/main/webapp/assets/glwx/js/info_list.js","moduleName":"./src/main/webapp/assets/glwx/js/info_list.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"5:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\intro_doc.js","module":"./src/main/webapp/assets/glwx/js/intro_doc.js","moduleName":"./src/main/webapp/assets/glwx/js/intro_doc.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"6:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_doctor.js","module":"./src/main/webapp/assets/glwx/js/select_doctor.js","moduleName":"./src/main/webapp/assets/glwx/js/select_doctor.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"6:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\doctor_info.js","module":"./src/main/webapp/assets/glwx/js/doctor_info.js","moduleName":"./src/main/webapp/assets/glwx/js/doctor_info.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"7:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_department.js","module":"./src/main/webapp/assets/glwx/js/select_department.js","moduleName":"./src/main/webapp/assets/glwx/js/select_department.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"6:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\place_order.js","module":"./src/main/webapp/assets/glwx/js/place_order.js","moduleName":"./src/main/webapp/assets/glwx/js/place_order.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"7:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\register_result.js","module":"./src/main/webapp/assets/glwx/js/register_result.js","moduleName":"./src/main/webapp/assets/glwx/js/register_result.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"7:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_visitors.js","module":"./src/main/webapp/assets/glwx/js/my_visitors.js","moduleName":"./src/main/webapp/assets/glwx/js/my_visitors.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"9:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\reserve_result.js","module":"./src/main/webapp/assets/glwx/js/reserve_result.js","moduleName":"./src/main/webapp/assets/glwx/js/reserve_result.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"5:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_register.js","module":"./src/main/webapp/assets/glwx/js/my_register.js","moduleName":"./src/main/webapp/assets/glwx/js/my_register.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"6:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\register_info.js","module":"./src/main/webapp/assets/glwx/js/register_info.js","moduleName":"./src/main/webapp/assets/glwx/js/register_info.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"8:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\search_report.js","module":"./src/main/webapp/assets/glwx/js/search_report.js","moduleName":"./src/main/webapp/assets/glwx/js/search_report.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"7:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\home_info.js","module":"./src/main/webapp/assets/glwx/js/home_info.js","moduleName":"./src/main/webapp/assets/glwx/js/home_info.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"3:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\sign_in.js","module":"./src/main/webapp/assets/glwx/js/sign_in.js","moduleName":"./src/main/webapp/assets/glwx/js/sign_in.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"8:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_home.js","module":"./src/main/webapp/assets/glwx/js/hsp_home.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_home.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"6:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hospitalization.js","module":"./src/main/webapp/assets/glwx/js/hospitalization.js","moduleName":"./src/main/webapp/assets/glwx/js/hospitalization.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"8:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_daily_bill.js","module":"./src/main/webapp/assets/glwx/js/hsp_daily_bill.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_daily_bill.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"7:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_all_bill.js","module":"./src/main/webapp/assets/glwx/js/hsp_all_bill.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_all_bill.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"7:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_foregift.js","module":"./src/main/webapp/assets/glwx/js/hsp_foregift.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_foregift.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"5:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_account.js","module":"./src/main/webapp/assets/glwx/js/hsp_account.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_account.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"5:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\guidance.js","module":"./src/main/webapp/assets/glwx/js/guidance.js","moduleName":"./src/main/webapp/assets/glwx/js/guidance.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"4:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\guidance_disease.js","module":"./src/main/webapp/assets/glwx/js/guidance_disease.js","moduleName":"./src/main/webapp/assets/glwx/js/guidance_disease.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"3:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\guidance_result.js","module":"./src/main/webapp/assets/glwx/js/guidance_result.js","moduleName":"./src/main/webapp/assets/glwx/js/guidance_result.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"3:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\charge.js","module":"./src/main/webapp/assets/glwx/js/charge.js","moduleName":"./src/main/webapp/assets/glwx/js/charge.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"5:0-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_sign_in.js","module":"./src/main/webapp/assets/glwx/js/hsp_sign_in.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_sign_in.js","type":"cjs require","userRequest":"common-libs/jquery.tap","loc":"7:0-33"}],"source":"; (function($) {\r\n\t$.fn.tap = function(cb) {\r\n\t\tthis.each(function() {\r\n\t\t\t// adapt pc or mobile\r\n\t\t\tvar $this = $(this),\r\n\t\t\t\tbHandheld = /mobile|windows phone|ios|android/i.test(navigator.userAgent);\r\n\t\t\tif (!cb) {\r\n\t\t\t\t$this.triggerHandler(bHandheld ? \"touchend\" : \"click\");\r\n\t\t\t} else {\r\n\t\t\t\tif (!bHandheld) {\r\n\t\t\t\t\t$this.on(\"click\", function(event) {\r\n\t\t\t\t\t\tcb.call(this, event, this);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar\tstartX, endX,\r\n\t\t\t\t\t\tstartY, endY;\r\n\t\t\t\t\t$this.on(\"touchstart\", function(event) {\r\n\t\t\t\t\t\tvar touch = event.originalEvent.touches[0];\r\n\t\t\t\t\t\tstartX = touch.pageX;\r\n\t\t\t\t\t\tstartY = touch.pageY;\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$this.on(\"touchend\", function(event) {\r\n\t\t\t\t\t\tevent = event.originalEvent;\r\n\t\t\t\t\t\t// 判断该动作是否由用户点击触发\r\n\t\t\t\t\t\tif (typeof cb !== \"function\") {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (event) {\r\n\t\t\t\t\t\t\tvar touch = event.changedTouches[0];\r\n\t\t\t\t\t\t\tendX = touch.pageX;\r\n\t\t\t\t\t\t\tendY = touch.pageY;\r\n\t\t\t\t\t\t\tif ((Math.abs(endX - startX) < 6) && (Math.abs(endY - startY) < 6) ) {\r\n\t\t\t\t\t\t\t\t// 第三个参数兼容旧版本\r\n\t\t\t\t\t\t\t\tcb.call(this, event, this);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcb.call(this, event, this);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn this;\r\n\t};\r\n})(jQuery);"},{"id":7,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\node_modules\\common-libs\\jquery.alert.js","name":"./~/common-libs/jquery.alert.js","index":7,"index2":6,"size":1620,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[0,1,3,9,10,11,12,13,14,15,19,20,21,23,24,25,27,29,30,31,33],"assets":[],"issuer":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_doctor.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\doctor_info.js","module":"./src/main/webapp/assets/glwx/js/doctor_info.js","moduleName":"./src/main/webapp/assets/glwx/js/doctor_info.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"8:0-35"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\search_report.js","module":"./src/main/webapp/assets/glwx/js/search_report.js","moduleName":"./src/main/webapp/assets/glwx/js/search_report.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"6:0-35"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\sign_up.js","module":"./src/main/webapp/assets/glwx/js/sign_up.js","moduleName":"./src/main/webapp/assets/glwx/js/sign_up.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"4:0-35"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\forget.js","module":"./src/main/webapp/assets/glwx/js/forget.js","moduleName":"./src/main/webapp/assets/glwx/js/forget.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"7:0-35"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\place_order.js","module":"./src/main/webapp/assets/glwx/js/place_order.js","moduleName":"./src/main/webapp/assets/glwx/js/place_order.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"8:0-35"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\validate.js","module":"./src/main/webapp/assets/glwx/js/validate.js","moduleName":"./src/main/webapp/assets/glwx/js/validate.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"9:0-35"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\register_result.js","module":"./src/main/webapp/assets/glwx/js/register_result.js","moduleName":"./src/main/webapp/assets/glwx/js/register_result.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"6:0-35"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_visitors.js","module":"./src/main/webapp/assets/glwx/js/my_visitors.js","moduleName":"./src/main/webapp/assets/glwx/js/my_visitors.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"10:0-35"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_register.js","module":"./src/main/webapp/assets/glwx/js/my_register.js","moduleName":"./src/main/webapp/assets/glwx/js/my_register.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"7:0-35"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\register_info.js","module":"./src/main/webapp/assets/glwx/js/register_info.js","moduleName":"./src/main/webapp/assets/glwx/js/register_info.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"9:0-35"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_doctor.js","module":"./src/main/webapp/assets/glwx/js/select_doctor.js","moduleName":"./src/main/webapp/assets/glwx/js/select_doctor.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"7:0-35"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\report_detail.js","module":"./src/main/webapp/assets/glwx/js/report_detail.js","moduleName":"./src/main/webapp/assets/glwx/js/report_detail.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"5:0-35"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\sign_in.js","module":"./src/main/webapp/assets/glwx/js/sign_in.js","moduleName":"./src/main/webapp/assets/glwx/js/sign_in.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"9:0-35"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_home.js","module":"./src/main/webapp/assets/glwx/js/hsp_home.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_home.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"7:0-35"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hospitalization.js","module":"./src/main/webapp/assets/glwx/js/hospitalization.js","moduleName":"./src/main/webapp/assets/glwx/js/hospitalization.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"9:0-35"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_daily_bill.js","module":"./src/main/webapp/assets/glwx/js/hsp_daily_bill.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_daily_bill.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"8:0-35"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_all_bill.js","module":"./src/main/webapp/assets/glwx/js/hsp_all_bill.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_all_bill.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"8:0-35"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_foregift.js","module":"./src/main/webapp/assets/glwx/js/hsp_foregift.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_foregift.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"6:0-35"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_account.js","module":"./src/main/webapp/assets/glwx/js/hsp_account.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_account.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"6:0-35"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\charge.js","module":"./src/main/webapp/assets/glwx/js/charge.js","moduleName":"./src/main/webapp/assets/glwx/js/charge.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"6:0-35"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_sign_in.js","module":"./src/main/webapp/assets/glwx/js/hsp_sign_in.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_sign_in.js","type":"cjs require","userRequest":"common-libs/jquery.alert","loc":"8:0-35"}],"source":"; (function($) {\r\n\t$.fn.extend({\r\n\t\talert : function(text, bError, complete) {\r\n\t\t\tvar $this = $(this);\r\n\t\t\t$this.find(\".alert-window-info\").text(text);\r\n\t\t\tbError && $this.addClass(\"failed\");\r\n\t\t\t$this.ajustToCenter().fadeIn(250);\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\t$this.fadeOut(250, function() {\r\n\t\t\t\t\tcomplete && complete();\r\n\t\t\t\t\t$this.removeClass(\"failed\");\r\n\t\t\t\t});\r\n\t\t\t}, 2000);\r\n\t\t},\r\n\t\tajustToCenter : function() {\r\n\t\t\tvar $this = $(this);\r\n\t\t\treturn $this.css({\r\n\t\t\t\t\"top\" : function() {\r\n\t\t\t\t\treturn $(\"body\").scrollTop() + $(window).height() / 2 - $this.height() / 2;\r\n\t\t\t\t},\r\n\t\t\t\t\"margin\" : \"0 auto\"\r\n\t\t\t});\r\n\t\t},\r\n\t\topen : function(title, desc, callback) {\r\n\t\t\tvar $this = $(this);\r\n\t\t\ttitle && $this.find(\".alert-title\").text(title);\r\n\t\t\tdesc && $this.find(\".alert-desc\").text(desc);\r\n\t\t\t$this.show();\r\n\t\t\tcallback && typeof callback === \"function\" && callback();\r\n\t\t\treturn $this;\r\n\t\t},\r\n\t\tclose: function() {\r\n\t\t\treturn $(this).hide();\r\n\t\t},\r\n\t\tbindTouchHandler : function(selector, handler, cb) {\r\n\t\t\tvar obj = {};\r\n\t\t\tthis.each(function() {\r\n\t\t\t\tvar $this = $(this),\r\n\t\t\t\t\ttype = obj.toString.call(selector).match(/\\[object (\\w+)\\]/)[1].toLowerCase(),\r\n\t\t\t\t\tbHandheld = /mobile|windows phone|ios|android/i.test(navigator.userAgent),\r\n\t\t\t\t\tclickEvent = bHandheld ? \"touchend\" : \"click\";\r\n\t\t\t\tif (type === \"object\") {\r\n\t\t\t\t\tfor (var s in selector) {\r\n\t\t\t\t\t\tvar hd = selector[s];\r\n\t\t\t\t\t\t$this.find(s).on(clickEvent, {$elem: $this}, hd);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (type === \"string\") {\r\n\t\t\t\t\t$this.find(selector).on(clickEvent, {$elem: $this}, handler);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn this;\r\n\t\t}\r\n\t});\r\n})(jQuery);"},{"id":8,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\node_modules\\common-libs\\param.js","name":"./~/common-libs/param.js","index":9,"index2":8,"size":1448,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[1,2,3,4,5,6,8,9,10,11,12,13,14,15,16,17,18,20,21,23,24,25,26,27,28,29,30,32,33],"assets":[],"issuer":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\home_info.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\info_list.js","module":"./src/main/webapp/assets/glwx/js/info_list.js","moduleName":"./src/main/webapp/assets/glwx/js/info_list.js","type":"cjs require","userRequest":"common-libs/param","loc":"1:12-40"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\report_detail.js","module":"./src/main/webapp/assets/glwx/js/report_detail.js","moduleName":"./src/main/webapp/assets/glwx/js/report_detail.js","type":"cjs require","userRequest":"common-libs/param","loc":"2:9-37"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_doctor.js","module":"./src/main/webapp/assets/glwx/js/select_doctor.js","moduleName":"./src/main/webapp/assets/glwx/js/select_doctor.js","type":"cjs require","userRequest":"common-libs/param","loc":"2:9-37"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\doctor_info.js","module":"./src/main/webapp/assets/glwx/js/doctor_info.js","moduleName":"./src/main/webapp/assets/glwx/js/doctor_info.js","type":"cjs require","userRequest":"common-libs/param","loc":"3:9-37"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\forget.js","module":"./src/main/webapp/assets/glwx/js/forget.js","moduleName":"./src/main/webapp/assets/glwx/js/forget.js","type":"cjs require","userRequest":"common-libs/param","loc":"1:12-40"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_department.js","module":"./src/main/webapp/assets/glwx/js/select_department.js","moduleName":"./src/main/webapp/assets/glwx/js/select_department.js","type":"cjs require","userRequest":"common-libs/param","loc":"2:9-37"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\place_order.js","module":"./src/main/webapp/assets/glwx/js/place_order.js","moduleName":"./src/main/webapp/assets/glwx/js/place_order.js","type":"cjs require","userRequest":"common-libs/param","loc":"3:9-37"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\validate.js","module":"./src/main/webapp/assets/glwx/js/validate.js","moduleName":"./src/main/webapp/assets/glwx/js/validate.js","type":"cjs require","userRequest":"common-libs/param","loc":"1:12-40"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\register_result.js","module":"./src/main/webapp/assets/glwx/js/register_result.js","moduleName":"./src/main/webapp/assets/glwx/js/register_result.js","type":"cjs require","userRequest":"common-libs/param","loc":"3:9-37"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_visitors.js","module":"./src/main/webapp/assets/glwx/js/my_visitors.js","moduleName":"./src/main/webapp/assets/glwx/js/my_visitors.js","type":"cjs require","userRequest":"common-libs/param","loc":"3:9-37"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\reserve_result.js","module":"./src/main/webapp/assets/glwx/js/reserve_result.js","moduleName":"./src/main/webapp/assets/glwx/js/reserve_result.js","type":"cjs require","userRequest":"common-libs/param","loc":"2:9-37"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\register_info.js","module":"./src/main/webapp/assets/glwx/js/register_info.js","moduleName":"./src/main/webapp/assets/glwx/js/register_info.js","type":"cjs require","userRequest":"common-libs/param","loc":"3:9-37"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\stop_inform.js","module":"./src/main/webapp/assets/glwx/js/stop_inform.js","moduleName":"./src/main/webapp/assets/glwx/js/stop_inform.js","type":"cjs require","userRequest":"common-libs/param","loc":"1:12-40"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\search_report.js","module":"./src/main/webapp/assets/glwx/js/search_report.js","moduleName":"./src/main/webapp/assets/glwx/js/search_report.js","type":"cjs require","userRequest":"common-libs/param","loc":"3:9-37"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\home_info.js","module":"./src/main/webapp/assets/glwx/js/home_info.js","moduleName":"./src/main/webapp/assets/glwx/js/home_info.js","type":"cjs require","userRequest":"common-libs/param","loc":"1:12-40"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\intro_doc.js","module":"./src/main/webapp/assets/glwx/js/intro_doc.js","moduleName":"./src/main/webapp/assets/glwx/js/intro_doc.js","type":"cjs require","userRequest":"common-libs/param","loc":"1:12-40"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\intro_dep.js","module":"./src/main/webapp/assets/glwx/js/intro_dep.js","moduleName":"./src/main/webapp/assets/glwx/js/intro_dep.js","type":"cjs require","userRequest":"common-libs/param","loc":"1:12-40"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\sign_in.js","module":"./src/main/webapp/assets/glwx/js/sign_in.js","moduleName":"./src/main/webapp/assets/glwx/js/sign_in.js","type":"cjs require","userRequest":"common-libs/param","loc":"1:12-40"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_home.js","module":"./src/main/webapp/assets/glwx/js/hsp_home.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_home.js","type":"cjs require","userRequest":"common-libs/param","loc":"3:9-37"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hospitalization.js","module":"./src/main/webapp/assets/glwx/js/hospitalization.js","moduleName":"./src/main/webapp/assets/glwx/js/hospitalization.js","type":"cjs require","userRequest":"common-libs/param","loc":"4:9-37"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_daily_bill.js","module":"./src/main/webapp/assets/glwx/js/hsp_daily_bill.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_daily_bill.js","type":"cjs require","userRequest":"common-libs/param","loc":"1:12-40"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_all_bill.js","module":"./src/main/webapp/assets/glwx/js/hsp_all_bill.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_all_bill.js","type":"cjs require","userRequest":"common-libs/param","loc":"1:12-40"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_foregift.js","module":"./src/main/webapp/assets/glwx/js/hsp_foregift.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_foregift.js","type":"cjs require","userRequest":"common-libs/param","loc":"1:12-40"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_account.js","module":"./src/main/webapp/assets/glwx/js/hsp_account.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_account.js","type":"cjs require","userRequest":"common-libs/param","loc":"2:9-37"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\guidance.js","module":"./src/main/webapp/assets/glwx/js/guidance.js","moduleName":"./src/main/webapp/assets/glwx/js/guidance.js","type":"cjs require","userRequest":"common-libs/param","loc":"1:12-40"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\guidance_disease.js","module":"./src/main/webapp/assets/glwx/js/guidance_disease.js","moduleName":"./src/main/webapp/assets/glwx/js/guidance_disease.js","type":"cjs require","userRequest":"common-libs/param","loc":"1:12-40"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\guidance_result.js","module":"./src/main/webapp/assets/glwx/js/guidance_result.js","moduleName":"./src/main/webapp/assets/glwx/js/guidance_result.js","type":"cjs require","userRequest":"common-libs/param","loc":"1:12-40"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\floor_detail.js","module":"./src/main/webapp/assets/glwx/js/floor_detail.js","moduleName":"./src/main/webapp/assets/glwx/js/floor_detail.js","type":"cjs require","userRequest":"common-libs/param","loc":"1:12-40"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_sign_in.js","module":"./src/main/webapp/assets/glwx/js/hsp_sign_in.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_sign_in.js","type":"cjs require","userRequest":"common-libs/param","loc":"3:9-37"}],"source":"/*\r\n * $Id: param.js,v 1.00.00 2015/06/16 10:10:32 jennis $\r\n * can be used to get or set value from URL's query string\r\n * this script runs in web browser client\r\n *\r\n *  Licensed under the MIT license.\r\n *    http://opensource.org/licenses/mit-license\r\n *\r\n */\r\nmodule.exports = {\r\n\tval: function(name, value) {\r\n\t\tvar map,\r\n\t\t\tsearch = decodeURIComponent(location.search),\r\n\t\t\twellIndex = search.indexOf(\"#\") !== - 1 ? search.indexOf(\"#\") : search.length,\r\n\t\t\tsearchStr = search ? search.slice(1, wellIndex) : null,\r\n\t\t\tpairMap = {},\r\n\t\t\ttoString = pairMap.toString,\r\n\t\t\tsearches = [];\r\n\t\tif (searchStr) {\r\n\t\t\tvar pairs = searchStr.split(\"&\"),\r\n\t\t\t\ti = 0,\r\n\t\t\t\tlen = pairs.length;\r\n\t\t\tfor ( ; i < len ; i++ ) {\r\n\t\t\t\tvar pair = pairs[i],\r\n\t\t\t\t\tequal = pair.indexOf(\"=\");\r\n\t\t\t\tpairMap[ pair.slice(0, equal) ] = pair.slice(equal + 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (name === undefined) {\r\n\t\t\treturn pairMap;\r\n\t\t} else {\r\n\t\t\tif (value !== undefined) {\r\n\t\t\t\t// add param\r\n\t\t\t\tpairMap[ name ] = value;\r\n\t\t\t} else {\r\n\t\t\t\tif (typeof name === \"string\") {\r\n\t\t\t\t\treturn pairMap[ name ] || \"\";\r\n\t\t\t\t} else if (toString.call(name) === \"[object Object]\") {\r\n\t\t\t\t\t// add multiple params\r\n\t\t\t\t\tfor ( var key in name ) {\r\n\t\t\t\t\t\tpairMap[ key ] = name[ key ];\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor ( var key in pairMap ) {\r\n\t\t\tsearches.push(key + \"=\" + pairMap[ key ]);\r\n\t\t}\r\n\t\tlocation.search = \"?\" + encodeURIComponent(searches.join(\"&\"));\r\n\t}\r\n};\r\n"},{"id":9,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\node_modules\\common-libs\\dateUtils.js","name":"./~/common-libs/dateUtils.js","index":10,"index2":9,"size":1534,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[1,11,12,16,18,19,20,21,23,29,33],"assets":[],"issuer":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\info_list.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_doctor.js","module":"./src/main/webapp/assets/glwx/js/select_doctor.js","moduleName":"./src/main/webapp/assets/glwx/js/select_doctor.js","type":"cjs require","userRequest":"common-libs/dateUtils","loc":"4:0-32"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_visitors.js","module":"./src/main/webapp/assets/glwx/js/my_visitors.js","moduleName":"./src/main/webapp/assets/glwx/js/my_visitors.js","type":"cjs require","userRequest":"common-libs/dateUtils","loc":"8:0-32"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\doctor_info.js","module":"./src/main/webapp/assets/glwx/js/doctor_info.js","moduleName":"./src/main/webapp/assets/glwx/js/doctor_info.js","type":"cjs require","userRequest":"common-libs/dateUtils","loc":"5:0-32"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\place_order.js","module":"./src/main/webapp/assets/glwx/js/place_order.js","moduleName":"./src/main/webapp/assets/glwx/js/place_order.js","type":"cjs require","userRequest":"common-libs/dateUtils","loc":"5:0-32"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\validate.js","module":"./src/main/webapp/assets/glwx/js/validate.js","moduleName":"./src/main/webapp/assets/glwx/js/validate.js","type":"cjs require","userRequest":"common-libs/dateUtils","loc":"7:0-32"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\info_list.js","module":"./src/main/webapp/assets/glwx/js/info_list.js","moduleName":"./src/main/webapp/assets/glwx/js/info_list.js","type":"cjs require","userRequest":"common-libs/dateUtils","loc":"4:0-32"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_register.js","module":"./src/main/webapp/assets/glwx/js/my_register.js","moduleName":"./src/main/webapp/assets/glwx/js/my_register.js","type":"cjs require","userRequest":"common-libs/dateUtils","loc":"5:0-32"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\register_info.js","module":"./src/main/webapp/assets/glwx/js/register_info.js","moduleName":"./src/main/webapp/assets/glwx/js/register_info.js","type":"cjs require","userRequest":"common-libs/dateUtils","loc":"7:0-32"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\intro_doc.js","module":"./src/main/webapp/assets/glwx/js/intro_doc.js","moduleName":"./src/main/webapp/assets/glwx/js/intro_doc.js","type":"cjs require","userRequest":"common-libs/dateUtils","loc":"4:0-32"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_daily_bill.js","module":"./src/main/webapp/assets/glwx/js/hsp_daily_bill.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_daily_bill.js","type":"cjs require","userRequest":"common-libs/dateUtils","loc":"5:0-32"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_all_bill.js","module":"./src/main/webapp/assets/glwx/js/hsp_all_bill.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_all_bill.js","type":"cjs require","userRequest":"common-libs/dateUtils","loc":"5:0-32"}],"source":"/*\r\n * $Id: dateUtils.js,v 1.00.00 2015/06/16 10:10:32 jennis $\r\n * \r\n * this script runs in web browser client\r\n *\r\n *  Licensed under the MIT license.\r\n *    http://opensource.org/licenses/mit-license\r\n *\r\n */\r\nDate.prototype.format = function(format) {\r\n\tvar splits = format.split(/[^a-zA-Z]/),\r\n\t\ti = 0,\r\n\t\tlen = splits.length,\r\n\t\tformatMap = {\r\n\t\t\t /* this map can be extended */\r\n\t\t\t\"yyyy\": this.getFullYear(),\r\n\t\t\t\"mm\": this.getMonth() + 1,\r\n\t\t\t\"dd\": this.getDate(),\r\n\t\t\t\"hh\": this.getHours(),\r\n\t\t\t\"MM\": this.getMinutes(),\r\n\t\t\t\"ss\": this.getSeconds()\r\n\t\t};\r\n\tfor ( ; i < len ; i++ ) {\r\n\t\tvar key = splits[i],\r\n\t\t\tval = formatMap[key];\r\n\t\tif (key in formatMap) {\t\r\n\t\t\tformat = format.replace(key, val < 10 ? \"0\" + val : val);\r\n\t\t} else {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t}\r\n\treturn format;\r\n}\r\nString.prototype.toDate = function(delim) {\r\n\t// transform date format string to Date\r\n\t// only support Date with format like yyyy-mm-dd\r\n\tvar tmp = new Date();\r\n\tif (/^\\d*$/.test(this)) {\r\n\t\ttmp.setDate(this.slice(6, 8));\r\n\t\ttmp.setMonth(parseInt(this.slice(4, 6)) - 1);\r\n\t\ttmp.setFullYear(this.slice(0, 4));\r\n\t} else {\r\n\t\tdelim = delim || this.match(/[^\\w]/)[0];\r\n\t\tif (delim) {\r\n\t\t\tvar splits = this.split(delim);\r\n\t\t\ttmp.setDate(splits[2]);\r\n\t\t\ttmp.setMonth(parseInt(splits[1]) - 1);\r\n\t\t\ttmp.setFullYear(splits[0]);\r\n\t\t}\r\n\t}\r\n\treturn tmp;\r\n}\r\nDate.prototype.isSameDayWith = function(b) {\r\n\tif (!b) {\r\n\t\treturn false;\r\n\t}\r\n\treturn this.getDate() === b.getDate() && this.getMonth() === b.getMonth() && this.getFullYear() === b.getFullYear();\r\n}"},{"id":10,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\node_modules\\common-libs\\md5.js","name":"./~/common-libs/md5.js","index":13,"index2":12,"size":5394,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[3,30,33],"assets":[],"issuer":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\forget.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\forget.js","module":"./src/main/webapp/assets/glwx/js/forget.js","moduleName":"./src/main/webapp/assets/glwx/js/forget.js","type":"cjs require","userRequest":"common-libs/md5","loc":"3:7-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\validate.js","module":"./src/main/webapp/assets/glwx/js/validate.js","moduleName":"./src/main/webapp/assets/glwx/js/validate.js","type":"cjs require","userRequest":"common-libs/md5","loc":"3:7-33"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\sign_in.js","module":"./src/main/webapp/assets/glwx/js/sign_in.js","moduleName":"./src/main/webapp/assets/glwx/js/sign_in.js","type":"cjs require","userRequest":"common-libs/md5","loc":"3:7-33"}],"source":"(function () {\r\n  \"use strict\";\r\n/**\r\n * md5.js\r\n * Copyright (c) 2011, Yoshinori Kohyama (http://algobit.jp/)\r\n * all rights reserved.\r\n */\r\nif (!Array.prototype.forEach) {\r\n\tArray.prototype.forEach = function(callback) {\r\n\t\tvar i = 0,\r\n\t\t\tlen = this.length;\r\n\t\tfor ( ; i < len ; i++ ) {\r\n\t\t\tcallback.call(this, this[i], i);\r\n\t\t}\r\n\t};\r\n}\r\nexports.digest = function (M) {\r\n  var originalLength\r\n    , i\r\n    , j\r\n    , k\r\n    , l\r\n    , A\r\n    , B\r\n    , C\r\n    , D\r\n    , AA\r\n    , BB\r\n    , CC\r\n    , DD\r\n    , X\r\n    , rval\r\n    ;\r\n\r\n\tfunction F(x, y, z) { return (x & y) | (~x & z); }\r\n\tfunction G(x, y, z) { return (x & z) | (y & ~z); }\r\n\tfunction H(x, y, z) { return x ^ y ^ z;          }\r\n\tfunction I(x, y, z) { return y ^ (x | ~z);       }\r\n\r\n\tfunction to4bytes(n) {\r\n\t\treturn [n&0xff, (n>>>8)&0xff, (n>>>16)&0xff, (n>>>24)&0xff];\r\n\t}\r\n\r\n\toriginalLength = M.length; // for Step.2\r\n\r\n\t// 3.1 Step 1. Append Padding Bits\r\n\tM.push(0x80);\r\n\tl = (56 - M.length)&0x3f;\r\n\tfor (i = 0; i < l; i++)\r\n\t\tM.push(0);\r\n\r\n\t// 3.2 Step 2. Append Length\r\n\tto4bytes(8*originalLength).forEach(function (e) { M.push(e); });\r\n\t[0, 0, 0, 0].forEach(function (e) { M.push(e); });\r\n\r\n\t// 3.3 Step 3. Initialize MD Buffer\r\n\tA = [0x67452301];\r\n\tB = [0xefcdab89];\r\n\tC = [0x98badcfe];\r\n\tD = [0x10325476];\r\n\r\n\t// 3.4 Step 4. Process Message in 16-Word Blocks\r\n\tfunction rounds(a, b, c, d, k, s, t, f) {\r\n\t\ta[0] += f(b[0], c[0], d[0]) + X[k] + t;\r\n\t\ta[0] = ((a[0]<<s)|(a[0]>>>(32 - s)));\r\n\t\ta[0] += b[0];\r\n\t}\r\n\r\n\tfor (i = 0; i < M.length; i += 64) {\r\n\t\tX = [];\r\n\t\tfor (j = 0; j < 64; j += 4) {\r\n\t\t\tk = i + j;\r\n\t\t\tX.push(M[k]|(M[k + 1]<<8)|(M[k + 2]<<16)|(M[k + 3]<<24));\r\n\t\t}\r\n\t\tAA = A[0];\r\n\t\tBB = B[0];\r\n\t\tCC = C[0];\r\n\t\tDD = D[0];\r\n\r\n\t\t// Round 1.\r\n\t\trounds(A, B, C, D,  0,  7, 0xd76aa478, F);\r\n\t\trounds(D, A, B, C,  1, 12, 0xe8c7b756, F);\r\n\t\trounds(C, D, A, B,  2, 17, 0x242070db, F);\r\n\t\trounds(B, C, D, A,  3, 22, 0xc1bdceee, F);\r\n\t\trounds(A, B, C, D,  4,  7, 0xf57c0faf, F);\r\n\t\trounds(D, A, B, C,  5, 12, 0x4787c62a, F);\r\n\t\trounds(C, D, A, B,  6, 17, 0xa8304613, F);\r\n\t\trounds(B, C, D, A,  7, 22, 0xfd469501, F);\r\n\t\trounds(A, B, C, D,  8,  7, 0x698098d8, F);\r\n\t\trounds(D, A, B, C,  9, 12, 0x8b44f7af, F);\r\n\t\trounds(C, D, A, B, 10, 17, 0xffff5bb1, F);\r\n\t\trounds(B, C, D, A, 11, 22, 0x895cd7be, F);\r\n\t\trounds(A, B, C, D, 12,  7, 0x6b901122, F);\r\n\t\trounds(D, A, B, C, 13, 12, 0xfd987193, F);\r\n\t\trounds(C, D, A, B, 14, 17, 0xa679438e, F);\r\n\t\trounds(B, C, D, A, 15, 22, 0x49b40821, F);\r\n\r\n\t\t// Round 2.\r\n\t\trounds(A, B, C, D,  1,  5, 0xf61e2562, G);\r\n\t\trounds(D, A, B, C,  6,  9, 0xc040b340, G);\r\n\t\trounds(C, D, A, B, 11, 14, 0x265e5a51, G);\r\n\t\trounds(B, C, D, A,  0, 20, 0xe9b6c7aa, G);\r\n\t\trounds(A, B, C, D,  5,  5, 0xd62f105d, G);\r\n\t\trounds(D, A, B, C, 10,  9, 0x02441453, G);\r\n\t\trounds(C, D, A, B, 15, 14, 0xd8a1e681, G);\r\n\t\trounds(B, C, D, A,  4, 20, 0xe7d3fbc8, G);\r\n\t\trounds(A, B, C, D,  9,  5, 0x21e1cde6, G);\r\n\t\trounds(D, A, B, C, 14,  9, 0xc33707d6, G);\r\n\t\trounds(C, D, A, B,  3, 14, 0xf4d50d87, G);\r\n\t\trounds(B, C, D, A,  8, 20, 0x455a14ed, G);\r\n\t\trounds(A, B, C, D, 13,  5, 0xa9e3e905, G);\r\n\t\trounds(D, A, B, C,  2,  9, 0xfcefa3f8, G);\r\n\t\trounds(C, D, A, B,  7, 14, 0x676f02d9, G);\r\n\t\trounds(B, C, D, A, 12, 20, 0x8d2a4c8a, G);\r\n\r\n\t\t// Round 3.\r\n\t\trounds(A, B, C, D,  5,  4, 0xfffa3942, H);\r\n\t\trounds(D, A, B, C,  8, 11, 0x8771f681, H);\r\n\t\trounds(C, D, A, B, 11, 16, 0x6d9d6122, H);\r\n\t\trounds(B, C, D, A, 14, 23, 0xfde5380c, H);\r\n\t\trounds(A, B, C, D,  1,  4, 0xa4beea44, H);\r\n\t\trounds(D, A, B, C,  4, 11, 0x4bdecfa9, H);\r\n\t\trounds(C, D, A, B,  7, 16, 0xf6bb4b60, H);\r\n\t\trounds(B, C, D, A, 10, 23, 0xbebfbc70, H);\r\n\t\trounds(A, B, C, D, 13,  4, 0x289b7ec6, H);\r\n\t\trounds(D, A, B, C,  0, 11, 0xeaa127fa, H);\r\n\t\trounds(C, D, A, B,  3, 16, 0xd4ef3085, H);\r\n\t\trounds(B, C, D, A,  6, 23, 0x04881d05, H);\r\n\t\trounds(A, B, C, D,  9,  4, 0xd9d4d039, H);\r\n\t\trounds(D, A, B, C, 12, 11, 0xe6db99e5, H);\r\n\t\trounds(C, D, A, B, 15, 16, 0x1fa27cf8, H);\r\n\t\trounds(B, C, D, A,  2, 23, 0xc4ac5665, H);\r\n\r\n\t\t// Round 4.\r\n\t\trounds(A, B, C, D,  0,  6, 0xf4292244, I);\r\n\t\trounds(D, A, B, C,  7, 10, 0x432aff97, I);\r\n\t\trounds(C, D, A, B, 14, 15, 0xab9423a7, I);\r\n\t\trounds(B, C, D, A,  5, 21, 0xfc93a039, I);\r\n\t\trounds(A, B, C, D, 12,  6, 0x655b59c3, I);\r\n\t\trounds(D, A, B, C,  3, 10, 0x8f0ccc92, I);\r\n\t\trounds(C, D, A, B, 10, 15, 0xffeff47d, I);\r\n\t\trounds(B, C, D, A,  1, 21, 0x85845dd1, I);\r\n\t\trounds(A, B, C, D,  8,  6, 0x6fa87e4f, I);\r\n\t\trounds(D, A, B, C, 15, 10, 0xfe2ce6e0, I);\r\n\t\trounds(C, D, A, B,  6, 15, 0xa3014314, I);\r\n\t\trounds(B, C, D, A, 13, 21, 0x4e0811a1, I);\r\n\t\trounds(A, B, C, D,  4,  6, 0xf7537e82, I);\r\n\t\trounds(D, A, B, C, 11, 10, 0xbd3af235, I);\r\n\t\trounds(C, D, A, B,  2, 15, 0x2ad7d2bb, I);\r\n\t\trounds(B, C, D, A,  9, 21, 0xeb86d391, I);\r\n\r\n\t\tA[0] += AA;\r\n\t\tB[0] += BB;\r\n\t\tC[0] += CC;\r\n\t\tD[0] += DD;\r\n\t}\r\n\r\n\trval = [];\r\n\tto4bytes(A[0]).forEach(function (e) { rval.push(e); });\r\n\tto4bytes(B[0]).forEach(function (e) { rval.push(e); });\r\n\tto4bytes(C[0]).forEach(function (e) { rval.push(e); });\r\n\tto4bytes(D[0]).forEach(function (e) { rval.push(e); });\r\n\r\n\treturn rval;\r\n}\r\n\r\nexports.digest_s = function (s) {\r\n\tvar M = []\r\n    , i\r\n    , d\r\n    , rstr\r\n    , s\r\n    ;\r\n\r\n\tfor (i = 0; i < s.length; i++)\r\n\t\tM.push(s.charCodeAt(i));\r\n\r\n\td = exports.digest(M);\r\n\trstr = '';\r\n\r\n\td.forEach(function (e) {\r\n\t\ts = e.toString(16);\r\n\t\twhile (s.length < 2)\r\n\t\t\ts = '0' + s;\r\n\t\trstr += s;\r\n\t});\r\n\r\n\treturn rstr;\r\n}\r\n\r\n}());"},{"id":11,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\node_modules\\common-libs\\formCheck.js","name":"./~/common-libs/formCheck.js","index":14,"index2":13,"size":3961,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[3,9,15,20,30,31,33],"assets":[],"issuer":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\sign_up.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\sign_up.js","module":"./src/main/webapp/assets/glwx/js/sign_up.js","moduleName":"./src/main/webapp/assets/glwx/js/sign_up.js","type":"cjs require","userRequest":"common-libs/formCheck","loc":"1:12-44"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\forget.js","module":"./src/main/webapp/assets/glwx/js/forget.js","moduleName":"./src/main/webapp/assets/glwx/js/forget.js","type":"cjs require","userRequest":"common-libs/formCheck","loc":"4:9-41"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\validate.js","module":"./src/main/webapp/assets/glwx/js/validate.js","moduleName":"./src/main/webapp/assets/glwx/js/validate.js","type":"cjs require","userRequest":"common-libs/formCheck","loc":"5:9-41"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_visitors.js","module":"./src/main/webapp/assets/glwx/js/my_visitors.js","moduleName":"./src/main/webapp/assets/glwx/js/my_visitors.js","type":"cjs require","userRequest":"common-libs/formCheck","loc":"4:9-41"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\sign_in.js","module":"./src/main/webapp/assets/glwx/js/sign_in.js","moduleName":"./src/main/webapp/assets/glwx/js/sign_in.js","type":"cjs require","userRequest":"common-libs/formCheck","loc":"5:9-41"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hospitalization.js","module":"./src/main/webapp/assets/glwx/js/hospitalization.js","moduleName":"./src/main/webapp/assets/glwx/js/hospitalization.js","type":"cjs require","userRequest":"common-libs/formCheck","loc":"5:9-41"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_sign_in.js","module":"./src/main/webapp/assets/glwx/js/hsp_sign_in.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_sign_in.js","type":"cjs require","userRequest":"common-libs/formCheck","loc":"4:9-41"}],"source":"/*\r\n * $Id: formCheck.js,v 1.00.00 2015/06/16 10:10:32 jennis $\r\n * this plugin is Chinese-Oriented\r\n * this script runs in web browser client\r\n *\r\n *  Licensed under the MIT license.\r\n *    http://opensource.org/licenses/mit-license\r\n *\r\n */\r\nmodule.exports = {\r\n\t/* alike check */\r\n\tidnumAlike: function(input) {\r\n\t\treturn /(^\\d{17}[\\dxX]$)|(^\\d{15}$)/.test(input);\r\n\t},\r\n\tisAdult: function(idnum) {\r\n\t\tif (this.idnumAlike(idnum)) {\r\n\t\t\tvar rIdnum15 = /^\\d{6}(\\d{6})\\d{3}$/,\r\n\t\t\t\trIdnum18 = /^\\d{6}(\\d{8})[\\dxX]{4}$/,\r\n\t\t\t\tbirth;\r\n\t\t\tbirth = idnum.length === 18 ? idnum.match(rIdnum18) : idnum.match(rIdnum15);\r\n\t\t\tif (birth && (birth = birth[1])) {\r\n\t\t\t\tvar threshold = new Date(),\r\n\t\t\t\t\tyear = idnum.length === 18 ? birth.slice(-8, -4) : \"19\" + birth.slice(-6, -4);\r\n\t\t\t\tthreshold.setDate(birth.slice(-2));\r\n\t\t\t\tthreshold.setMonth(+birth.slice(-4, -2) - 1);\r\n\t\t\t\tthreshold.setYear(+year + 18);\r\n\t\t\t\treturn +threshold <= +(new Date());\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\t/* form check */\r\n\tname: function(input, bRet) {\r\n\t\tvar retInfo = {\r\n\t\t\tflag: false,\r\n\t\t\tmsg: \"\"\r\n\t\t};\r\n\t\tif (!input) {\r\n\t\t\tretInfo.msg = \"用户姓名不得为空\";\r\n\t\t} else if (!/^[\\u4e00-\\u9fa5]{2,6}$/.test(input)) {\r\n\t\t\tretInfo.msg = \"用户姓名应为2-6个中文汉字\";\r\n\t\t} else {\r\n\t\t\tretInfo.flag = true;\r\n\t\t}\r\n\t\treturn bRet ? retInfo : retInfo.flag;\r\n\t},\r\n\tphone: function(input, bRet) {\r\n\t\tvar retInfo = {\r\n\t\t\tflag: false,\r\n\t\t\tmsg: \"\"\r\n\t\t};\r\n\t\tif (!input) {\r\n\t\t\tretInfo.msg = \"手机号不得为空\";\r\n\t\t} else if (!/^\\d{11}$/.test(input)) {\r\n\t\t\tretInfo.msg = \"请输入有效手机号\";\r\n\t\t} else {\r\n\t\t\tretInfo.flag = true;\r\n\t\t}\r\n\t\treturn bRet ? retInfo : retInfo.flag;\r\n\t},\r\n\tidnum: function(input, bRet) {\r\n\t\tvar retInfo = {\r\n\t\t\tflag: false,\r\n\t\t\tmsg: \"\"\r\n\t\t};\r\n\t\tif (!input) {\r\n\t\t\tretInfo.msg = \"身份证号不得为空\";\r\n\t\t} else if (/^\\d{17}[\\dxX]$/.test(input)) {\r\n\t\t\tvar Wi = [7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],\r\n\t\t\t\tverifyCharcodeMap = [1,0,'x',9,8,7,6,5,4,3,2],\r\n\t\t\t\tS = 0,\r\n\t\t\t\ti = 0;\r\n\t\t\tfor ( ; i < 17 ; i++ ) {\r\n\t\t\t\tS += Wi[i] * +input[i];\r\n\t\t\t}\r\n\t\t\tif (input[17].toLowerCase() == verifyCharcodeMap[S % 11]) {\r\n\t\t\t\tretInfo.flag = true;\r\n\t\t\t} else {\r\n\t\t\t\tretInfo.msg = \"请输入有效身份证号码\";\r\n\t\t\t}\r\n\t\t} else if (/^\\d{15}$/.test(input)) {\r\n\t\t\tretInfo.flag = true;\r\n\t\t} else {\r\n\t\t\tretInfo.msg = \"请输入有效身份证号码\";\r\n\t\t}\r\n\t\treturn bRet ? retInfo : retInfo.flag;\r\n\t},\r\n\taccount: function(input, bRet) {\r\n\t\tvar retInfo = {\r\n\t\t\tflag: false,\r\n\t\t\tmsg: \"\"\r\n\t\t};\r\n\t\tif (this.idnumAlike(input)) {\r\n\t\t\treturn this.idnum(input, bRet);\r\n\t\t} else {\r\n\t\t\tif (!input) {\r\n\t\t\t\tretInfo.msg = \"账号不得为空\";\r\n\t\t\t} else {\r\n\t\t\t\t// 南通平台的校验规则\r\n\t\t\t\t/*if (/\\d/.test(input) && /[a-zA-Z]/.test(input) && /^[0-9a-zA-Z@,]{6,16}$/.test(input)) {\r\n\t\t\t\t\tretInfo.flag = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tretInfo.msg = \"用户名只能由6至16位的字母、数字和'@'、','符号组成\";\r\n\t\t\t\t}*/\r\n\t\t\t\tretInfo.flag = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn bRet ? retInfo : retInfo.flag;\r\n\t},\r\n\tpwd: function(input, bRet) {\r\n\t\tvar retInfo = {\r\n\t\t\tflag: false,\r\n\t\t\tmsg: \"\"\r\n\t\t};\r\n\t\tif (!input) {\r\n\t\t\tretInfo.msg = \"密码不得为空\";\r\n\t\t} else if (!/^.{6,30}$/.test(input)) {\r\n\t\t\tretInfo.msg = \"密码长度应为6-30\";\r\n\t\t} else {\r\n\t\t\tretInfo.flag = true;\r\n\t\t}\r\n\t\treturn bRet ? retInfo : retInfo.flag;\r\n\t},\r\n\tconfirm: function(input, pwd, bRet) {\r\n\t\tvar retInfo = {\r\n\t\t\tflag: false,\r\n\t\t\tmsg: \"\"\r\n\t\t};\r\n\t\tif (pwd) {\r\n\t\t\tif (!input) {\r\n\t\t\t\tretInfo.msg = \"请再次输入登陆密码\";\r\n\t\t\t} else if (input !== pwd) {\r\n\t\t\t\tretInfo.msg = \"两次输入的密码不一致\";\r\n\t\t\t} else {\r\n\t\t\t\tretInfo.flag = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn bRet ? retInfo : retInfo.flag;\r\n\t},\r\n\tcode: function(input, bRet) {\r\n\t\tvar retInfo = {\r\n\t\t\tflag: false,\r\n\t\t\tmsg: \"\"\r\n\t\t};\r\n\t\tif (!input) {\r\n\t\t\tretInfo.msg = \"短信验证码不得为空\";\r\n\t\t} else {\r\n\t\t\tretInfo.flag = true;\r\n\t\t}\r\n\t\treturn bRet ? retInfo : retInfo.flag;\r\n\t},\r\n\tguarderIdnum: function(input, bRet) {\r\n\t\tvar retInfo = {\r\n\t\t\tflag: false,\r\n\t\t\tmsg: \"\"\r\n\t\t};\r\n\t\tif (!input) {\r\n\t\t\tretInfo.msg = \"监护人身份证不得为空\";\r\n\t\t} else if (!(this.isAdult(input) && this.idnum(input))) {\r\n\t\t\tretInfo.msg = \"请输入有效监护人身份证号码\";\r\n\t\t} else {\r\n\t\t\tretInfo.flag = true;\r\n\t\t}\r\n\t\treturn bRet ? retInfo : retInfo.flag;\r\n\t}\r\n};"},{"id":12,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\node_modules\\common-libs\\storage.js","name":"./~/common-libs/storage.js","index":19,"index2":18,"size":632,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[7,9,10,11,12,13,14,15],"assets":[],"issuer":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\home.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\home.js","module":"./src/main/webapp/assets/glwx/js/home.js","moduleName":"./src/main/webapp/assets/glwx/js/home.js","type":"cjs require","userRequest":"common-libs/storage","loc":"2:11-41"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_home.js","module":"./src/main/webapp/assets/glwx/js/hsp_home.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_home.js","type":"cjs require","userRequest":"common-libs/storage","loc":"1:12-42"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hospitalization.js","module":"./src/main/webapp/assets/glwx/js/hospitalization.js","moduleName":"./src/main/webapp/assets/glwx/js/hospitalization.js","type":"cjs require","userRequest":"common-libs/storage","loc":"1:12-42"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_daily_bill.js","module":"./src/main/webapp/assets/glwx/js/hsp_daily_bill.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_daily_bill.js","type":"cjs require","userRequest":"common-libs/storage","loc":"2:9-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_all_bill.js","module":"./src/main/webapp/assets/glwx/js/hsp_all_bill.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_all_bill.js","type":"cjs require","userRequest":"common-libs/storage","loc":"2:9-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_foregift.js","module":"./src/main/webapp/assets/glwx/js/hsp_foregift.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_foregift.js","type":"cjs require","userRequest":"common-libs/storage","loc":"2:9-39"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_account.js","module":"./src/main/webapp/assets/glwx/js/hsp_account.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_account.js","type":"cjs require","userRequest":"common-libs/storage","loc":"1:12-42"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\hsp_sign_in.js","module":"./src/main/webapp/assets/glwx/js/hsp_sign_in.js","moduleName":"./src/main/webapp/assets/glwx/js/hsp_sign_in.js","type":"cjs require","userRequest":"common-libs/storage","loc":"1:12-42"}],"source":"var cookie = require(\"./cookie\");\r\nmodule.exports = {\r\n\t// 由于安卓微信退出会清空localStorage因此取消localStorage存储\r\n\tbLS: !!window.localStorage && !/android/i.test(navigator.userAgent),\r\n//\trPath: /(\\/(?:\\S+\\/)*)(\\S*)/,\r\n\tadd: function(name, val, options) {\r\n\t\treturn this.bLS ? localStorage.setItem(name, val) : cookie.add(name, val, options);\r\n\t},\r\n\tget: function(name) {\r\n\t\treturn this.bLS ? localStorage.getItem(name) : cookie.get(name);\r\n\t},\r\n\tremove: function(name) {\r\n\t\treturn this.bLS ? localStorage.removeItem(name) : cookie.remove(name);\r\n\t},\r\n\tclear: function() {\r\n\t\treturn this.bLS ? localStorage.clear() : cookie.removeAll();\r\n\t}\r\n};"},{"id":13,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\node_modules\\common-libs\\replacer.js","name":"./~/common-libs/replacer.js","index":33,"index2":32,"size":678,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[20,23],"assets":[],"issuer":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_visitors.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\my_visitors.js","module":"./src/main/webapp/assets/glwx/js/my_visitors.js","moduleName":"./src/main/webapp/assets/glwx/js/my_visitors.js","type":"cjs require","userRequest":"common-libs/replacer","loc":"5:12-43"},{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\register_info.js","module":"./src/main/webapp/assets/glwx/js/register_info.js","moduleName":"./src/main/webapp/assets/glwx/js/register_info.js","type":"cjs require","userRequest":"common-libs/replacer","loc":"4:12-43"}],"source":"/*\r\n * $Id: replacer.js,v 1.00.00 2015/11/23 10:10:32 jennis $\r\n * \r\n * this script runs in web browser client\r\n * replace sensitive information with sign *\r\n *\r\n *  Licensed under the MIT license.\r\n *    http://opensource.org/licenses/mit-license\r\n *\r\n */\r\nmodule.exports = {\r\n\tphone: function(str) {\r\n\t\treturn str.replace(/(\\d{3})(\\d*)(\\d{4})/, function(match, p1, p2, p3) {\r\n\t\t\treturn [p1, p2.replace(/\\d/g, \"*\"), p3].join(\"\");\r\n\t\t});\r\n\t},\r\n\tidnum: function(str) {\r\n\t\tvar reg = str.length == 18 ? /(\\d{6})(\\d*)(\\d{3}[\\dxX])/ : /(\\d{6})(\\d*)(\\d{3})/;\r\n\t\treturn str.replace(reg, function(match, p1, p2, p3) {\r\n\t\t\treturn [p1, p2.replace(/\\d/g, \"*\"), p3].join(\"\");\r\n\t\t});\r\n\t}\r\n};"},{"id":14,"identifier":"F:\\hospital\\app\\hospital\\ms-hospital\\node_modules\\common-libs\\pinyin.js","name":"./~/common-libs/pinyin.js","index":42,"index2":41,"size":21247,"cacheable":true,"built":true,"optional":false,"prefetched":false,"chunks":[28],"assets":[],"issuer":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_department.js","failed":false,"errors":0,"warnings":0,"reasons":[{"moduleId":0,"moduleIdentifier":"F:\\hospital\\app\\hospital\\ms-hospital\\src\\main\\webapp\\assets\\glwx\\js\\select_department.js","module":"./src/main/webapp/assets/glwx/js/select_department.js","moduleName":"./src/main/webapp/assets/glwx/js/select_department.js","type":"cjs require","userRequest":"common-libs/pinyin","loc":"3:9-38"}],"source":"var code_list = \"YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY\";\r\nmodule.exports = function(ch) {\r\n\tvar ret = \"\",\r\n\t\ti = 0,\r\n\t\tlen = ch.length;\r\n\tfor ( ; i < len ; i++ ) {\r\n\t\tvar code = ch.charCodeAt(i);\r\n\t\tret += (code >= 19968 && code <= 40869 ? code_list[code - 19968] : (code >= 65 && code <= 90) || (code >= 97 && code <= 122) ? ch.charAt(i) : \"z\"); \r\n\t}\r\n\treturn ret.toUpperCase();\r\n}"}],"filteredModules":0,"children":[]}