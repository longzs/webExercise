!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var i=n(11),r=n(3);n(7),$(function(){var t=$(".input").not(".input-submit");t.on("focusout",function(t){var e=$(this),n=i[e.attr("check")];e.toggleClass("ok",n?n.call(i,e.val()):!1)});var e=$(".alert-wrap.validate");e.bindTouchHandler(".confirm",function(t){t.preventDefault(),e.close()}),$(".register-form").on("submit",function(n){n.preventDefault(),t.blur();var o=$(".ok").length===t.length;if(o){var a={name:$(".input-name").val(),idnum:$(".input-idnum").val(),phone:$(".input-phone").val()};!i.isAdult(a.idnum)&&(a.bNotAdult=1),location.href=r.IS_WX?r.getWxAuthPath("validate?transData="+JSON.stringify(a)):"validate?transData="+encodeURIComponent(JSON.stringify(a))}else{var s=t.filter(function(){return!$(this).is(".ok")}).first(),l=i[s.attr("check")],c=l?l.call(i,s.val(),!0):"";e.open("",c.msg)}}),$(".input-submit").on("touchend",function(t){t.preventDefault(),$(".register-form").submit()})})},function(t,e){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")}),t.exports={defaults:{},extend:function(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e},cookie:function(t,e,n){if(void 0!==e){if(t.match(/\W/))throw new Error("characters out bounds of [0-9a-zA-Z_] are illegal");var n=n||this.defaults;if("number"==typeof n.expires){var i=new Date;return i.setTime(+i+864e5*n.expires),document.cookie=[t,"=",e,n.expires?"; expires="+i.toGMTString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}}for(var r=document.cookie,o=r.split(";"),a=0,s=o.length;s>a;a++){var l=o[a].trim(),c=l.indexOf("=");if(l.slice(0,c)===t)return l.slice(c+1)}return""},add:function(t,e,n){this.cookie(t,e,n)},get:function(t){return this.cookie(t)},remove:function(t,e){this.cookie(t,"invalid",this.extend(e,{expires:-1}))},removeAll:function(t){for(var e=document.cookie,n=e.split(";"),i=0,r=n.length;r>i;i++){var o=n[i].split("=")[0].trim();this.remove(o,t)}}}},,function(t,e,n){var i=n(4),r={app:"glwx",pltId:"03",productId:"010",version:"1.00.00",wxAppId:"wx97e1952c1a0281a4",GetDataURL:location.origin+"/support/get_data",appColumnsMap:{"001":{cols:[{nodeId:225,level:1,title:"健康科普",thumbnail_path:"/assets/glwx/img/thumbnail.png"},{nodeId:229,level:1,title:"营养养生",thumbnail_path:"/assets/glwx/img/thumbnail.png"},{nodeId:230,level:1,title:"通知公告",thumbnail_path:"/assets/glwx/img/thumbnail.png"}],style_extensions:"condensed color-inverse",article_based:!0,article_cols:[{nodeId:238,bRecm:!0,style_extensions:"float first-stressed"},{nodeId:239}]},"007":{cols:[{nodeId:93,level:1,title:"医院动态"},{nodeId:94,level:1,title:"学科动态"},{nodeId:89,level:1,title:"健康科普"},{nodeId:90,level:1,title:"媒体报道"}],style_extensions:"first-stressed"}},HSPCODE:"23101",HSPNAME:"南京市鼓楼医院",DEFAULT_MAX_INTRO_LENGTH:25,MAX_SEARCH_TIMES:10,DEFAULT_HOS_LOGO_IMG_SRC:"/assets/gcwx/img/hsp_logo_default.png",DEFAULT_DOC_IMG_SRC:"/assets/gcwx/img/doc_default.png",DEFAULT_HSP_IMG_SRC:"/assets/gcwx/img/hsp_default.png",SEND_DEFAULT:"点击发送验证码",SENDING:"验证码发送中",SEND_SUCCESS:"输入验证码",SEND_FAILED:"发送失败点击重发"};for(var o in i)r[o]=i[o];r.ajaxSetting({redirectPageName:"sign_in",redirectExcept:["sign_in","sign_up","validate","forget","home_info","info_list","hsp_sign_in","hsp_home","hsp_account","hsp_foregift","hsp_daily_bill"]}),t.exports=r},function(t,e,n){n(5);var i={NET_ERROR:"网络连接错误，请刷新重试！",GET_DATA_ERROR:"数据请求异常",COOKIE_NOT_AVAILABLE:"Cookie当前不可用！请检查浏览器设置",rhtml:/^<(?:\s|.)*>$/,IS_WX:/MicroMessenger/i.test(navigator.userAgent),ajaxSetting:function(t){if(window.$&&$.ajaxSetup){var e=location.pathname.match(/(\/(?:\w+\/)*)(\w+)?/),i=t.redirectPageName,r=this;e&&(pageName=e[2])&&(i+=[location.search?location.search+"&":"?","referrer="+pageName].join("")),$.ajaxSetup({dataType:"json",data:{pltId:this.pltId,productId:this.productId,version:this.version,sessionId:n(1).get("sid")},success:function(e,n){if("1"!==e.rspCode)switch(e.rspCode){case"9004":case"9005":t.sidHandler?t.sidHandler():location.href=r.IS_WX?r.getWxAuthPath(i):i}},complete:function(t,e){var n=t.responseText&&t.responseText.trim();if(""===n||r.rhtml.test(n))switch(e){case"success":alert(r.GET_DATA_ERROR);break;case"error":alert(r.NET_ERROR);break;case"abort":break;default:console.log(e),this._error&&this._error.call(this,e)}else try{this._complete&&this._complete.call(this,JSON.parse(n))}catch(i){console.log(i)}}})}},getFullPath:function(t){var e=location.pathname.match(/(\/(?:\w+\/)*)(?:\w+)?/)[1];return[location.origin,e,t].join("")},getWxAuthPath:function(t){return"https://open.weixin.qq.com/connect/oauth2/authorize?appid="+this.wxAppId+"&redirect_uri="+encodeURIComponent(this.getFullPath(t))+"&response_type=code&scope=snsapi_base#wechat_redirect"},ModifyCommonUser:{ADD:"1",UPDATE:"2",DELETE:"3"},RegisterType:{REGISTER:"1",FETCH:"2",CHARGE:"3"},RegisterTypeMap:{1:"挂号",2:"取号",3:"缴费"},BusinessType:{REGISTER:"1",RESET_PASSWORD:"2",CASE_HISTORY:"3",RESERVE_RECORD:"4",SEE_REPORT:"5"},PayMethod:{TELE_FARE:"00",ONLINE_PAY:"01",UNION_WAP_PAY:"010",ALI_PAY:"02",WX_PAY:"03",OFFLINE_PAY:"05"},ChannelCode:{BD:"01",WX:"02",ALI:"03",YM:"04"},CardTypes:["医疗卡","医保卡"],ReportPrintStatus:["未打印","已打印","检测中"],Status:["已违约","已取消","取号/挂号成功","预约可取消","预约不可取消","可支付","预约成功","业务处理中/挂号处理中","挂号失败","已退号","历史挂号记录"],Weekdays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],SeeTimeStrings:["上午","中午","下午","夜晚","早班","全天"],NORMAL:"普通号",INFO_IMG_SRC:"http://cms.jiankang51.cn",COUNTDOWN_MINUTES:60};t.exports=i},function(t,e){String.prototype.startsWith||(String.prototype.startsWith=function(t){return this.slice(0,t.length)==t}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")})},,function(t,e){!function(t){t.fn.extend({alert:function(e,n,i){var r=t(this);r.find(".alert-window-info").text(e),n&&r.addClass("failed"),r.ajustToCenter().fadeIn(250),setTimeout(function(){r.fadeOut(250,function(){i&&i(),r.removeClass("failed")})},2e3)},ajustToCenter:function(){var e=t(this);return e.css({top:function(){return t("body").scrollTop()+t(window).height()/2-e.height()/2},margin:"0 auto"})},open:function(e,n,i){var r=t(this);return e&&r.find(".alert-title").text(e),n&&r.find(".alert-desc").text(n),r.show(),i&&"function"==typeof i&&i(),r},close:function(){return t(this).hide()},bindTouchHandler:function(e,n,i){var r={};return this.each(function(){var i=t(this),o=r.toString.call(e).match(/\[object (\w+)\]/)[1].toLowerCase(),a=/mobile|windows phone|ios|android/i.test(navigator.userAgent),s=a?"touchend":"click";if("object"===o)for(var l in e){var c=e[l];i.find(l).on(s,{$elem:i},c)}else"string"===o&&i.find(e).on(s,{$elem:i},n)}),this}})}(jQuery)},,,,function(t,e){t.exports={idnumAlike:function(t){return/(^\d{17}[\dxX]$)|(^\d{15}$)/.test(t)},isAdult:function(t){if(this.idnumAlike(t)){var e,n=/^\d{6}(\d{6})\d{3}$/,i=/^\d{6}(\d{8})[\dxX]{4}$/;if(e=18===t.length?t.match(i):t.match(n),e&&(e=e[1])){var r=new Date,o=18===t.length?e.slice(-8,-4):"19"+e.slice(-6,-4);return r.setDate(e.slice(-2)),r.setMonth(+e.slice(-4,-2)-1),r.setYear(+o+18),+r<=+new Date}}return!1},name:function(t,e){var n={flag:!1,msg:""};return t?/^[\u4e00-\u9fa5]{2,6}$/.test(t)?n.flag=!0:n.msg="用户姓名应为2-6个中文汉字":n.msg="用户姓名不得为空",e?n:n.flag},phone:function(t,e){var n={flag:!1,msg:""};return t?/^\d{11}$/.test(t)?n.flag=!0:n.msg="请输入有效手机号":n.msg="手机号不得为空",e?n:n.flag},idnum:function(t,e){var n={flag:!1,msg:""};if(t)if(/^\d{17}[\dxX]$/.test(t)){for(var i=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],r=[1,0,"x",9,8,7,6,5,4,3,2],o=0,a=0;17>a;a++)o+=i[a]*+t[a];t[17].toLowerCase()==r[o%11]?n.flag=!0:n.msg="请输入有效身份证号码"}else/^\d{15}$/.test(t)?n.flag=!0:n.msg="请输入有效身份证号码";else n.msg="身份证号不得为空";return e?n:n.flag},account:function(t,e){var n={flag:!1,msg:""};return this.idnumAlike(t)?this.idnum(t,e):(t?n.flag=!0:n.msg="账号不得为空",e?n:n.flag)},pwd:function(t,e){var n={flag:!1,msg:""};return t?/^.{6,30}$/.test(t)?n.flag=!0:n.msg="密码长度应为6-30":n.msg="密码不得为空",e?n:n.flag},confirm:function(t,e,n){var i={flag:!1,msg:""};return e&&(t?t!==e?i.msg="两次输入的密码不一致":i.flag=!0:i.msg="请再次输入登陆密码"),n?i:i.flag},code:function(t,e){var n={flag:!1,msg:""};return t?n.flag=!0:n.msg="短信验证码不得为空",e?n:n.flag},guarderIdnum:function(t,e){var n={flag:!1,msg:""};return t?this.isAdult(t)&&this.idnum(t)?n.flag=!0:n.msg="请输入有效监护人身份证号码":n.msg="监护人身份证不得为空",e?n:n.flag}}}]);